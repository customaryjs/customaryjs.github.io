
function $parcel$exportWildcard(dest, source) {
  Object.keys(source).forEach(function(key) {
    if (key === 'default' || key === '__esModule' || Object.prototype.hasOwnProperty.call(dest, key)) {
      return;
    }

    Object.defineProperty(dest, key, {
      enumerable: true,
      get: function get() {
        return source[key];
      }
    });
  });

  return dest;
}

function $parcel$export(e, n, v, s) {
  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});
}
var $ea14babfe644be71$exports = {};

$parcel$export($ea14babfe644be71$exports, "Customary", () => $b7d50751d22c9c51$export$7d556906c4a5f4a7);
$parcel$export($ea14babfe644be71$exports, "CustomaryElement", () => $826f93dc66b3cf65$export$4a183080d2c522d7);
class $85578581f704d63b$export$2bcc17fb5433cbbf {
    document;
    globalThis;
    constructor(document, globalThis){
        this.document = document;
        this.globalThis = globalThis;
    }
    detect() {
        return this.detectElementNames().map((name)=>this.detectDeclaration(name));
    }
    detectElementNames() {
        const attribute = 'data-customary-name';
        const fromDocument = [
            ...this.document.querySelectorAll(`template[${attribute}]`)
        ].map((template)=>template.getAttribute(attribute));
        const prefix = 'customary:';
        const fromGlobalScope = Object.keys(this.globalThis).filter((name)=>name.startsWith(prefix)).map((name)=>name.substring(prefix.length));
        return [
            ...new Set([
                ...fromDocument,
                ...fromGlobalScope
            ])
        ];
    }
    detectDeclaration(name) {
        const fromGlobalScope = this.globalThis[`customary:${name}`];
        const config = fromGlobalScope?.config;
        const hooks = fromGlobalScope?.hooks;
        const values = fromGlobalScope?.values ?? this.detectValues(name);
        return {
            name: name,
            ...config ? {
                config: config
            } : {},
            ...hooks ? {
                hooks: hooks
            } : {},
            ...values ? {
                values: values
            } : {}
        };
    }
    detectValues(name) {
        const elements = this.document.querySelectorAll(`script[type="application/json"][data-customary-name='${name}']`);
        if (elements.length === 0) return undefined;
        const result = {};
        for (const element of elements)if (element.textContent) {
            // TODO Require a key and retire default 'state'
            const key = element.getAttribute('data-customary-value') ?? 'state';
            result[key] = JSON.parse(element.textContent);
        }
        return result;
    }
}


function $182d5725a60cb319$export$3452ba782587c66f(constructor) {
    return $182d5725a60cb319$var$definition_property in constructor;
}
function $182d5725a60cb319$export$5c2b83001c88ec5b(constructor, definition) {
    constructor[$182d5725a60cb319$var$definition_property] = definition;
}
function $182d5725a60cb319$export$6dac8c184f86ad18(element) {
    const constructor = element.constructor;
    return constructor[$182d5725a60cb319$var$definition_property] ?? (()=>{
        throw new Error(`${constructor.name}: element never defined`);
    })();
}
const $182d5725a60cb319$var$definition_property = 'customary_definition';


class $01747c95a7b5a210$export$403d1949f253139e {
    fetchText;
    options;
    constructor(fetchText, options){
        this.fetchText = fetchText;
        this.options = options;
    }
    async loadHtml() {
        const location = this.resolveResourceLocation('html');
        return await this.fetchText.fetchText(location);
    }
    resolveResourceLocation(extension) {
        return $01747c95a7b5a210$export$de7ab7265d436fa0({
            import_meta: this.options.import_meta,
            name: this.options.name,
            extension: extension
        });
    }
}
function $01747c95a7b5a210$export$de7ab7265d436fa0(options) {
    return options.import_meta.resolve(`./${options.name}.${options.extension}`);
}


class $b3c66a46f5101323$var$FetchText_DOM {
    async fetchText(input) {
        const response = await fetch(input);
        if (response.ok) return await response.text();
        throw new Error(response.statusText, {
            cause: response
        });
    }
}
const $b3c66a46f5101323$export$d763ec234f19c958 = new $b3c66a46f5101323$var$FetchText_DOM();


function $1095e4fec24188a1$export$992aa6859e31245f(tag, value, template) {
    try {
        tag.outerHTML = value;
    } catch (error) {
        const chrome = "Failed to set the 'outerHTML' property on 'Element': This element's parent is of type '#document-fragment', which is not an element node.";
        if (error.message === chrome) template.innerHTML = template.innerHTML.replace(tag.outerHTML, value);
    }
}


function $943d45eed2450dd3$export$fef48429545ba792(markup) {
    return markup.replace(':', '\\:');
}


class $15f164e6b5a2d20f$export$8d09ee4c629fddff {
    static hydrate(template) {
        this.hydrateTree(template.content, template);
    }
    static hydrateTree(node, template) {
        while(true){
            const tag = node.querySelector((0, $943d45eed2450dd3$export$fef48429545ba792)($15f164e6b5a2d20f$var$for_markup));
            if (!tag) return;
            this.hydrateTree(tag, template);
            const items = tag.getAttribute('items') ?? (()=>{
                throw Error(`Attribute "items" is required for "${$15f164e6b5a2d20f$var$for_markup}" markup`);
            })();
            const value = tag.getAttribute('value') ?? 'value';
            const index = tag.getAttribute('index');
            const args = index ? `(${value}, ${index})` : value;
            const body = tag.innerHTML;
            const use_repeat_instead_of_map = true;
            const directive = use_repeat_instead_of_map ? `\${repeat(${items}??[], ${args} => customary_lit_html_track( html\`${body}\` ) )}` : `\${map(${items}, ${args} => customary_lit_html_track( html\`${body}\` ) )}`;
            (0, $1095e4fec24188a1$export$992aa6859e31245f)(tag, directive, template);
        }
    }
}
const $15f164e6b5a2d20f$var$for_markup = 'customary:for';




class $4b9549cefe5cc8d8$export$30142ff0bf8ef8b2 {
    static hydrate(template) {
        this.hydrateTree(template.content, template);
    }
    static hydrateTree(node, template) {
        while(true){
            const tag = node.querySelector((0, $943d45eed2450dd3$export$fef48429545ba792)($4b9549cefe5cc8d8$var$if_markup));
            if (!tag) return;
            this.hydrateTree(tag, template);
            const condition = tag.getAttribute('condition') ?? (()=>{
                throw Error(`Attribute "condition" is required for "${$4b9549cefe5cc8d8$var$if_markup}" markup`);
            })();
            const trueElements = [
                ...tag.querySelectorAll(`:scope > ${(0, $943d45eed2450dd3$export$fef48429545ba792)($4b9549cefe5cc8d8$var$true_markup)}`)
            ];
            if (trueElements.length > 1) throw Error(`Only one "${$4b9549cefe5cc8d8$var$true_markup}" is allowed for "${$4b9549cefe5cc8d8$var$if_markup}" markup`);
            const trueElement = trueElements[0];
            const falseElements = [
                ...tag.querySelectorAll(`:scope > ${(0, $943d45eed2450dd3$export$fef48429545ba792)($4b9549cefe5cc8d8$var$false_markup)}`)
            ];
            if (falseElements.length > 1) throw Error(`Only one "${$4b9549cefe5cc8d8$var$false_markup}" is allowed for "${$4b9549cefe5cc8d8$var$if_markup}" markup`);
            const falseElement = falseElements[0];
            if (falseElement && !trueElement) throw Error(`One "${$4b9549cefe5cc8d8$var$true_markup}" is required if "${$4b9549cefe5cc8d8$var$false_markup}" present for "${$4b9549cefe5cc8d8$var$if_markup}" markup`);
            const trueCase = `() => customary_lit_html_track( html\`${trueElement?.innerHTML ?? tag.innerHTML}\` )`;
            const falseCase = falseElement ? `, () => customary_lit_html_track( html\`${falseElement.innerHTML}\` )` : '';
            const directive = `\${when(${condition}, ${trueCase}${falseCase})}`;
            (0, $1095e4fec24188a1$export$992aa6859e31245f)(tag, directive, template);
        }
    }
}
const $4b9549cefe5cc8d8$var$if_markup = 'customary:if';
const $4b9549cefe5cc8d8$var$false_markup = 'customary:false';
const $4b9549cefe5cc8d8$var$true_markup = 'customary:true';



class $e5145f09e0e0cb92$export$e8d2d0d808af9c0f {
    static hydrate(template) {
        this.hydrateTree(template.content, template);
    }
    static hydrateTree(node, template) {
        while(true){
            const markup = node.querySelector((0, $943d45eed2450dd3$export$fef48429545ba792)($e5145f09e0e0cb92$var$inside_markup));
            if (!markup) return;
            this.hydrateTree(markup, template);
            const selectors = markup.getAttribute('target');
            if (!selectors) throw new Error(`Attribute "target" is required for "${$e5145f09e0e0cb92$var$inside_markup}" markup`);
            const target = node.querySelector(selectors);
            if (!target) throw new Error(`No element matching ${selectors}`);
            target.innerHTML = markup.innerHTML;
            markup.parentNode.removeChild(markup);
        }
    }
}
const $e5145f09e0e0cb92$var$inside_markup = 'customary:inside';


function $f32a1c3d02056bad$export$fef48429545ba792(markup) {
    return markup.replace(':', '\\:');
}


class $947f5bb51de99df2$export$9563c050217bc1e {
    static hydrate(template) {
        this.hydrateTree(template.content);
    }
    static hydrateTree(node) {
        while(true){
            const tag = node.querySelector((0, $f32a1c3d02056bad$export$fef48429545ba792)($947f5bb51de99df2$var$classMap_markup));
            if (!tag) return;
            this.hydrateTree(tag);
            const targetSelector = tag.getAttribute('target') ?? (()=>{
                throw Error(`Attribute "target" is required for "${$947f5bb51de99df2$var$classMap_markup}" markup`);
            })();
            const classInfo = tag.getAttribute('classInfo') ?? (()=>{
                throw Error(`Attribute "classInfo" is required for "${$947f5bb51de99df2$var$classMap_markup}" markup`);
            })();
            const target = node.querySelector(targetSelector);
            if (!target) throw Error(`Target element "${targetSelector}" not found for "${$947f5bb51de99df2$var$classMap_markup}" markup`);
            const existingClass = target.getAttribute('class');
            const classMapDirective = `\${classMap(${classInfo})}`;
            const newClass = (existingClass ? `${existingClass} ${classMapDirective}` : classMapDirective).trim();
            if (newClass) target.setAttribute('class', newClass);
            tag.remove();
        }
    }
}
const $947f5bb51de99df2$var$classMap_markup = 'customary:classMap';




class $2d7739f4c20b8a8a$export$19c1ebc334082502 {
    static hydrate(template) {
        this.hydrateTree(template.content, template);
    }
    static hydrateTree(node, template) {
        while(true){
            const tag = node.querySelector((0, $943d45eed2450dd3$export$fef48429545ba792)($2d7739f4c20b8a8a$var$switch_markup));
            if (!tag) return;
            this.hydrateTree(tag, template);
            const value = tag.getAttribute('value') ?? (()=>{
                throw Error(`Attribute "value" is required for "${$2d7739f4c20b8a8a$var$switch_markup}" markup`);
            })();
            const cases = this.toCases([
                ...tag.querySelectorAll(`:scope > ${(0, $943d45eed2450dd3$export$fef48429545ba792)($2d7739f4c20b8a8a$var$case_markup)}`)
            ]);
            const valueCases = cases.valueCases.join(',\n');
            const defaultCase = cases.defaultCase ? `,\n${cases.defaultCase}` : '';
            const directive = `\${choose(${value},\n[${valueCases}]${defaultCase})}`;
            (0, $1095e4fec24188a1$export$992aa6859e31245f)(tag, directive, template);
        }
    }
    static toCases(cases) {
        if (cases.length === 0) throw Error(`At least one "${$2d7739f4c20b8a8a$var$case_markup}" is required for "${$2d7739f4c20b8a8a$var$switch_markup}" markup`);
        const defaultElements = cases.filter((caseElement)=>!caseElement.hasAttribute('value'));
        if (defaultElements.length > 1) throw Error(`Only one default "${$2d7739f4c20b8a8a$var$case_markup}" is allowed for "${$2d7739f4c20b8a8a$var$switch_markup}" markup`);
        const defaultElement = defaultElements[0];
        const defaultCase = `() => customary_lit_html_track( html\`${defaultElement?.innerHTML}\` )`;
        const valueElements = cases.filter((caseElement)=>caseElement.hasAttribute('value'));
        const valueCases = valueElements.map((caseElement)=>{
            const value = caseElement.getAttribute('value');
            return `['${value}', () => customary_lit_html_track( html\`${caseElement.innerHTML}\` ) ]`;
        });
        return {
            valueCases: valueCases,
            defaultCase: defaultCase
        };
    }
}
const $2d7739f4c20b8a8a$var$switch_markup = 'customary:switch';
const $2d7739f4c20b8a8a$var$case_markup = 'customary:case';


class $3bb36fafb1df46c1$export$d2f740e6c972cdb4 {
    static injectProperties(constructor, propertyDeclaration, names) {
        if (!names.length) return;
        const properties = constructor.properties ??= {};
        for (const key of names){
            if (key in properties) throw new Error(`${key}: property already exists.`);
            properties[key] = propertyDeclaration;
        }
    }
}


class $33394abde4ccbef2$export$5168145dca66f61b {
    static addProperties(constructor, attributesDefinition) {
        (0, $3bb36fafb1df46c1$export$d2f740e6c972cdb4).injectProperties(constructor, {
            reflect: true
        }, attributesDefinition.attributes);
    }
}



class $c070a5b8075fa2ec$export$a9f1901adeec51a7 {
    static addProperties(constructor, declaration) {
        const fromDeclaration = declaration.config?.state ?? [];
        const fromLegacy = [
            'state'
        ];
        const names = [
            ...new Set([
                ...fromDeclaration,
                ...fromLegacy
            ])
        ];
        (0, $3bb36fafb1df46c1$export$d2f740e6c972cdb4).injectProperties(constructor, {
            state: true
        }, names);
    }
}



class $cd7d8a2459e5d20f$export$61ef374d05bfb1e {
    static addProperties(constructor, declaration) {
        const hooks = declaration.hooks?.properties;
        const hooksArray = hooks instanceof Array ? hooks : [];
        const hooksRecord = hooks && !(hooks instanceof Array) ? hooks : {};
        const fromArray = hooksArray.map((o)=>o.name);
        const fromRecord = Object.keys(hooksRecord);
        const names = [
            ...new Set([
                ...fromArray,
                ...fromRecord
            ])
        ];
        for (const key of names)(0, $3bb36fafb1df46c1$export$d2f740e6c972cdb4).injectProperties(constructor, hooksArray.find((value)=>value.name === key)?.propertyDeclaration ?? hooksRecord[key], [
            key
        ]);
    }
}


class $f43e665aade76dee$export$600185c43209b69f {
    static encodeExpressionPlaceholder({ type: type, tag: tag, name: name, data: data }) {
        const prefix = $f43e665aade76dee$var$TYPE_x_PREFIX[this.toExpressionType(name, type)];
        tag.setAttribute(`${prefix}${name}`, data);
    }
    static decodeExpressionPlaceholders(htmlString) {
        Object.entries($f43e665aade76dee$var$SYMBOL_x_PREFIX).forEach(([symbol, prefix])=>{
            htmlString = htmlString.replaceAll(prefix, symbol);
        });
        return htmlString;
    }
    static toExpressionType(name, s) {
        if (!s) return 'property';
        if (s === 'boolean' || s === 'event') return s;
        throw new Error(`Unknown expression type "${s}" for attribute "${name}"`);
    }
}
// lowercase because setAttribute would lowercase it regardless
const $f43e665aade76dee$var$LIT_BOOLEAN_ATTRIBUTE_EXPRESSION_PREFIX = '____lit_boolean_attribute_expression_prefix____';
const $f43e665aade76dee$var$LIT_EVENT_EXPRESSION_PREFIX = '____lit_event_expression_prefix____';
const $f43e665aade76dee$var$LIT_PROPERTY_EXPRESSION_PREFIX = '____lit_property_expression_prefix____';
const $f43e665aade76dee$var$TYPE_x_PREFIX = {
    'boolean': $f43e665aade76dee$var$LIT_BOOLEAN_ATTRIBUTE_EXPRESSION_PREFIX,
    'event': $f43e665aade76dee$var$LIT_EVENT_EXPRESSION_PREFIX,
    'property': $f43e665aade76dee$var$LIT_PROPERTY_EXPRESSION_PREFIX
};
const $f43e665aade76dee$var$SYMBOL_x_PREFIX = {
    '?': $f43e665aade76dee$var$LIT_BOOLEAN_ATTRIBUTE_EXPRESSION_PREFIX,
    '@': $f43e665aade76dee$var$LIT_EVENT_EXPRESSION_PREFIX,
    '.': $f43e665aade76dee$var$LIT_PROPERTY_EXPRESSION_PREFIX
};


class $0b7f44b46581f639$export$416e73b0bcc4c4c3 {
    static encodeExpressionPlaceholders(template) {
        const tags = template.content.querySelectorAll(`[${$0b7f44b46581f639$export$ab01fe353da9eec0}]`);
        for (const tag of tags){
            const binding = tag.getAttribute($0b7f44b46581f639$export$ab01fe353da9eec0);
            const type = tag.getAttribute('type');
            if (type === 'checkbox') (0, $f43e665aade76dee$export$600185c43209b69f).encodeExpressionPlaceholder({
                tag: tag,
                type: 'boolean',
                name: 'checked',
                data: "${" + `this.${binding}` + " === 'true'}"
            });
            else (0, $f43e665aade76dee$export$600185c43209b69f).encodeExpressionPlaceholder({
                tag: tag,
                name: 'value',
                data: "${" + `this.${binding}` + ' ?? null}'
            });
        }
    }
}
const $0b7f44b46581f639$export$ab01fe353da9eec0 = 'data-customary-bind';


function $39d578e3566a23f6$export$f531b3a8754a3eba({ config: config, template: template }) {
    const fromConfig = config?.attributes ?? [];
    const fromTemplate = template.getAttribute('data-customary-attributes')?.split(',').map((s)=>s.trim()) ?? [];
    return {
        attributes: [
            ...new Set([
                ...fromConfig,
                ...fromTemplate
            ])
        ]
    };
}



class $5624ab157a7497d2$export$13d98f3fe81ca8a4 {
    static encodeExpressionPlaceholders(template) {
        const tags = Array.from(template.content.querySelectorAll(`[${$5624ab157a7497d2$var$EXPRESSIONS_ATTRIBUTE}]`));
        for (const tag of tags){
            const attributeNames = tag.getAttributeNames();
            for (const attributeName of attributeNames)this.encodeExpressionPlaceholder(attributeName, tag);
            tag.removeAttribute($5624ab157a7497d2$var$EXPRESSIONS_ATTRIBUTE);
        }
    }
    static encodeExpressionPlaceholder(attributeName, tag) {
        if (!attributeName.startsWith($5624ab157a7497d2$var$EXPRESSION_NAME_ATTRIBUTE_PREFIX)) return;
        const ordinal = attributeName.substring($5624ab157a7497d2$var$EXPRESSION_NAME_ATTRIBUTE_PREFIX.length);
        const dataAttributeName = $5624ab157a7497d2$var$EXPRESSION_DATA_ATTRIBUTE_PREFIX + ordinal;
        const typeAttributeName = $5624ab157a7497d2$var$EXPRESSION_TYPE_ATTRIBUTE_PREFIX + ordinal;
        (0, $f43e665aade76dee$export$600185c43209b69f).encodeExpressionPlaceholder({
            tag: tag,
            name: tag.getAttribute(attributeName),
            data: tag.getAttribute(dataAttributeName),
            type: tag.getAttribute(typeAttributeName) ?? undefined
        });
        tag.removeAttribute(attributeName);
        tag.removeAttribute(dataAttributeName);
        tag.removeAttribute(typeAttributeName);
    }
}
const $5624ab157a7497d2$var$EXPRESSIONS_ATTRIBUTE = 'data-customary-expressions';
const $5624ab157a7497d2$var$EXPRESSION_NAME_ATTRIBUTE_PREFIX = 'data-customary-expression-name';
const $5624ab157a7497d2$var$EXPRESSION_DATA_ATTRIBUTE_PREFIX = 'data-customary-expression-data';
const $5624ab157a7497d2$var$EXPRESSION_TYPE_ATTRIBUTE_PREFIX = 'data-customary-expression-type';



class $adba5314d6668aaa$export$1d2219be11768641 {
    declaration;
    async define(constructor) {
        return await this.buildDefinition(constructor);
    }
    async buildDefinition(constructor) {
        const { template: template, templateInDocument: templateInDocument } = await this.resolveHTMLTemplateElement(this.name);
        const attributes = (0, $39d578e3566a23f6$export$f531b3a8754a3eba)({
            config: this.declaration.config,
            template: template
        });
        const customaryDefinition = {
            declaration: this.declaration,
            attributes: attributes,
            templateInDocument: !!templateInDocument,
            immutable_htmlString: this.getHtmlString(template)
        };
        $adba5314d6668aaa$export$1d2219be11768641.addProperties(constructor, customaryDefinition);
        return customaryDefinition;
    }
    async resolveHTMLTemplateElement(name) {
        try {
            const templateInDocument = $adba5314d6668aaa$var$findHTMLTemplateElement(name, document);
            if (templateInDocument) return {
                template: templateInDocument,
                templateInDocument: templateInDocument
            };
            const templateInExternalFile = await this.findHTMLTemplateElementInExternalFile(name);
            return {
                template: templateInExternalFile,
                templateInDocument: undefined
            };
        } catch (error) {
            const message = `${name}: template unresolvable from current page or external html`;
            async function unresolvable() {
                throw new Error(message, {
                    cause: error
                });
            }
            unresolvable();
            const templatePlaceholder = document.createElement('template');
            templatePlaceholder.innerHTML = `<span style="color: red; background: yellow">[${message}]</span>`;
            return {
                template: templatePlaceholder,
                templateInDocument: templatePlaceholder
            };
        }
    }
    static addProperties(constructor, customaryDefinition) {
        (0, $33394abde4ccbef2$export$5168145dca66f61b).addProperties(constructor, customaryDefinition.attributes);
        (0, $c070a5b8075fa2ec$export$a9f1901adeec51a7).addProperties(constructor, customaryDefinition.declaration);
        (0, $cd7d8a2459e5d20f$export$61ef374d05bfb1e).addProperties(constructor, customaryDefinition.declaration);
    }
    getHtmlString(template) {
        $adba5314d6668aaa$var$encodeExpressionPlaceholders(template);
        this.hydrateMarkup(template);
        const s = template.innerHTML;
        const s1 = $adba5314d6668aaa$var$decodeExpressionPlaceholders(s);
        return $adba5314d6668aaa$var$restoreArrowFunctionsEncodedByTemplateInnerHtml(s1);
    }
    hydrateMarkup(template) {
        (0, $15f164e6b5a2d20f$export$8d09ee4c629fddff).hydrate(template);
        (0, $4b9549cefe5cc8d8$export$30142ff0bf8ef8b2).hydrate(template);
        (0, $2d7739f4c20b8a8a$export$19c1ebc334082502).hydrate(template);
        (0, $947f5bb51de99df2$export$9563c050217bc1e).hydrate(template);
        // must be last to accommodate all others
        (0, $e5145f09e0e0cb92$export$e8d2d0d808af9c0f).hydrate(template);
    }
    async findHTMLTemplateElementInExternalFile(name) {
        const htmlString = await this.loadExternalHtml();
        const template = document.createElement('template');
        template.innerHTML = htmlString;
        return $adba5314d6668aaa$var$findHTMLTemplateElement(name, template.content) ?? template;
    }
    async loadExternalHtml() {
        try {
            return await (await this.externalLoader).loadHtml();
        } catch (error) {
            throw new Error('External html file out of reach.', {
                cause: error
            });
        }
    }
    constructor(declaration){
        this.declaration = declaration;
        this.name = declaration.name;
    }
    name;
    get externalLoader() {
        return this._externalLoader ??= $adba5314d6668aaa$var$createExternalLoader(this.fetchText, {
            name: this.name,
            import_meta: $adba5314d6668aaa$export$b822a0ad0f6e4c40(this.declaration)
        });
    }
    _externalLoader;
    get fetchText() {
        return this._fetchText ??= $adba5314d6668aaa$var$loadFetchText();
    }
    _fetchText;
}
async function $adba5314d6668aaa$var$createExternalLoader(fetchText, options) {
    return new (0, $01747c95a7b5a210$export$403d1949f253139e)(await fetchText, options);
}
async function $adba5314d6668aaa$var$loadFetchText() {
    return 0, $b3c66a46f5101323$export$d763ec234f19c958;
}
function $adba5314d6668aaa$var$findHTMLTemplateElement(name, node) {
    return node.querySelector(`template[data-customary-name='${name}']`) ?? undefined;
}
function $adba5314d6668aaa$var$encodeExpressionPlaceholders(template) {
    (0, $5624ab157a7497d2$export$13d98f3fe81ca8a4).encodeExpressionPlaceholders(template);
    (0, $0b7f44b46581f639$export$416e73b0bcc4c4c3).encodeExpressionPlaceholders(template);
}
function $adba5314d6668aaa$var$decodeExpressionPlaceholders(s1) {
    return (0, $f43e665aade76dee$export$600185c43209b69f).decodeExpressionPlaceholders(s1);
}
/**
 innerHTML encodes some characters used by lit directives,
 so we must decode them back into the HTML string.
 over time the need to do this should disappear,
 as we add directive markup for a larger number of lit directives.
 */ function $adba5314d6668aaa$var$restoreArrowFunctionsEncodedByTemplateInnerHtml(htmlString) {
    // lit directives expressed as arrow functions
    return htmlString.replaceAll('=&gt;', '=>');
}
function $adba5314d6668aaa$export$b822a0ad0f6e4c40(declaration) {
    return declaration.hooks?.externalLoader?.import_meta ?? (()=>{
        throw new Error(`${declaration.name}: Customary needs "import.meta" if the custom element template ` + 'is to be loaded from an external file. ' + '(document did not have a named template element, and an html string was not provided.)');
    })();
}
function $adba5314d6668aaa$export$68c38d987afcbfba(declaration) {
    return ((a)=>a.length > 0 ? a : undefined)([
        declaration.config?.define?.fontLocation,
        ...declaration.config?.define?.fontLocations ?? []
    ].filter((location)=>location != undefined));
}


const $74af7c6039b335a7$var$WAIT_TO_DEFINE_EVERYTHING_IN_THE_END = false;
class $74af7c6039b335a7$export$d37a9068d840d1de {
    dom_customElementRegistry;
    static singleton() {
        return $74af7c6039b335a7$export$d37a9068d840d1de.CustomaryRegistry_singleton;
    }
    async declare(constructor, declaration) {
        if (!declaration.name) throw new Error('A name must be provided to define a custom element.');
        if (!$74af7c6039b335a7$var$WAIT_TO_DEFINE_EVERYTHING_IN_THE_END) {
            await this.define(constructor, declaration);
            return;
        }
        this.declarations.set(constructor, declaration);
    }
    async settle() {
        if (!$74af7c6039b335a7$var$WAIT_TO_DEFINE_EVERYTHING_IN_THE_END) return;
        const entries = [
            ...this.declarations.entries()
        ];
        const promises = entries.map((entry)=>{
            const [constructor, declaration] = entry;
            return this.define(constructor, declaration);
        });
        await Promise.all(promises);
    }
    async untilDefined(constructor) {
        const name = constructor.customary?.name;
        if (name === undefined) throw new Error('Class must have the "customary" declaration with a "name" property.');
        return await this.dom_customElementRegistry.whenDefined(name);
    }
    async define(constructor, declaration) {
        if ((0, $182d5725a60cb319$export$3452ba782587c66f)(constructor)) {
            console.debug(`${constructor.name}: element already defined, skipping...`);
            return;
        }
        const definition = await new (0, $adba5314d6668aaa$export$1d2219be11768641)(declaration).define(constructor);
        (0, $182d5725a60cb319$export$5c2b83001c88ec5b)(constructor, definition);
        this.dom_customElementRegistry.define(declaration.name, constructor, declaration.hooks?.dom?.define?.options);
    }
    constructor(dom_customElementRegistry){
        this.dom_customElementRegistry = dom_customElementRegistry;
        this.declarations = new Map();
    }
    declarations;
    static CustomaryRegistry_singleton = new $74af7c6039b335a7$export$d37a9068d840d1de(customElements);
}


var $22072648c2076599$exports = {};

$parcel$export($22072648c2076599$exports, "LitElement", () => $d8017b7d940aed31$export$3f2f9f5909897157);
$parcel$export($22072648c2076599$exports, "html", () => $043e8b6e2f4c6258$export$c0bb0b647f701bb5);
$parcel$export($22072648c2076599$exports, "choose", () => $7f435eda1ff690a6$export$7877a478dd30fd3d);
$parcel$export($22072648c2076599$exports, "classMap", () => $621f734394807554$export$56cc687933817664);
$parcel$export($22072648c2076599$exports, "map", () => $2c561d96559b783f$export$871de8747c9eaa88);
$parcel$export($22072648c2076599$exports, "repeat", () => $640627e30f16b3eb$export$76d90c956114f2c2);
$parcel$export($22072648c2076599$exports, "when", () => $9929420fa4bc2e7a$export$a55877ca9db47377);
/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */ const $eb7bbf91ef859ce5$var$t = globalThis, $eb7bbf91ef859ce5$export$b4d10f6001c083c2 = $eb7bbf91ef859ce5$var$t.ShadowRoot && (void 0 === $eb7bbf91ef859ce5$var$t.ShadyCSS || $eb7bbf91ef859ce5$var$t.ShadyCSS.nativeShadow) && "adoptedStyleSheets" in Document.prototype && "replace" in CSSStyleSheet.prototype, $eb7bbf91ef859ce5$var$s = Symbol(), $eb7bbf91ef859ce5$var$o = new WeakMap;
class $eb7bbf91ef859ce5$export$505d1e8739bad805 {
    constructor(t, e, o){
        if (this._$cssResult$ = !0, o !== $eb7bbf91ef859ce5$var$s) throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");
        this.cssText = t, this.t = e;
    }
    get styleSheet() {
        let t = this.o;
        const s = this.t;
        if ($eb7bbf91ef859ce5$export$b4d10f6001c083c2 && void 0 === t) {
            const e = void 0 !== s && 1 === s.length;
            e && (t = $eb7bbf91ef859ce5$var$o.get(s)), void 0 === t && ((this.o = t = new CSSStyleSheet).replaceSync(this.cssText), e && $eb7bbf91ef859ce5$var$o.set(s, t));
        }
        return t;
    }
    toString() {
        return this.cssText;
    }
}
const $eb7bbf91ef859ce5$export$8d80f9cac07cdb3 = (t)=>new $eb7bbf91ef859ce5$export$505d1e8739bad805("string" == typeof t ? t : t + "", void 0, $eb7bbf91ef859ce5$var$s), $eb7bbf91ef859ce5$export$dbf350e5966cf602 = (t, ...e)=>{
    const o = 1 === t.length ? t[0] : e.reduce((e, s, o)=>e + ((t)=>{
            if (!0 === t._$cssResult$) return t.cssText;
            if ("number" == typeof t) return t;
            throw Error("Value passed to 'css' function must be a 'css' function result: " + t + ". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.");
        })(s) + t[o + 1], t[0]);
    return new $eb7bbf91ef859ce5$export$505d1e8739bad805(o, t, $eb7bbf91ef859ce5$var$s);
}, $eb7bbf91ef859ce5$export$2ca4a66ec4cecb90 = (s, o)=>{
    if ($eb7bbf91ef859ce5$export$b4d10f6001c083c2) s.adoptedStyleSheets = o.map((t)=>t instanceof CSSStyleSheet ? t : t.styleSheet);
    else for (const e of o){
        const o = document.createElement("style"), n = $eb7bbf91ef859ce5$var$t.litNonce;
        void 0 !== n && o.setAttribute("nonce", n), o.textContent = e.cssText, s.appendChild(o);
    }
}, $eb7bbf91ef859ce5$export$ee69dfd951e24778 = $eb7bbf91ef859ce5$export$b4d10f6001c083c2 ? (t)=>t : (t)=>t instanceof CSSStyleSheet ? ((t)=>{
        let e = "";
        for (const s of t.cssRules)e += s.cssText;
        return $eb7bbf91ef859ce5$export$8d80f9cac07cdb3(e);
    })(t) : t;


/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */ const { is: $9956f07b39314456$var$i, defineProperty: $9956f07b39314456$var$e, getOwnPropertyDescriptor: $9956f07b39314456$var$h, getOwnPropertyNames: $9956f07b39314456$var$r, getOwnPropertySymbols: $9956f07b39314456$var$o, getPrototypeOf: $9956f07b39314456$var$n } = Object, $9956f07b39314456$var$a = globalThis, $9956f07b39314456$var$c = $9956f07b39314456$var$a.trustedTypes, $9956f07b39314456$var$l = $9956f07b39314456$var$c ? $9956f07b39314456$var$c.emptyScript : "", $9956f07b39314456$var$p = $9956f07b39314456$var$a.reactiveElementPolyfillSupport, $9956f07b39314456$var$d = (t, s)=>t, $9956f07b39314456$export$7312b35fbf521afb = {
    toAttribute (t, s) {
        switch(s){
            case Boolean:
                t = t ? $9956f07b39314456$var$l : null;
                break;
            case Object:
            case Array:
                t = null == t ? t : JSON.stringify(t);
        }
        return t;
    },
    fromAttribute (t, s) {
        let i = t;
        switch(s){
            case Boolean:
                i = null !== t;
                break;
            case Number:
                i = null === t ? null : Number(t);
                break;
            case Object:
            case Array:
                try {
                    i = JSON.parse(t);
                } catch (t) {
                    i = null;
                }
        }
        return i;
    }
}, $9956f07b39314456$export$53a6892c50694894 = (t, s)=>!$9956f07b39314456$var$i(t, s), $9956f07b39314456$var$b = {
    attribute: !0,
    type: String,
    converter: $9956f07b39314456$export$7312b35fbf521afb,
    reflect: !1,
    useDefault: !1,
    hasChanged: $9956f07b39314456$export$53a6892c50694894
};
Symbol.metadata ??= Symbol("metadata"), $9956f07b39314456$var$a.litPropertyMetadata ??= new WeakMap;
class $9956f07b39314456$export$c7c07a37856565d extends HTMLElement {
    static addInitializer(t) {
        this._$Ei(), (this.l ??= []).push(t);
    }
    static get observedAttributes() {
        return this.finalize(), this._$Eh && [
            ...this._$Eh.keys()
        ];
    }
    static createProperty(t, s = $9956f07b39314456$var$b) {
        if (s.state && (s.attribute = !1), this._$Ei(), this.prototype.hasOwnProperty(t) && ((s = Object.create(s)).wrapped = !0), this.elementProperties.set(t, s), !s.noAccessor) {
            const i = Symbol(), h = this.getPropertyDescriptor(t, i, s);
            void 0 !== h && $9956f07b39314456$var$e(this.prototype, t, h);
        }
    }
    static getPropertyDescriptor(t, s, i) {
        const { get: e, set: r } = $9956f07b39314456$var$h(this.prototype, t) ?? {
            get () {
                return this[s];
            },
            set (t) {
                this[s] = t;
            }
        };
        return {
            get: e,
            set (s) {
                const h = e?.call(this);
                r?.call(this, s), this.requestUpdate(t, h, i);
            },
            configurable: !0,
            enumerable: !0
        };
    }
    static getPropertyOptions(t) {
        return this.elementProperties.get(t) ?? $9956f07b39314456$var$b;
    }
    static _$Ei() {
        if (this.hasOwnProperty($9956f07b39314456$var$d("elementProperties"))) return;
        const t = $9956f07b39314456$var$n(this);
        t.finalize(), void 0 !== t.l && (this.l = [
            ...t.l
        ]), this.elementProperties = new Map(t.elementProperties);
    }
    static finalize() {
        if (this.hasOwnProperty($9956f07b39314456$var$d("finalized"))) return;
        if (this.finalized = !0, this._$Ei(), this.hasOwnProperty($9956f07b39314456$var$d("properties"))) {
            const t = this.properties, s = [
                ...$9956f07b39314456$var$r(t),
                ...$9956f07b39314456$var$o(t)
            ];
            for (const i of s)this.createProperty(i, t[i]);
        }
        const t = this[Symbol.metadata];
        if (null !== t) {
            const s = litPropertyMetadata.get(t);
            if (void 0 !== s) for (const [t, i] of s)this.elementProperties.set(t, i);
        }
        this._$Eh = new Map;
        for (const [t, s] of this.elementProperties){
            const i = this._$Eu(t, s);
            void 0 !== i && this._$Eh.set(i, t);
        }
        this.elementStyles = this.finalizeStyles(this.styles);
    }
    static finalizeStyles(s) {
        const i = [];
        if (Array.isArray(s)) {
            const e = new Set(s.flat(1 / 0).reverse());
            for (const s of e)i.unshift((0, $eb7bbf91ef859ce5$export$ee69dfd951e24778)(s));
        } else void 0 !== s && i.push((0, $eb7bbf91ef859ce5$export$ee69dfd951e24778)(s));
        return i;
    }
    static _$Eu(t, s) {
        const i = s.attribute;
        return !1 === i ? void 0 : "string" == typeof i ? i : "string" == typeof t ? t.toLowerCase() : void 0;
    }
    constructor(){
        super(), this._$Ep = void 0, this.isUpdatePending = !1, this.hasUpdated = !1, this._$Em = null, this._$Ev();
    }
    _$Ev() {
        this._$ES = new Promise((t)=>this.enableUpdating = t), this._$AL = new Map, this._$E_(), this.requestUpdate(), this.constructor.l?.forEach((t)=>t(this));
    }
    addController(t) {
        (this._$EO ??= new Set).add(t), void 0 !== this.renderRoot && this.isConnected && t.hostConnected?.();
    }
    removeController(t) {
        this._$EO?.delete(t);
    }
    _$E_() {
        const t = new Map, s = this.constructor.elementProperties;
        for (const i of s.keys())this.hasOwnProperty(i) && (t.set(i, this[i]), delete this[i]);
        t.size > 0 && (this._$Ep = t);
    }
    createRenderRoot() {
        const t = this.shadowRoot ?? this.attachShadow(this.constructor.shadowRootOptions);
        return (0, $eb7bbf91ef859ce5$export$2ca4a66ec4cecb90)(t, this.constructor.elementStyles), t;
    }
    connectedCallback() {
        this.renderRoot ??= this.createRenderRoot(), this.enableUpdating(!0), this._$EO?.forEach((t)=>t.hostConnected?.());
    }
    enableUpdating(t) {}
    disconnectedCallback() {
        this._$EO?.forEach((t)=>t.hostDisconnected?.());
    }
    attributeChangedCallback(t, s, i) {
        this._$AK(t, i);
    }
    _$ET(t, s) {
        const i = this.constructor.elementProperties.get(t), e = this.constructor._$Eu(t, i);
        if (void 0 !== e && !0 === i.reflect) {
            const h = (void 0 !== i.converter?.toAttribute ? i.converter : $9956f07b39314456$export$7312b35fbf521afb).toAttribute(s, i.type);
            this._$Em = t, null == h ? this.removeAttribute(e) : this.setAttribute(e, h), this._$Em = null;
        }
    }
    _$AK(t, s) {
        const i = this.constructor, e = i._$Eh.get(t);
        if (void 0 !== e && this._$Em !== e) {
            const t = i.getPropertyOptions(e), h = "function" == typeof t.converter ? {
                fromAttribute: t.converter
            } : void 0 !== t.converter?.fromAttribute ? t.converter : $9956f07b39314456$export$7312b35fbf521afb;
            this._$Em = e, this[e] = h.fromAttribute(s, t.type) ?? this._$Ej?.get(e) ?? null, this._$Em = null;
        }
    }
    requestUpdate(t, s, i) {
        if (void 0 !== t) {
            const e = this.constructor, h = this[t];
            if (i ??= e.getPropertyOptions(t), !((i.hasChanged ?? $9956f07b39314456$export$53a6892c50694894)(h, s) || i.useDefault && i.reflect && h === this._$Ej?.get(t) && !this.hasAttribute(e._$Eu(t, i)))) return;
            this.C(t, s, i);
        }
        !1 === this.isUpdatePending && (this._$ES = this._$EP());
    }
    C(t, s, { useDefault: i, reflect: e, wrapped: h }, r) {
        i && !(this._$Ej ??= new Map).has(t) && (this._$Ej.set(t, r ?? s ?? this[t]), !0 !== h || void 0 !== r) || (this._$AL.has(t) || (this.hasUpdated || i || (s = void 0), this._$AL.set(t, s)), !0 === e && this._$Em !== t && (this._$Eq ??= new Set).add(t));
    }
    async _$EP() {
        this.isUpdatePending = !0;
        try {
            await this._$ES;
        } catch (t) {
            Promise.reject(t);
        }
        const t = this.scheduleUpdate();
        return null != t && await t, !this.isUpdatePending;
    }
    scheduleUpdate() {
        return this.performUpdate();
    }
    performUpdate() {
        if (!this.isUpdatePending) return;
        if (!this.hasUpdated) {
            if (this.renderRoot ??= this.createRenderRoot(), this._$Ep) {
                for (const [t, s] of this._$Ep)this[t] = s;
                this._$Ep = void 0;
            }
            const t = this.constructor.elementProperties;
            if (t.size > 0) for (const [s, i] of t){
                const { wrapped: t } = i, e = this[s];
                !0 !== t || this._$AL.has(s) || void 0 === e || this.C(s, void 0, i, e);
            }
        }
        let t = !1;
        const s = this._$AL;
        try {
            t = this.shouldUpdate(s), t ? (this.willUpdate(s), this._$EO?.forEach((t)=>t.hostUpdate?.()), this.update(s)) : this._$EM();
        } catch (s) {
            throw t = !1, this._$EM(), s;
        }
        t && this._$AE(s);
    }
    willUpdate(t) {}
    _$AE(t) {
        this._$EO?.forEach((t)=>t.hostUpdated?.()), this.hasUpdated || (this.hasUpdated = !0, this.firstUpdated(t)), this.updated(t);
    }
    _$EM() {
        this._$AL = new Map, this.isUpdatePending = !1;
    }
    get updateComplete() {
        return this.getUpdateComplete();
    }
    getUpdateComplete() {
        return this._$ES;
    }
    shouldUpdate(t) {
        return !0;
    }
    update(t) {
        this._$Eq &&= this._$Eq.forEach((t)=>this._$ET(t, this[t])), this._$EM();
    }
    updated(t) {}
    firstUpdated(t) {}
}
$9956f07b39314456$export$c7c07a37856565d.elementStyles = [], $9956f07b39314456$export$c7c07a37856565d.shadowRootOptions = {
    mode: "open"
}, $9956f07b39314456$export$c7c07a37856565d[$9956f07b39314456$var$d("elementProperties")] = new Map, $9956f07b39314456$export$c7c07a37856565d[$9956f07b39314456$var$d("finalized")] = new Map, $9956f07b39314456$var$p?.({
    ReactiveElement: $9956f07b39314456$export$c7c07a37856565d
}), ($9956f07b39314456$var$a.reactiveElementVersions ??= []).push("2.1.0");


/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */ const $043e8b6e2f4c6258$var$t = globalThis, $043e8b6e2f4c6258$var$i = $043e8b6e2f4c6258$var$t.trustedTypes, $043e8b6e2f4c6258$var$s = $043e8b6e2f4c6258$var$i ? $043e8b6e2f4c6258$var$i.createPolicy("lit-html", {
    createHTML: (t)=>t
}) : void 0, $043e8b6e2f4c6258$var$e = "$lit$", $043e8b6e2f4c6258$var$h = `lit$${Math.random().toFixed(9).slice(2)}$`, $043e8b6e2f4c6258$var$o = "?" + $043e8b6e2f4c6258$var$h, $043e8b6e2f4c6258$var$n = `<${$043e8b6e2f4c6258$var$o}>`, $043e8b6e2f4c6258$var$r = document, $043e8b6e2f4c6258$var$l = ()=>$043e8b6e2f4c6258$var$r.createComment(""), $043e8b6e2f4c6258$var$c = (t)=>null === t || "object" != typeof t && "function" != typeof t, $043e8b6e2f4c6258$var$a = Array.isArray, $043e8b6e2f4c6258$var$u = (t)=>$043e8b6e2f4c6258$var$a(t) || "function" == typeof t?.[Symbol.iterator], $043e8b6e2f4c6258$var$d = "[ \t\n\f\r]", $043e8b6e2f4c6258$var$f = /<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g, $043e8b6e2f4c6258$var$v = /-->/g, $043e8b6e2f4c6258$var$_ = />/g, $043e8b6e2f4c6258$var$m = RegExp(`>|${$043e8b6e2f4c6258$var$d}(?:([^\\s"'>=/]+)(${$043e8b6e2f4c6258$var$d}*=${$043e8b6e2f4c6258$var$d}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`, "g"), $043e8b6e2f4c6258$var$p = /'/g, $043e8b6e2f4c6258$var$g = /"/g, $043e8b6e2f4c6258$var$$ = /^(?:script|style|textarea|title)$/i, $043e8b6e2f4c6258$var$y = (t)=>(i, ...s)=>({
            _$litType$: t,
            strings: i,
            values: s
        }), $043e8b6e2f4c6258$export$c0bb0b647f701bb5 = $043e8b6e2f4c6258$var$y(1), $043e8b6e2f4c6258$export$7ed1367e7fa1ad68 = $043e8b6e2f4c6258$var$y(2), $043e8b6e2f4c6258$export$47d5b44d225be5b4 = $043e8b6e2f4c6258$var$y(3), $043e8b6e2f4c6258$export$9c068ae9cc5db4e8 = Symbol.for("lit-noChange"), $043e8b6e2f4c6258$export$45b790e32b2810ee = Symbol.for("lit-nothing"), $043e8b6e2f4c6258$var$A = new WeakMap, $043e8b6e2f4c6258$var$C = $043e8b6e2f4c6258$var$r.createTreeWalker($043e8b6e2f4c6258$var$r, 129);
function $043e8b6e2f4c6258$var$P(t, i) {
    if (!$043e8b6e2f4c6258$var$a(t) || !t.hasOwnProperty("raw")) throw Error("invalid template strings array");
    return void 0 !== $043e8b6e2f4c6258$var$s ? $043e8b6e2f4c6258$var$s.createHTML(i) : i;
}
const $043e8b6e2f4c6258$var$V = (t, i)=>{
    const s = t.length - 1, o = [];
    let r, l = 2 === i ? "<svg>" : 3 === i ? "<math>" : "", c = $043e8b6e2f4c6258$var$f;
    for(let i = 0; i < s; i++){
        const s = t[i];
        let a, u, d = -1, y = 0;
        for(; y < s.length && (c.lastIndex = y, u = c.exec(s), null !== u);)y = c.lastIndex, c === $043e8b6e2f4c6258$var$f ? "!--" === u[1] ? c = $043e8b6e2f4c6258$var$v : void 0 !== u[1] ? c = $043e8b6e2f4c6258$var$_ : void 0 !== u[2] ? ($043e8b6e2f4c6258$var$$.test(u[2]) && (r = RegExp("</" + u[2], "g")), c = $043e8b6e2f4c6258$var$m) : void 0 !== u[3] && (c = $043e8b6e2f4c6258$var$m) : c === $043e8b6e2f4c6258$var$m ? ">" === u[0] ? (c = r ?? $043e8b6e2f4c6258$var$f, d = -1) : void 0 === u[1] ? d = -2 : (d = c.lastIndex - u[2].length, a = u[1], c = void 0 === u[3] ? $043e8b6e2f4c6258$var$m : '"' === u[3] ? $043e8b6e2f4c6258$var$g : $043e8b6e2f4c6258$var$p) : c === $043e8b6e2f4c6258$var$g || c === $043e8b6e2f4c6258$var$p ? c = $043e8b6e2f4c6258$var$m : c === $043e8b6e2f4c6258$var$v || c === $043e8b6e2f4c6258$var$_ ? c = $043e8b6e2f4c6258$var$f : (c = $043e8b6e2f4c6258$var$m, r = void 0);
        const x = c === $043e8b6e2f4c6258$var$m && t[i + 1].startsWith("/>") ? " " : "";
        l += c === $043e8b6e2f4c6258$var$f ? s + $043e8b6e2f4c6258$var$n : d >= 0 ? (o.push(a), s.slice(0, d) + $043e8b6e2f4c6258$var$e + s.slice(d) + $043e8b6e2f4c6258$var$h + x) : s + $043e8b6e2f4c6258$var$h + (-2 === d ? i : x);
    }
    return [
        $043e8b6e2f4c6258$var$P(t, l + (t[s] || "<?>") + (2 === i ? "</svg>" : 3 === i ? "</math>" : "")),
        o
    ];
};
class $043e8b6e2f4c6258$var$N {
    constructor({ strings: t, _$litType$: s }, n){
        let r;
        this.parts = [];
        let c = 0, a = 0;
        const u = t.length - 1, d = this.parts, [f, v] = $043e8b6e2f4c6258$var$V(t, s);
        if (this.el = $043e8b6e2f4c6258$var$N.createElement(f, n), $043e8b6e2f4c6258$var$C.currentNode = this.el.content, 2 === s || 3 === s) {
            const t = this.el.content.firstChild;
            t.replaceWith(...t.childNodes);
        }
        for(; null !== (r = $043e8b6e2f4c6258$var$C.nextNode()) && d.length < u;){
            if (1 === r.nodeType) {
                if (r.hasAttributes()) for (const t of r.getAttributeNames())if (t.endsWith($043e8b6e2f4c6258$var$e)) {
                    const i = v[a++], s = r.getAttribute(t).split($043e8b6e2f4c6258$var$h), e = /([.?@])?(.*)/.exec(i);
                    d.push({
                        type: 1,
                        index: c,
                        name: e[2],
                        strings: s,
                        ctor: "." === e[1] ? $043e8b6e2f4c6258$var$H : "?" === e[1] ? $043e8b6e2f4c6258$var$I : "@" === e[1] ? $043e8b6e2f4c6258$var$L : $043e8b6e2f4c6258$var$k
                    }), r.removeAttribute(t);
                } else t.startsWith($043e8b6e2f4c6258$var$h) && (d.push({
                    type: 6,
                    index: c
                }), r.removeAttribute(t));
                if ($043e8b6e2f4c6258$var$$.test(r.tagName)) {
                    const t = r.textContent.split($043e8b6e2f4c6258$var$h), s = t.length - 1;
                    if (s > 0) {
                        r.textContent = $043e8b6e2f4c6258$var$i ? $043e8b6e2f4c6258$var$i.emptyScript : "";
                        for(let i = 0; i < s; i++)r.append(t[i], $043e8b6e2f4c6258$var$l()), $043e8b6e2f4c6258$var$C.nextNode(), d.push({
                            type: 2,
                            index: ++c
                        });
                        r.append(t[s], $043e8b6e2f4c6258$var$l());
                    }
                }
            } else if (8 === r.nodeType) {
                if (r.data === $043e8b6e2f4c6258$var$o) d.push({
                    type: 2,
                    index: c
                });
                else {
                    let t = -1;
                    for(; -1 !== (t = r.data.indexOf($043e8b6e2f4c6258$var$h, t + 1));)d.push({
                        type: 7,
                        index: c
                    }), t += $043e8b6e2f4c6258$var$h.length - 1;
                }
            }
            c++;
        }
    }
    static createElement(t, i) {
        const s = $043e8b6e2f4c6258$var$r.createElement("template");
        return s.innerHTML = t, s;
    }
}
function $043e8b6e2f4c6258$var$S(t, i, s = t, e) {
    if (i === $043e8b6e2f4c6258$export$9c068ae9cc5db4e8) return i;
    let h = void 0 !== e ? s._$Co?.[e] : s._$Cl;
    const o = $043e8b6e2f4c6258$var$c(i) ? void 0 : i._$litDirective$;
    return h?.constructor !== o && (h?._$AO?.(!1), void 0 === o ? h = void 0 : (h = new o(t), h._$AT(t, s, e)), void 0 !== e ? (s._$Co ??= [])[e] = h : s._$Cl = h), void 0 !== h && (i = $043e8b6e2f4c6258$var$S(t, h._$AS(t, i.values), h, e)), i;
}
class $043e8b6e2f4c6258$var$M {
    constructor(t, i){
        this._$AV = [], this._$AN = void 0, this._$AD = t, this._$AM = i;
    }
    get parentNode() {
        return this._$AM.parentNode;
    }
    get _$AU() {
        return this._$AM._$AU;
    }
    u(t) {
        const { el: { content: i }, parts: s } = this._$AD, e = (t?.creationScope ?? $043e8b6e2f4c6258$var$r).importNode(i, !0);
        $043e8b6e2f4c6258$var$C.currentNode = e;
        let h = $043e8b6e2f4c6258$var$C.nextNode(), o = 0, n = 0, l = s[0];
        for(; void 0 !== l;){
            if (o === l.index) {
                let i;
                2 === l.type ? i = new $043e8b6e2f4c6258$var$R(h, h.nextSibling, this, t) : 1 === l.type ? i = new l.ctor(h, l.name, l.strings, this, t) : 6 === l.type && (i = new $043e8b6e2f4c6258$var$z(h, this, t)), this._$AV.push(i), l = s[++n];
            }
            o !== l?.index && (h = $043e8b6e2f4c6258$var$C.nextNode(), o++);
        }
        return $043e8b6e2f4c6258$var$C.currentNode = $043e8b6e2f4c6258$var$r, e;
    }
    p(t) {
        let i = 0;
        for (const s of this._$AV)void 0 !== s && (void 0 !== s.strings ? (s._$AI(t, s, i), i += s.strings.length - 2) : s._$AI(t[i])), i++;
    }
}
class $043e8b6e2f4c6258$var$R {
    get _$AU() {
        return this._$AM?._$AU ?? this._$Cv;
    }
    constructor(t, i, s, e){
        this.type = 2, this._$AH = $043e8b6e2f4c6258$export$45b790e32b2810ee, this._$AN = void 0, this._$AA = t, this._$AB = i, this._$AM = s, this.options = e, this._$Cv = e?.isConnected ?? !0;
    }
    get parentNode() {
        let t = this._$AA.parentNode;
        const i = this._$AM;
        return void 0 !== i && 11 === t?.nodeType && (t = i.parentNode), t;
    }
    get startNode() {
        return this._$AA;
    }
    get endNode() {
        return this._$AB;
    }
    _$AI(t, i = this) {
        t = $043e8b6e2f4c6258$var$S(this, t, i), $043e8b6e2f4c6258$var$c(t) ? t === $043e8b6e2f4c6258$export$45b790e32b2810ee || null == t || "" === t ? (this._$AH !== $043e8b6e2f4c6258$export$45b790e32b2810ee && this._$AR(), this._$AH = $043e8b6e2f4c6258$export$45b790e32b2810ee) : t !== this._$AH && t !== $043e8b6e2f4c6258$export$9c068ae9cc5db4e8 && this._(t) : void 0 !== t._$litType$ ? this.$(t) : void 0 !== t.nodeType ? this.T(t) : $043e8b6e2f4c6258$var$u(t) ? this.k(t) : this._(t);
    }
    O(t) {
        return this._$AA.parentNode.insertBefore(t, this._$AB);
    }
    T(t) {
        this._$AH !== t && (this._$AR(), this._$AH = this.O(t));
    }
    _(t) {
        this._$AH !== $043e8b6e2f4c6258$export$45b790e32b2810ee && $043e8b6e2f4c6258$var$c(this._$AH) ? this._$AA.nextSibling.data = t : this.T($043e8b6e2f4c6258$var$r.createTextNode(t)), this._$AH = t;
    }
    $(t) {
        const { values: i, _$litType$: s } = t, e = "number" == typeof s ? this._$AC(t) : (void 0 === s.el && (s.el = $043e8b6e2f4c6258$var$N.createElement($043e8b6e2f4c6258$var$P(s.h, s.h[0]), this.options)), s);
        if (this._$AH?._$AD === e) this._$AH.p(i);
        else {
            const t = new $043e8b6e2f4c6258$var$M(e, this), s = t.u(this.options);
            t.p(i), this.T(s), this._$AH = t;
        }
    }
    _$AC(t) {
        let i = $043e8b6e2f4c6258$var$A.get(t.strings);
        return void 0 === i && $043e8b6e2f4c6258$var$A.set(t.strings, i = new $043e8b6e2f4c6258$var$N(t)), i;
    }
    k(t) {
        $043e8b6e2f4c6258$var$a(this._$AH) || (this._$AH = [], this._$AR());
        const i = this._$AH;
        let s, e = 0;
        for (const h of t)e === i.length ? i.push(s = new $043e8b6e2f4c6258$var$R(this.O($043e8b6e2f4c6258$var$l()), this.O($043e8b6e2f4c6258$var$l()), this, this.options)) : s = i[e], s._$AI(h), e++;
        e < i.length && (this._$AR(s && s._$AB.nextSibling, e), i.length = e);
    }
    _$AR(t = this._$AA.nextSibling, i) {
        for(this._$AP?.(!1, !0, i); t && t !== this._$AB;){
            const i = t.nextSibling;
            t.remove(), t = i;
        }
    }
    setConnected(t) {
        void 0 === this._$AM && (this._$Cv = t, this._$AP?.(t));
    }
}
class $043e8b6e2f4c6258$var$k {
    get tagName() {
        return this.element.tagName;
    }
    get _$AU() {
        return this._$AM._$AU;
    }
    constructor(t, i, s, e, h){
        this.type = 1, this._$AH = $043e8b6e2f4c6258$export$45b790e32b2810ee, this._$AN = void 0, this.element = t, this.name = i, this._$AM = e, this.options = h, s.length > 2 || "" !== s[0] || "" !== s[1] ? (this._$AH = Array(s.length - 1).fill(new String), this.strings = s) : this._$AH = $043e8b6e2f4c6258$export$45b790e32b2810ee;
    }
    _$AI(t, i = this, s, e) {
        const h = this.strings;
        let o = !1;
        if (void 0 === h) t = $043e8b6e2f4c6258$var$S(this, t, i, 0), o = !$043e8b6e2f4c6258$var$c(t) || t !== this._$AH && t !== $043e8b6e2f4c6258$export$9c068ae9cc5db4e8, o && (this._$AH = t);
        else {
            const e = t;
            let n, r;
            for(t = h[0], n = 0; n < h.length - 1; n++)r = $043e8b6e2f4c6258$var$S(this, e[s + n], i, n), r === $043e8b6e2f4c6258$export$9c068ae9cc5db4e8 && (r = this._$AH[n]), o ||= !$043e8b6e2f4c6258$var$c(r) || r !== this._$AH[n], r === $043e8b6e2f4c6258$export$45b790e32b2810ee ? t = $043e8b6e2f4c6258$export$45b790e32b2810ee : t !== $043e8b6e2f4c6258$export$45b790e32b2810ee && (t += (r ?? "") + h[n + 1]), this._$AH[n] = r;
        }
        o && !e && this.j(t);
    }
    j(t) {
        t === $043e8b6e2f4c6258$export$45b790e32b2810ee ? this.element.removeAttribute(this.name) : this.element.setAttribute(this.name, t ?? "");
    }
}
class $043e8b6e2f4c6258$var$H extends $043e8b6e2f4c6258$var$k {
    constructor(){
        super(...arguments), this.type = 3;
    }
    j(t) {
        this.element[this.name] = t === $043e8b6e2f4c6258$export$45b790e32b2810ee ? void 0 : t;
    }
}
class $043e8b6e2f4c6258$var$I extends $043e8b6e2f4c6258$var$k {
    constructor(){
        super(...arguments), this.type = 4;
    }
    j(t) {
        this.element.toggleAttribute(this.name, !!t && t !== $043e8b6e2f4c6258$export$45b790e32b2810ee);
    }
}
class $043e8b6e2f4c6258$var$L extends $043e8b6e2f4c6258$var$k {
    constructor(t, i, s, e, h){
        super(t, i, s, e, h), this.type = 5;
    }
    _$AI(t, i = this) {
        if ((t = $043e8b6e2f4c6258$var$S(this, t, i, 0) ?? $043e8b6e2f4c6258$export$45b790e32b2810ee) === $043e8b6e2f4c6258$export$9c068ae9cc5db4e8) return;
        const s = this._$AH, e = t === $043e8b6e2f4c6258$export$45b790e32b2810ee && s !== $043e8b6e2f4c6258$export$45b790e32b2810ee || t.capture !== s.capture || t.once !== s.once || t.passive !== s.passive, h = t !== $043e8b6e2f4c6258$export$45b790e32b2810ee && (s === $043e8b6e2f4c6258$export$45b790e32b2810ee || e);
        e && this.element.removeEventListener(this.name, this, s), h && this.element.addEventListener(this.name, this, t), this._$AH = t;
    }
    handleEvent(t) {
        "function" == typeof this._$AH ? this._$AH.call(this.options?.host ?? this.element, t) : this._$AH.handleEvent(t);
    }
}
class $043e8b6e2f4c6258$var$z {
    constructor(t, i, s){
        this.element = t, this.type = 6, this._$AN = void 0, this._$AM = i, this.options = s;
    }
    get _$AU() {
        return this._$AM._$AU;
    }
    _$AI(t) {
        $043e8b6e2f4c6258$var$S(this, t);
    }
}
const $043e8b6e2f4c6258$export$8613d1ca9052b22e = {
    M: $043e8b6e2f4c6258$var$e,
    P: $043e8b6e2f4c6258$var$h,
    A: $043e8b6e2f4c6258$var$o,
    C: 1,
    L: $043e8b6e2f4c6258$var$V,
    R: $043e8b6e2f4c6258$var$M,
    D: $043e8b6e2f4c6258$var$u,
    V: $043e8b6e2f4c6258$var$S,
    I: $043e8b6e2f4c6258$var$R,
    H: $043e8b6e2f4c6258$var$k,
    N: $043e8b6e2f4c6258$var$I,
    U: $043e8b6e2f4c6258$var$L,
    B: $043e8b6e2f4c6258$var$H,
    F: $043e8b6e2f4c6258$var$z
}, $043e8b6e2f4c6258$var$j = $043e8b6e2f4c6258$var$t.litHtmlPolyfillSupport;
$043e8b6e2f4c6258$var$j?.($043e8b6e2f4c6258$var$N, $043e8b6e2f4c6258$var$R), ($043e8b6e2f4c6258$var$t.litHtmlVersions ??= []).push("3.3.0");
const $043e8b6e2f4c6258$export$b3890eb0ae9dca99 = (t, i, s)=>{
    const e = s?.renderBefore ?? i;
    let h = e._$litPart$;
    if (void 0 === h) {
        const t = s?.renderBefore ?? null;
        e._$litPart$ = h = new $043e8b6e2f4c6258$var$R(i.insertBefore($043e8b6e2f4c6258$var$l(), t), t, void 0, s ?? {});
    }
    return h._$AI(t), h;
};


/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */ const $d8017b7d940aed31$var$s = globalThis;
class $d8017b7d940aed31$export$3f2f9f5909897157 extends (0, $9956f07b39314456$export$c7c07a37856565d) {
    constructor(){
        super(...arguments), this.renderOptions = {
            host: this
        }, this._$Do = void 0;
    }
    createRenderRoot() {
        const t = super.createRenderRoot();
        return this.renderOptions.renderBefore ??= t.firstChild, t;
    }
    update(t) {
        const r = this.render();
        this.hasUpdated || (this.renderOptions.isConnected = this.isConnected), super.update(t), this._$Do = (0, $043e8b6e2f4c6258$export$b3890eb0ae9dca99)(r, this.renderRoot, this.renderOptions);
    }
    connectedCallback() {
        super.connectedCallback(), this._$Do?.setConnected(!0);
    }
    disconnectedCallback() {
        super.disconnectedCallback(), this._$Do?.setConnected(!1);
    }
    render() {
        return 0, $043e8b6e2f4c6258$export$9c068ae9cc5db4e8;
    }
}
$d8017b7d940aed31$export$3f2f9f5909897157._$litElement$ = !0, $d8017b7d940aed31$export$3f2f9f5909897157["finalized"] = !0, $d8017b7d940aed31$var$s.litElementHydrateSupport?.({
    LitElement: $d8017b7d940aed31$export$3f2f9f5909897157
});
const $d8017b7d940aed31$var$o = $d8017b7d940aed31$var$s.litElementPolyfillSupport;
$d8017b7d940aed31$var$o?.({
    LitElement: $d8017b7d940aed31$export$3f2f9f5909897157
});
const $d8017b7d940aed31$export$f5c524615a7708d6 = {
    _$AK: (t, e, r)=>{
        t._$AK(e, r);
    },
    _$AL: (t)=>t._$AL
};
($d8017b7d940aed31$var$s.litElementVersions ??= []).push("4.2.0");



/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */ const $7f435eda1ff690a6$export$7877a478dd30fd3d = (r, o, t)=>{
    for (const t of o)if (t[0] === r) return (0, t[1])();
    return t?.();
};



/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */ const $0fe4d4ee1d37c783$export$9ba3b3f20a85bfa = {
    ATTRIBUTE: 1,
    CHILD: 2,
    PROPERTY: 3,
    BOOLEAN_ATTRIBUTE: 4,
    EVENT: 5,
    ELEMENT: 6
}, $0fe4d4ee1d37c783$export$99b43ad1ed32e735 = (t)=>(...e)=>({
            _$litDirective$: t,
            values: e
        });
class $0fe4d4ee1d37c783$export$befdefbdce210f91 {
    constructor(t){}
    get _$AU() {
        return this._$AM._$AU;
    }
    _$AT(t, e, i) {
        this._$Ct = t, this._$AM = e, this._$Ci = i;
    }
    _$AS(t, e) {
        return this.update(t, e);
    }
    update(t, e) {
        return this.render(...e);
    }
}


/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */ const $621f734394807554$export$56cc687933817664 = (0, $0fe4d4ee1d37c783$export$99b43ad1ed32e735)(class extends (0, $0fe4d4ee1d37c783$export$befdefbdce210f91) {
    constructor(t){
        if (super(t), t.type !== (0, $0fe4d4ee1d37c783$export$9ba3b3f20a85bfa).ATTRIBUTE || "class" !== t.name || t.strings?.length > 2) throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.");
    }
    render(t) {
        return " " + Object.keys(t).filter((s)=>t[s]).join(" ") + " ";
    }
    update(s, [i]) {
        if (void 0 === this.st) {
            this.st = new Set, void 0 !== s.strings && (this.nt = new Set(s.strings.join(" ").split(/\s/).filter((t)=>"" !== t)));
            for(const t in i)i[t] && !this.nt?.has(t) && this.st.add(t);
            return this.render(i);
        }
        const r = s.element.classList;
        for (const t of this.st)t in i || (r.remove(t), this.st.delete(t));
        for(const t in i){
            const s = !!i[t];
            s === this.st.has(t) || this.nt?.has(t) || (s ? (r.add(t), this.st.add(t)) : (r.remove(t), this.st.delete(t)));
        }
        return 0, $043e8b6e2f4c6258$export$9c068ae9cc5db4e8;
    }
});


/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */ function* $2c561d96559b783f$export$871de8747c9eaa88(o, f) {
    if (void 0 !== o) {
        let i = 0;
        for (const t of o)yield f(t, i++);
    }
}





/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */ const { I: $99ba6495ab3926af$var$t } = (0, $043e8b6e2f4c6258$export$8613d1ca9052b22e), $99ba6495ab3926af$export$c3825b437cbdea5c = (o)=>null === o || "object" != typeof o && "function" != typeof o, $99ba6495ab3926af$export$80c36ae3cab9881d = {
    HTML: 1,
    SVG: 2,
    MATHML: 3
}, $99ba6495ab3926af$export$6b6d145ec2a44ca9 = (o, t)=>void 0 === t ? void 0 !== o?._$litType$ : o?._$litType$ === t, $99ba6495ab3926af$export$6a0e8de894d2fcca = (o)=>null != o?._$litType$?.h, $99ba6495ab3926af$export$2f448fec17d50a3e = (o)=>void 0 !== o?._$litDirective$, $99ba6495ab3926af$export$f28e31de6a6eaf32 = (o)=>o?._$litDirective$, $99ba6495ab3926af$export$7f431ad0fff82fd9 = (o)=>void 0 === o.strings, $99ba6495ab3926af$var$s = ()=>document.createComment(""), $99ba6495ab3926af$export$291b2338ad9b0b30 = (o, i, n)=>{
    const e = o._$AA.parentNode, l = void 0 === i ? o._$AB : i._$AA;
    if (void 0 === n) {
        const i = e.insertBefore($99ba6495ab3926af$var$s(), l), c = e.insertBefore($99ba6495ab3926af$var$s(), l);
        n = new $99ba6495ab3926af$var$t(i, c, o, o.options);
    } else {
        const t = n._$AB.nextSibling, i = n._$AM, c = i !== o;
        if (c) {
            let t;
            n._$AQ?.(o), n._$AM = o, void 0 !== n._$AP && (t = o._$AU) !== i._$AU && n._$AP(t);
        }
        if (t !== l || c) {
            let o = n._$AA;
            for(; o !== t;){
                const t = o.nextSibling;
                e.insertBefore(o, l), o = t;
            }
        }
    }
    return n;
}, $99ba6495ab3926af$export$cb8bf9562088e9f4 = (o, t, i = o)=>(o._$AI(t, i), o), $99ba6495ab3926af$var$u = {}, $99ba6495ab3926af$export$ea70d9dd5965b1c8 = (o, t = $99ba6495ab3926af$var$u)=>o._$AH = t, $99ba6495ab3926af$export$59e9bce518cde500 = (o)=>o._$AH, $99ba6495ab3926af$export$3133b3144bbba267 = (o)=>{
    o._$AP?.(!1, !0);
    let t = o._$AA;
    const i = o._$AB.nextSibling;
    for(; t !== i;){
        const o = t.nextSibling;
        t.remove(), t = o;
    }
}, $99ba6495ab3926af$export$7f600b8138c094dc = (o)=>{
    o._$AR();
};


/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */ const $640627e30f16b3eb$var$u = (e, s, t)=>{
    const r = new Map;
    for(let l = s; l <= t; l++)r.set(e[l], l);
    return r;
}, $640627e30f16b3eb$export$76d90c956114f2c2 = (0, $0fe4d4ee1d37c783$export$99b43ad1ed32e735)(class extends (0, $0fe4d4ee1d37c783$export$befdefbdce210f91) {
    constructor(e){
        if (super(e), e.type !== (0, $0fe4d4ee1d37c783$export$9ba3b3f20a85bfa).CHILD) throw Error("repeat() can only be used in text expressions");
    }
    dt(e, s, t) {
        let r;
        void 0 === t ? t = s : void 0 !== s && (r = s);
        const l = [], o = [];
        let i = 0;
        for (const s of e)l[i] = r ? r(s, i) : i, o[i] = t(s, i), i++;
        return {
            values: o,
            keys: l
        };
    }
    render(e, s, t) {
        return this.dt(e, s, t).values;
    }
    update(s, [t, r, c]) {
        const d = (0, $99ba6495ab3926af$export$59e9bce518cde500)(s), { values: p, keys: a } = this.dt(t, r, c);
        if (!Array.isArray(d)) return this.ut = a, p;
        const h = this.ut ??= [], v = [];
        let m, y, x = 0, j = d.length - 1, k = 0, w = p.length - 1;
        for(; x <= j && k <= w;)if (null === d[x]) x++;
        else if (null === d[j]) j--;
        else if (h[x] === a[k]) v[k] = (0, $99ba6495ab3926af$export$cb8bf9562088e9f4)(d[x], p[k]), x++, k++;
        else if (h[j] === a[w]) v[w] = (0, $99ba6495ab3926af$export$cb8bf9562088e9f4)(d[j], p[w]), j--, w--;
        else if (h[x] === a[w]) v[w] = (0, $99ba6495ab3926af$export$cb8bf9562088e9f4)(d[x], p[w]), (0, $99ba6495ab3926af$export$291b2338ad9b0b30)(s, v[w + 1], d[x]), x++, w--;
        else if (h[j] === a[k]) v[k] = (0, $99ba6495ab3926af$export$cb8bf9562088e9f4)(d[j], p[k]), (0, $99ba6495ab3926af$export$291b2338ad9b0b30)(s, d[x], d[j]), j--, k++;
        else if (void 0 === m && (m = $640627e30f16b3eb$var$u(a, k, w), y = $640627e30f16b3eb$var$u(h, x, j)), m.has(h[x])) {
            if (m.has(h[j])) {
                const e = y.get(a[k]), t = void 0 !== e ? d[e] : null;
                if (null === t) {
                    const e = (0, $99ba6495ab3926af$export$291b2338ad9b0b30)(s, d[x]);
                    (0, $99ba6495ab3926af$export$cb8bf9562088e9f4)(e, p[k]), v[k] = e;
                } else v[k] = (0, $99ba6495ab3926af$export$cb8bf9562088e9f4)(t, p[k]), (0, $99ba6495ab3926af$export$291b2338ad9b0b30)(s, d[x], t), d[e] = null;
                k++;
            } else (0, $99ba6495ab3926af$export$3133b3144bbba267)(d[j]), j--;
        } else (0, $99ba6495ab3926af$export$3133b3144bbba267)(d[x]), x++;
        for(; k <= w;){
            const e = (0, $99ba6495ab3926af$export$291b2338ad9b0b30)(s, v[w + 1]);
            (0, $99ba6495ab3926af$export$cb8bf9562088e9f4)(e, p[k]), v[k++] = e;
        }
        for(; x <= j;){
            const e = d[x++];
            null !== e && (0, $99ba6495ab3926af$export$3133b3144bbba267)(e);
        }
        return this.ut = a, (0, $99ba6495ab3926af$export$ea70d9dd5965b1c8)(s, v), $043e8b6e2f4c6258$export$9c068ae9cc5db4e8;
    }
});


/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */ function $9929420fa4bc2e7a$export$a55877ca9db47377(n, r, t) {
    return n ? r(n) : t?.(n);
}






class $199476e5eede90cb$export$7e07316e524f5d42 {
    options;
    constructor(options){
        this.options = options;
    }
    execute() {
        const { customElement: customElement, listener: listener } = this.options;
        const selector = this.options.selector;
        const type = this.options.type ?? $199476e5eede90cb$var$DEFAULT_EVENT_TYPE;
        if (!selector) {
            customElement.addEventListener(type, (event)=>listener(customElement, event, event.target));
            return;
        }
        customElement.addEventListener(type, (event)=>this.doIfEventDelegationMatches(event, selector, listener, customElement));
    }
    doIfEventDelegationMatches(event, selector, listener, customElement) {
        const composedPath = event.composedPath();
        const target = composedPath[0];
        const matchesEventDelegation = target instanceof Element ? !!target.closest(selector) : false;
        if (matchesEventDelegation) listener(customElement, event, target);
    }
}
const $199476e5eede90cb$var$DEFAULT_EVENT_TYPE = 'click';


function $34c4b2c98e9955bd$export$4d4476bb810e9591(customElement) {
    const definition = (0, $182d5725a60cb319$export$6dac8c184f86ad18)(customElement);
    const attributes = definition.attributes.attributes;
    if (!attributes) return;
    for (const attribute of attributes)new (0, $199476e5eede90cb$export$7e07316e524f5d42)({
        customElement: customElement,
        selector: `[${(0, $0b7f44b46581f639$export$ab01fe353da9eec0)}="${attribute}"]`,
        type: 'input',
        listener: (el, e)=>$34c4b2c98e9955bd$var$matchAttributeToInput(el, attribute, e)
    }).execute();
}
function $34c4b2c98e9955bd$var$matchAttributeToInput(element, attribute, e) {
    const input = e.composedPath()[0];
    element[attribute] = input.type === 'checkbox' ? input.checked ? 'true' : 'false' : input.value;
}




function $01a8ffeaf57070d0$export$40a4ed63e5cb7043(customElement) {
    const definition = (0, $182d5725a60cb319$export$6dac8c184f86ad18)(customElement);
    const events = definition.declaration.hooks?.events;
    if (!events) return;
    const ops = events instanceof Array ? $01a8ffeaf57070d0$var$eventsArrayToOps(customElement, events) : $01a8ffeaf57070d0$var$eventsRecordToOps(customElement, events);
    for (const op of ops)op.execute();
}
function $01a8ffeaf57070d0$var$eventsArrayToOps(customElement, events) {
    return events.map((customaryEvent)=>new (0, $199476e5eede90cb$export$7e07316e524f5d42)({
            customElement: customElement,
            selector: customaryEvent.selector,
            type: customaryEvent.type,
            listener: customaryEvent.listener
        }));
}
function $01a8ffeaf57070d0$var$eventsRecordToOps(customElement, events) {
    return Object.entries(events).map(([selector, listener])=>new (0, $199476e5eede90cb$export$7e07316e524f5d42)({
            customElement: customElement,
            selector: selector,
            type: undefined,
            listener: listener
        }));
}





function $aa4d6f06785c18b6$export$3bf0fa7e728730a3(superClass) {
    class Mixin_adoptStyleSheet_Class extends superClass {
        // noinspection JSUnusedGlobalSymbols
        connectedCallback() {
            super.connectedCallback?.();
            const definition = (0, $182d5725a60cb319$export$6dac8c184f86ad18)(this);
            this.link_external_css(definition);
            this.link_fonts(definition);
        }
        link_external_css(definition) {
            if (definition.templateInDocument) return;
            const declaration = definition.declaration;
            if (declaration.hooks?.externalLoader?.css_dont) return;
            const import_meta = (0, $adba5314d6668aaa$export$b822a0ad0f6e4c40)(declaration);
            const name = declaration.name;
            const location = (0, $01747c95a7b5a210$export$de7ab7265d436fa0)({
                import_meta: import_meta,
                name: name,
                extension: 'css'
            });
            const shadowRoot = $aa4d6f06785c18b6$var$findNearestShadowRoot(this);
            $aa4d6f06785c18b6$var$appendLinkElement(shadowRoot || document, {
                href: location,
                id: name
            });
        }
        /**
		 * adopter of font stylesheets can only be the root document dom, not the shadow dom.
		 * @see https://github.com/microsoft/vscode/issues/159877#issuecomment-1262843952
		 * @see https://github.com/mdn/interactive-examples/issues/887#issuecomment-432606925
		 */ link_fonts(definition) {
            const declaration = definition.declaration;
            const locations = (0, $adba5314d6668aaa$export$68c38d987afcbfba)(declaration);
            if (!locations) return;
            for (const location of locations)$aa4d6f06785c18b6$var$appendLinkElement(document, {
                href: location,
                id: `customary-fontLocation-${location}`
            });
        }
    }
    return Mixin_adoptStyleSheet_Class;
}
function $aa4d6f06785c18b6$var$appendLinkElement(host, options) {
    const id = options.id;
    const exists = host instanceof ShadowRoot ? host.getElementById(id) : host.getElementById(id);
    if (exists) return;
    const node = host instanceof ShadowRoot ? host : host.head;
    const linkElement = document.createElement('link');
    linkElement.href = options.href;
    linkElement.id = id;
    linkElement.rel = 'stylesheet';
    linkElement.type = 'text/css';
    node.appendChild(linkElement);
}
function $aa4d6f06785c18b6$var$findNearestShadowRoot(element) {
    if (element.shadowRoot) return element.shadowRoot;
    let parentNode = element.parentNode;
    while(parentNode){
        if (parentNode instanceof ShadowRoot) return parentNode;
        parentNode = parentNode.parentNode;
    }
    return null;
}



function $65d367a529d08fc3$export$38b25fab905694b5(superClass) {
    class Mixin_attributeChangedCallback_Class extends superClass {
        // noinspection JSUnusedGlobalSymbols
        attributeChangedCallback(name, oldValue, newValue) {
            super.attributeChangedCallback(name, oldValue, newValue);
            const definition = (0, $182d5725a60cb319$export$6dac8c184f86ad18)(this);
            definition.declaration.hooks?.dom?.attributeChangedCallback?.(this, name, oldValue, newValue);
        }
    }
    return Mixin_attributeChangedCallback_Class;
}



function $0dcb934e395c9eef$export$6137f2e9b4e74d2f(element) {
    const definition = (0, $182d5725a60cb319$export$6dac8c184f86ad18)(element);
    definition.declaration.hooks?.lifecycle?.connected?.(element);
}



function $446230b99bcb51dd$export$2cfc5030c386ebbd(superClass) {
    class Mixin_disconnected_Class extends superClass {
        // noinspection JSUnusedGlobalSymbols
        disconnectedCallback() {
            super.disconnectedCallback?.();
            const definition = (0, $182d5725a60cb319$export$6dac8c184f86ad18)(this);
            definition.declaration.hooks?.lifecycle?.disconnected?.(this);
        }
    }
    return Mixin_disconnected_Class;
}



function $f4c8feae14321e58$export$768be97ad3d2f262(superClass) {
    class Mixin_firstUpdated_Class extends superClass {
        // noinspection JSUnusedGlobalSymbols
        firstUpdated(changedProperties) {
            super.firstUpdated?.(changedProperties);
            const definition = (0, $182d5725a60cb319$export$6dac8c184f86ad18)(this);
            const { lifecycle: lifecycle, changes: changes } = definition.declaration.hooks ?? {};
            lifecycle?.firstUpdated?.(this, changedProperties);
            if (changes instanceof Array) for (const change of changes){
                const { name: name, firstUpdated: firstUpdated } = change;
                if (firstUpdated && changedProperties.has(name)) firstUpdated(this, this[name], changedProperties.get(name));
            }
        }
    }
    return Mixin_firstUpdated_Class;
}



/**
 * https://github.com/lit/lit/blob/43c6168acc4a30d70091ee30c307f692a02387d5/packages/lit-html/src/lit-html.ts#L688
 * https://github.com/lit/lit/blob/43c6168acc4a30d70091ee30c307f692a02387d5/packages/lit-html/src/test/lit-html_test.ts#L3200-L3218
 * https://github.com/lit/lit/pull/3987/files#diff-bead45bb43cda474d916704550a1b26322667aa42b814c48300b05be79b9a7ebR595
 * https://github.com/lit/lit/pull/2307/files#diff-91d82786d99da1716b8b2e02534f0e967e9b7f2f539acb7b712f6900094b6263
 */ const $7c0f520d9cef3176$var$KEY = '__customary__immutable_TemplateStringsArray_instances';
function $7c0f520d9cef3176$export$75299ef9530cddf3(element, template) {
    const immutables = element[$7c0f520d9cef3176$var$KEY];
    if (!immutables) {
        element[$7c0f520d9cef3176$var$KEY] = [
            template.strings
        ];
        return;
    }
    const existing = immutables.find((strings)=>$7c0f520d9cef3176$var$areReadonlyArraysEqual(strings, template.strings));
    if (!existing) immutables.push(template.strings);
    else // reuse the original array instance, otherwise the template will rerender
    template.strings = existing;
}
function $7c0f520d9cef3176$var$areReadonlyArraysEqual(a, b) {
    if (a.length !== b.length) return false;
    for(let i = 0; i < a.length; i++){
        if (a[i] !== b[i]) return false;
    }
    return true;
}


function $f30a5d0ee21e2608$export$978d44c3a7957bab(element, htmlString, state) {
    function customary_lit_html_track(html_output) {
        (0, $7c0f520d9cef3176$export$75299ef9530cddf3)(element, html_output);
        return html_output;
    }
    const thisArg = element;
    const fn = new Function('customary_lit_html_track', 'state', 'html', 'choose', 'classMap', 'map', 'repeat', 'when', '"use strict"; return customary_lit_html_track( html\`' + htmlString + '\`' + ' )');
    return fn.call(thisArg, customary_lit_html_track, state, (0, $043e8b6e2f4c6258$export$c0bb0b647f701bb5), (0, $7f435eda1ff690a6$export$7877a478dd30fd3d), (0, $621f734394807554$export$56cc687933817664), (0, $2c561d96559b783f$export$871de8747c9eaa88), (0, $640627e30f16b3eb$export$76d90c956114f2c2), (0, $9929420fa4bc2e7a$export$a55877ca9db47377));
}



function $19ae90651b2af5d0$export$b1f65ab33c708f24(superClass) {
    class Mixin_renderFromTemplate_Class extends superClass {
        // noinspection JSUnusedGlobalSymbols
        render() {
            const definition = (0, $182d5725a60cb319$export$6dac8c184f86ad18)(this);
            return (0, $f30a5d0ee21e2608$export$978d44c3a7957bab)(this, definition.immutable_htmlString, this.state);
        }
    }
    return Mixin_renderFromTemplate_Class;
}



function $78cff66866653eb4$export$2b1301cd2cb0c945(superClass) {
    class Mixin_slotChange_Class extends superClass {
        // noinspection JSUnusedGlobalSymbols
        firstUpdated(changedProperties) {
            super.firstUpdated(changedProperties);
            const element = this;
            const definition = (0, $182d5725a60cb319$export$6dac8c184f86ad18)(element);
            const slotchange = definition.declaration.hooks?.slots?.slotchange;
            if (!slotchange) return;
            // on first render, execute once for the first time without an event
            slotchange(element);
            /*
					https://stackoverflow.com/questions/67332635/slots-does-not-work-on-a-html-web-component-without-shadow-dom
					*/ element.shadowRoot.addEventListener('slotchange', (event)=>slotchange(element, event));
        }
    }
    return Mixin_slotChange_Class;
}



function $f8697eec80827305$export$73d040748d682301(superClass) {
    class Mixin_state_Class extends superClass {
        constructor(...args){
            super(args);
            const definition = (0, $182d5725a60cb319$export$6dac8c184f86ad18)(this);
            const { values: values } = definition.declaration;
            if (!values) return;
            Object.assign(this, values);
        }
        // noinspection JSUnusedGlobalSymbols
        setState(state_or_fn) {
            $f8697eec80827305$var$_setState(state_or_fn, ()=>this.state, (state)=>this.state = state);
        }
    }
    return Mixin_state_Class;
}
function $f8697eec80827305$var$_setState(state_or_fn, getStateFn, setStateFn) {
    if (state_or_fn === null || state_or_fn === undefined) return;
    const _state = getStateFn();
    const state = state_or_fn instanceof Function ? state_or_fn(_state) : state_or_fn;
    setStateFn(typeof _state === 'object' ? {
        ..._state,
        ...state
    } : state);
}



function $94449146602b7050$export$2c20b62da00ad27c(superClass) {
    class Mixin_updated_Class extends superClass {
        // noinspection JSUnusedGlobalSymbols
        updated(changedProperties) {
            super.updated?.(changedProperties);
            $94449146602b7050$var$postUpdate(this, changedProperties);
        }
    }
    return Mixin_updated_Class;
}
function $94449146602b7050$var$postUpdate(customElement, changedProperties) {
    const definition = (0, $182d5725a60cb319$export$6dac8c184f86ad18)(customElement);
    const { lifecycle: lifecycle, changes: changes } = definition.declaration.hooks ?? {};
    lifecycle?.updated?.(customElement, changedProperties);
    if (changes instanceof Array) for (const change of changes){
        const { name: name, updated: updated } = change;
        if (updated && changedProperties.has(name)) updated(customElement, customElement[name], changedProperties.get(name));
    }
    else for(const name in changes){
        const updated = changes[name];
        if (changedProperties.has(name)) updated(customElement, customElement[name], changedProperties.get(name));
    }
}



function $f19e54a7501ac1f8$export$441bf0c9f46b950d(superClass) {
    class Mixin_willUpdate_Class extends superClass {
        // noinspection JSUnusedGlobalSymbols
        willUpdate(changedProperties) {
            super.willUpdate?.(changedProperties);
            const definition = (0, $182d5725a60cb319$export$6dac8c184f86ad18)(this);
            const { lifecycle: lifecycle, changes: changes } = definition.declaration.hooks ?? {};
            lifecycle?.willUpdate?.(this, changedProperties);
            if (changes instanceof Array) for (const change of changes){
                const { name: name, willUpdate: willUpdate } = change;
                if (willUpdate && changedProperties.has(name)) willUpdate(this, this[name], changedProperties.get(name));
            }
        }
    }
    return Mixin_willUpdate_Class;
}



class $826f93dc66b3cf65$export$4a183080d2c522d7 extends (0, $aa4d6f06785c18b6$export$3bf0fa7e728730a3)((0, $65d367a529d08fc3$export$38b25fab905694b5)((0, $446230b99bcb51dd$export$2cfc5030c386ebbd)((0, $f4c8feae14321e58$export$768be97ad3d2f262)((0, $19ae90651b2af5d0$export$b1f65ab33c708f24)((0, $78cff66866653eb4$export$2b1301cd2cb0c945)((0, $f8697eec80827305$export$73d040748d682301)((0, $94449146602b7050$export$2c20b62da00ad27c)((0, $f19e54a7501ac1f8$export$441bf0c9f46b950d)((0, $d8017b7d940aed31$export$3f2f9f5909897157)))))))))) {
    constructor(){
        try {
            super();
        } catch (error) {
            if (error instanceof TypeError) {
                if (error.message.startsWith("Illegal constructor")) throw new Error("Custom element must be fully defined before you can instantiate it. Try this:\n    await Customary.untilDefined(MyCustomElement);\n    const element = new MyCustomElement();", {
                    cause: error
                });
            }
            throw error;
        }
    }
    createRenderRoot() {
        const definition = (0, $182d5725a60cb319$export$6dac8c184f86ad18)(this);
        if (definition.declaration.config?.construct?.shadowRootDont) return this;
        return super.createRenderRoot();
    }
    // noinspection JSUnusedGlobalSymbols
    connectedCallback() {
        super.connectedCallback?.();
        (0, $01a8ffeaf57070d0$export$40a4ed63e5cb7043)(this);
        (0, $34c4b2c98e9955bd$export$4d4476bb810e9591)(this);
        (0, $0dcb934e395c9eef$export$6137f2e9b4e74d2f)(this);
    }
}


class $b7d50751d22c9c51$export$7d556906c4a5f4a7 {
    // noinspection JSUnusedGlobalSymbols
    static async autodetect() {
        await this.detect();
        const customaryRegistry = (0, $74af7c6039b335a7$export$d37a9068d840d1de).singleton();
        await customaryRegistry.settle();
    }
    // noinspection JSUnusedGlobalSymbols
    static declare(constructor) {
        const customaryRegistry = (0, $74af7c6039b335a7$export$d37a9068d840d1de).singleton();
        customaryRegistry.declare(constructor, constructor?.customary);
    }
    // noinspection JSUnusedGlobalSymbols
    static async untilDefined(constructor) {
        const customaryRegistry = (0, $74af7c6039b335a7$export$d37a9068d840d1de).singleton();
        return await customaryRegistry.untilDefined(constructor);
    }
    static async detect() {
        const customaryRegistry = (0, $74af7c6039b335a7$export$d37a9068d840d1de).singleton();
        const detector = new (0, $85578581f704d63b$export$2bcc17fb5433cbbf)(document, globalThis);
        const declarations = detector.detect();
        const promises = declarations.map((declaration)=>customaryRegistry.declare(class EphemeralCustomaryElement extends (0, $826f93dc66b3cf65$export$4a183080d2c522d7) {
            }, declaration));
        await Promise.all(promises);
    }
}




$parcel$exportWildcard($ea14babfe644be71$exports, $22072648c2076599$exports);


document.addEventListener("DOMContentLoaded", (event)=>{
    if (!globalThis[`customary-options:autodetect-dont`]) (0, $b7d50751d22c9c51$export$7d556906c4a5f4a7).autodetect();
});


export {$b7d50751d22c9c51$export$7d556906c4a5f4a7 as Customary, $826f93dc66b3cf65$export$4a183080d2c522d7 as CustomaryElement, $d8017b7d940aed31$export$3f2f9f5909897157 as LitElement, $043e8b6e2f4c6258$export$c0bb0b647f701bb5 as html, $7f435eda1ff690a6$export$7877a478dd30fd3d as choose, $621f734394807554$export$56cc687933817664 as classMap, $2c561d96559b783f$export$871de8747c9eaa88 as map, $640627e30f16b3eb$export$76d90c956114f2c2 as repeat, $9929420fa4bc2e7a$export$a55877ca9db47377 as when};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O0FBQ0Q7Ozs7Ozs7O0FGekNBLFNBQVMsZ0JBQWdCLENBQUMsb0JBQW9CLENBQUM7SUFDOUMsSUFBSSxDQUFDLEFBQUMsVUFBa0IsQ0FBQyxDQUFDLGlDQUFpQyxDQUFDLENBQUMsRUFDdkQsQ0FBQSxHQUFBLHlDQUFRLEVBQUUsVUFBVTtBQUUzQiIsInNvdXJjZXMiOlsic3JjL25vdy50cyIsInNyYy9pbmRleC50cyIsInNyYy9DdXN0b21hcnkudHMiLCJzcmMvQ3VzdG9tYXJ5RGV0ZWN0b3IudHMiLCJzcmMvcmVnaXN0cnkvQ3VzdG9tYXJ5UmVnaXN0cnkudHMiLCJzcmMvQ3VzdG9tYXJ5RGVmaW5pdGlvbi50cyIsInNyYy9DdXN0b21hcnlEZWZpbmUudHMiLCJzcmMvZXh0ZXJuYWwvRXh0ZXJuYWxMb2FkZXIudHMiLCJzcmMvZmV0Y2gvRmV0Y2hUZXh0LnRzIiwic3JjL21hcmt1cC9NYXJrdXBfZm9yLnRzIiwic3JjL21hcmt1cC9zZXRfb3V0ZXJIVE1MLmpzIiwic3JjL21hcmt1cC9zZXRfb3V0ZXJIVE1MLnRzIiwic3JjL21hcmt1cC90b1NlbGVjdG9yLnRzIiwic3JjL21hcmt1cC9NYXJrdXBfaWYudHMiLCJzcmMvbWFya3VwL01hcmt1cF9pbnNpZGUudHMiLCJzcmMvbWFya3VwL01hcmt1cF9jbGFzc01hcC50cyIsInNyYy9tYXJrdXAvdG9TZWxlY3Rvci5qcyIsInNyYy9tYXJrdXAvTWFya3VwX3N3aXRjaC50cyIsInNyYy9hdHRyaWJ1dGVzL0F0dHJpYnV0ZVByb3BlcnRpZXMudHMiLCJzcmMvcHJvcGVydGllcy9Qcm9wZXJ0aWVzSW5qZWN0b3IudHMiLCJzcmMvc3RhdGUvU3RhdGVQcm9wZXJ0aWVzLnRzIiwic3JjL3Byb3BlcnRpZXMvUHJvcGVydGllc1Byb3BlcnRpZXMudHMiLCJzcmMvYmluZC9BdHRyaWJ1dGVfYmluZC50cyIsInNyYy9leHByZXNzaW9ucy9FeHByZXNzaW9uc19yZWNvZGUudHMiLCJzcmMvYXR0cmlidXRlcy9BdHRyaWJ1dGVzRGVmaW5pdGlvbi50cyIsInNyYy9leHByZXNzaW9ucy9FeHByZXNzaW9uQXR0cmlidXRlcy50cyIsInNyYy9DdXN0b21hcnlFbGVtZW50LnRzIiwic3JjL2xpdC9pbmRleC50cyIsIm5vZGVfbW9kdWxlcy9saXQtZWxlbWVudC9saXQtZWxlbWVudC5qcyIsIm5vZGVfbW9kdWxlcy9saXQtZWxlbWVudC9zcmMvbGl0LWVsZW1lbnQudHMiLCJub2RlX21vZHVsZXMvQGxpdC9yZWFjdGl2ZS1lbGVtZW50L3JlYWN0aXZlLWVsZW1lbnQuanMiLCJub2RlX21vZHVsZXMvQGxpdC9yZWFjdGl2ZS1lbGVtZW50L3NyYy9yZWFjdGl2ZS1lbGVtZW50LnRzIiwibm9kZV9tb2R1bGVzL0BsaXQvcmVhY3RpdmUtZWxlbWVudC9jc3MtdGFnLmpzIiwibm9kZV9tb2R1bGVzL0BsaXQvcmVhY3RpdmUtZWxlbWVudC9zcmMvY3NzLXRhZy50cyIsIm5vZGVfbW9kdWxlcy9saXQtaHRtbC9saXQtaHRtbC5qcyIsIm5vZGVfbW9kdWxlcy9saXQtaHRtbC9zcmMvbGl0LWh0bWwudHMiLCJub2RlX21vZHVsZXMvbGl0LWh0bWwvZGlyZWN0aXZlcy9jaG9vc2UuanMiLCJub2RlX21vZHVsZXMvbGl0LWh0bWwvc3JjL2RpcmVjdGl2ZXMvY2hvb3NlLnRzIiwibm9kZV9tb2R1bGVzL2xpdC1odG1sL2RpcmVjdGl2ZXMvY2xhc3MtbWFwLmpzIiwibm9kZV9tb2R1bGVzL2xpdC1odG1sL3NyYy9kaXJlY3RpdmVzL2NsYXNzLW1hcC50cyIsIm5vZGVfbW9kdWxlcy9saXQtaHRtbC9kaXJlY3RpdmUuanMiLCJub2RlX21vZHVsZXMvbGl0LWh0bWwvc3JjL2RpcmVjdGl2ZS50cyIsIm5vZGVfbW9kdWxlcy9saXQtaHRtbC9kaXJlY3RpdmVzL21hcC5qcyIsIm5vZGVfbW9kdWxlcy9saXQtaHRtbC9zcmMvZGlyZWN0aXZlcy9tYXAudHMiLCJub2RlX21vZHVsZXMvbGl0LWh0bWwvZGlyZWN0aXZlcy9yZXBlYXQuanMiLCJub2RlX21vZHVsZXMvbGl0LWh0bWwvc3JjL2RpcmVjdGl2ZXMvcmVwZWF0LnRzIiwibm9kZV9tb2R1bGVzL2xpdC1odG1sL2RpcmVjdGl2ZS1oZWxwZXJzLmpzIiwibm9kZV9tb2R1bGVzL2xpdC1odG1sL3NyYy9kaXJlY3RpdmUtaGVscGVycy50cyIsIm5vZGVfbW9kdWxlcy9saXQtaHRtbC9kaXJlY3RpdmVzL3doZW4uanMiLCJub2RlX21vZHVsZXMvbGl0LWh0bWwvc3JjL2RpcmVjdGl2ZXMvd2hlbi50cyIsInNyYy9iaW5kL01peGluX2FkZEV2ZW50TGlzdGVuZXJzRm9yQmluZGluZ3MudHMiLCJzcmMvZXZlbnRzL0FkZEV2ZW50TGlzdGVuZXIudHMiLCJzcmMvZXZlbnRzL01peGluX2FkZEV2ZW50TGlzdGVuZXJzLnRzIiwic3JjL3N0eWxlL01peGluX2Fkb3B0U3R5bGVTaGVldC50cyIsInNyYy9hdHRyaWJ1dGVzL01peGluX2F0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjay50cyIsInNyYy9saWZlY3ljbGUvY29ubmVjdGVkL01peGluX2Nvbm5lY3RlZC50cyIsInNyYy9saWZlY3ljbGUvZGlzY29ubmVjdGVkL01peGluX2Rpc2Nvbm5lY3RlZC50cyIsInNyYy9saWZlY3ljbGUvZmlyc3RVcGRhdGVkL01peGluX2ZpcnN0VXBkYXRlZC50cyIsInNyYy9yZW5kZXIvTWl4aW5fcmVuZGVyRnJvbVRlbXBsYXRlLnRzIiwic3JjL3JlbmRlci9yZW5kZXJfbGl0X2h0bWxfVGVtcGxhdGVSZXN1bHQudHMiLCJzcmMvcmVuZGVyL3JldXNlX2ltbXV0YWJsZV9UZW1wbGF0ZVN0cmluZ3NBcnJheS50cyIsInNyYy9zbG90cy9NaXhpbl9zbG90Q2hhbmdlLnRzIiwic3JjL3N0YXRlL01peGluX3N0YXRlLnRzIiwic3JjL2xpZmVjeWNsZS91cGRhdGVkL01peGluX3VwZGF0ZWQudHMiLCJzcmMvbGlmZWN5Y2xlL3dpbGxVcGRhdGUvTWl4aW5fd2lsbFVwZGF0ZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0N1c3RvbWFyeX0gZnJvbSBcIiNjdXN0b21hcnkvaW5kZXguanNcIjtcblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKGV2ZW50KSA9PiB7XG5cdGlmICghKGdsb2JhbFRoaXMgYXMgYW55KVtgY3VzdG9tYXJ5LW9wdGlvbnM6YXV0b2RldGVjdC1kb250YF0pIHtcblx0XHR2b2lkIEN1c3RvbWFyeS5hdXRvZGV0ZWN0KCk7XG5cdH1cbn0pO1xuXG5leHBvcnQgKiBmcm9tICcjY3VzdG9tYXJ5L2luZGV4LmpzJztcbiIsImltcG9ydCB7Q3VzdG9tYXJ5fSBmcm9tIFwiI2N1c3RvbWFyeS9DdXN0b21hcnkuanNcIjtcbmltcG9ydCB0eXBlIHtDdXN0b21hcnlEZWNsYXJhdGlvbiBhcyBDfSBmcm9tIFwiI2N1c3RvbWFyeS9DdXN0b21hcnlEZWNsYXJhdGlvblwiO1xuaW1wb3J0IHtDdXN0b21hcnlFbGVtZW50fSBmcm9tIFwiI2N1c3RvbWFyeS9DdXN0b21hcnlFbGVtZW50LmpzXCI7XG5cbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9wYXJjZWwtYnVuZGxlci9wYXJjZWwvaXNzdWVzLzQ3OTYjaXNzdWVjb21tZW50LTY2MDM1NjA2MlxuLy8gbm9pbnNwZWN0aW9uIEpTVW51c2VkR2xvYmFsU3ltYm9sc1xuZXhwb3J0IHR5cGUgQ3VzdG9tYXJ5RGVjbGFyYXRpb248VCBleHRlbmRzIEhUTUxFbGVtZW50PiA9IEM8VD47XG5cbmV4cG9ydCAqIGZyb20gXCIjY3VzdG9tYXJ5L2xpdFwiO1xuZXhwb3J0IHtDdXN0b21hcnksIEN1c3RvbWFyeUVsZW1lbnR9O1xuIiwiaW1wb3J0IHtDdXN0b21hcnlEZXRlY3Rvcn0gZnJvbSBcIiNjdXN0b21hcnkvQ3VzdG9tYXJ5RGV0ZWN0b3IuanNcIjtcbmltcG9ydCB7Q3VzdG9tYXJ5RGVjbGFyYXRpb259IGZyb20gXCIjY3VzdG9tYXJ5L0N1c3RvbWFyeURlY2xhcmF0aW9uLmpzXCI7XG5pbXBvcnQge0N1c3RvbWFyeVJlZ2lzdHJ5fSBmcm9tIFwiI2N1c3RvbWFyeS9yZWdpc3RyeS9DdXN0b21hcnlSZWdpc3RyeS5qc1wiO1xuaW1wb3J0IHtDdXN0b21hcnlFbGVtZW50fSBmcm9tIFwiI2N1c3RvbWFyeS9DdXN0b21hcnlFbGVtZW50LmpzXCI7XG5cbmV4cG9ydCBjbGFzcyBDdXN0b21hcnlcbntcblx0Ly8gbm9pbnNwZWN0aW9uIEpTVW51c2VkR2xvYmFsU3ltYm9sc1xuXHRzdGF0aWMgYXN5bmMgYXV0b2RldGVjdCgpIHtcblx0XHRhd2FpdCB0aGlzLmRldGVjdCgpO1xuXG5cdFx0Y29uc3QgY3VzdG9tYXJ5UmVnaXN0cnkgPSBDdXN0b21hcnlSZWdpc3RyeS5zaW5nbGV0b24oKTtcblx0XHRhd2FpdCBjdXN0b21hcnlSZWdpc3RyeS5zZXR0bGUoKTtcblx0fVxuXG5cdC8vIG5vaW5zcGVjdGlvbiBKU1VudXNlZEdsb2JhbFN5bWJvbHNcblx0c3RhdGljIGRlY2xhcmU8VCBleHRlbmRzIEhUTUxFbGVtZW50Pihjb25zdHJ1Y3RvcjogQ3VzdG9tRWxlbWVudENvbnN0cnVjdG9yKVxuXHR7XG5cdFx0Y29uc3QgY3VzdG9tYXJ5UmVnaXN0cnkgPSBDdXN0b21hcnlSZWdpc3RyeS5zaW5nbGV0b24oKTtcblx0XHR2b2lkIGN1c3RvbWFyeVJlZ2lzdHJ5LmRlY2xhcmUoXG5cdFx0XHRcdGNvbnN0cnVjdG9yLFxuXHRcdFx0XHQoY29uc3RydWN0b3IgYXMgYW55KT8uY3VzdG9tYXJ5IGFzIEN1c3RvbWFyeURlY2xhcmF0aW9uPFQ+XG5cdFx0KTtcblx0fVxuXG5cdC8vIG5vaW5zcGVjdGlvbiBKU1VudXNlZEdsb2JhbFN5bWJvbHNcblx0c3RhdGljIGFzeW5jIHVudGlsRGVmaW5lZChjb25zdHJ1Y3RvcjogQ3VzdG9tRWxlbWVudENvbnN0cnVjdG9yKTogUHJvbWlzZTxDdXN0b21FbGVtZW50Q29uc3RydWN0b3I+IHtcblx0XHRjb25zdCBjdXN0b21hcnlSZWdpc3RyeSA9IEN1c3RvbWFyeVJlZ2lzdHJ5LnNpbmdsZXRvbigpO1xuXHRcdHJldHVybiBhd2FpdCBjdXN0b21hcnlSZWdpc3RyeS51bnRpbERlZmluZWQoY29uc3RydWN0b3IpO1xuXHR9XG5cblx0cHJpdmF0ZSBzdGF0aWMgYXN5bmMgZGV0ZWN0KCk6IFByb21pc2U8dm9pZD4ge1xuXHRcdGNvbnN0IGN1c3RvbWFyeVJlZ2lzdHJ5ID0gQ3VzdG9tYXJ5UmVnaXN0cnkuc2luZ2xldG9uKCk7XG5cdFx0Y29uc3QgZGV0ZWN0b3IgPSBuZXcgQ3VzdG9tYXJ5RGV0ZWN0b3IoZG9jdW1lbnQsIGdsb2JhbFRoaXMpO1xuXHRcdGNvbnN0IGRlY2xhcmF0aW9uczogQ3VzdG9tYXJ5RGVjbGFyYXRpb248YW55PltdID0gZGV0ZWN0b3IuZGV0ZWN0KCk7XG5cdFx0Y29uc3QgcHJvbWlzZXMgPSBkZWNsYXJhdGlvbnMubWFwKGRlY2xhcmF0aW9uID0+XG5cdFx0XHRcdGN1c3RvbWFyeVJlZ2lzdHJ5LmRlY2xhcmUoXG5cdFx0XHRcdFx0XHRjbGFzcyBFcGhlbWVyYWxDdXN0b21hcnlFbGVtZW50IGV4dGVuZHMgQ3VzdG9tYXJ5RWxlbWVudCB7fSxcblx0XHRcdFx0XHRcdGRlY2xhcmF0aW9uXG5cdFx0XHRcdClcblx0XHQpO1xuXHRcdGF3YWl0IFByb21pc2UuYWxsKHByb21pc2VzKTtcblx0fVxufVxuIiwiaW1wb3J0IHtDdXN0b21hcnlEZWNsYXJhdGlvbn0gZnJvbSBcIiNjdXN0b21hcnkvQ3VzdG9tYXJ5RGVjbGFyYXRpb25cIjtcblxuZXhwb3J0IGNsYXNzIEN1c3RvbWFyeURldGVjdG9yIHtcblx0Y29uc3RydWN0b3IoXG5cdFx0XHRwcml2YXRlIHJlYWRvbmx5IGRvY3VtZW50OiBEb2N1bWVudCxcblx0XHRcdHByaXZhdGUgcmVhZG9ubHkgZ2xvYmFsVGhpczogYW55XG5cdCkge31cblxuXHRkZXRlY3QoKTogQ3VzdG9tYXJ5RGVjbGFyYXRpb248YW55PltdIHtcblx0XHRyZXR1cm4gdGhpcy5kZXRlY3RFbGVtZW50TmFtZXMoKS5tYXAobmFtZSA9PiB0aGlzLmRldGVjdERlY2xhcmF0aW9uKG5hbWUpKTtcblx0fVxuXG5cdHByaXZhdGUgZGV0ZWN0RWxlbWVudE5hbWVzKCk6IHN0cmluZ1tdIHtcblx0XHRjb25zdCBhdHRyaWJ1dGUgPSAnZGF0YS1jdXN0b21hcnktbmFtZSc7XG5cdFx0Y29uc3QgZnJvbURvY3VtZW50ID0gWy4uLnRoaXMuZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgdGVtcGxhdGVbJHthdHRyaWJ1dGV9XWApXVxuXHRcdFx0XHQubWFwKHRlbXBsYXRlID0+IHRlbXBsYXRlLmdldEF0dHJpYnV0ZShhdHRyaWJ1dGUpISk7XG5cblx0XHRjb25zdCBwcmVmaXggPSAnY3VzdG9tYXJ5Oic7XG5cdFx0Y29uc3QgZnJvbUdsb2JhbFNjb3BlID0gT2JqZWN0LmtleXModGhpcy5nbG9iYWxUaGlzKVxuXHRcdFx0XHQuZmlsdGVyKG5hbWUgPT4gbmFtZS5zdGFydHNXaXRoKHByZWZpeCkpXG5cdFx0XHRcdC5tYXAobmFtZSA9PiBuYW1lLnN1YnN0cmluZyhwcmVmaXgubGVuZ3RoKSk7XG5cblx0XHRyZXR1cm4gWy4uLm5ldyBTZXQoWy4uLmZyb21Eb2N1bWVudCwgLi4uZnJvbUdsb2JhbFNjb3BlXSldO1xuXHR9XG5cblx0cHJpdmF0ZSBkZXRlY3REZWNsYXJhdGlvbihuYW1lOiBzdHJpbmcpOiBDdXN0b21hcnlEZWNsYXJhdGlvbjxhbnk+IHtcblx0XHRjb25zdCBmcm9tR2xvYmFsU2NvcGU6IFBhcnRpYWw8Q3VzdG9tYXJ5RGVjbGFyYXRpb248YW55Pj4gPSB0aGlzLmdsb2JhbFRoaXNbYGN1c3RvbWFyeToke25hbWV9YF07XG5cblx0XHRjb25zdCBjb25maWcgPSBmcm9tR2xvYmFsU2NvcGU/LmNvbmZpZztcblx0XHRjb25zdCBob29rcyA9IGZyb21HbG9iYWxTY29wZT8uaG9va3M7XG5cdFx0Y29uc3QgdmFsdWVzID0gZnJvbUdsb2JhbFNjb3BlPy52YWx1ZXMgPz8gdGhpcy5kZXRlY3RWYWx1ZXMobmFtZSk7XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0bmFtZSxcblx0XHRcdC4uLihjb25maWcgPyB7Y29uZmlnfSA6IHt9KSxcblx0XHRcdC4uLihob29rcyA/IHtob29rc30gOiB7fSksXG5cdFx0XHQuLi4odmFsdWVzID8ge3ZhbHVlc30gOiB7fSksXG5cdFx0fTtcblx0fVxuXG5cdHByaXZhdGUgZGV0ZWN0VmFsdWVzKG5hbWU6IHN0cmluZyk6IFJlY29yZDxzdHJpbmcsIG9iamVjdCB8IG9iamVjdFtdPiB8IHVuZGVmaW5lZCB7XG5cdFx0Y29uc3QgZWxlbWVudHMgPSB0aGlzLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXG5cdFx0XHRcdGBzY3JpcHRbdHlwZT1cImFwcGxpY2F0aW9uL2pzb25cIl1bZGF0YS1jdXN0b21hcnktbmFtZT0nJHtuYW1lfSddYFxuXHRcdCk7XG5cdFx0aWYgKGVsZW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0XHR9XG5cdFx0Y29uc3QgcmVzdWx0OiBSZWNvcmQ8c3RyaW5nLCBvYmplY3QgfCBvYmplY3RbXT4gPSB7fTtcblx0XHRmb3IgKGNvbnN0IGVsZW1lbnQgb2YgZWxlbWVudHMpIHtcblx0XHRcdGlmIChlbGVtZW50LnRleHRDb250ZW50KSB7XG5cdFx0XHRcdC8vIFRPRE8gUmVxdWlyZSBhIGtleSBhbmQgcmV0aXJlIGRlZmF1bHQgJ3N0YXRlJ1xuXHRcdFx0XHRjb25zdCBrZXkgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1jdXN0b21hcnktdmFsdWUnKSA/PyAnc3RhdGUnO1xuXHRcdFx0XHRyZXN1bHRba2V5XSA9IEpTT04ucGFyc2UoZWxlbWVudC50ZXh0Q29udGVudCk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH1cbn1cbiIsImltcG9ydCB7Q3VzdG9tYXJ5RGVmaW5pdGlvbiwgaGFzRGVmaW5pdGlvbiwgc2V0RGVmaW5pdGlvbn0gZnJvbSBcIiNjdXN0b21hcnkvQ3VzdG9tYXJ5RGVmaW5pdGlvbi5qc1wiO1xuaW1wb3J0IHtDdXN0b21hcnlEZWNsYXJhdGlvbn0gZnJvbSBcIiNjdXN0b21hcnkvQ3VzdG9tYXJ5RGVjbGFyYXRpb24uanNcIjtcbmltcG9ydCB7Q3VzdG9tYXJ5RGVmaW5lfSBmcm9tIFwiI2N1c3RvbWFyeS9DdXN0b21hcnlEZWZpbmUuanNcIjtcblxuY29uc3QgV0FJVF9UT19ERUZJTkVfRVZFUllUSElOR19JTl9USEVfRU5EID0gZmFsc2U7XG5cbmV4cG9ydCBjbGFzcyBDdXN0b21hcnlSZWdpc3RyeVxue1xuICAgIHN0YXRpYyBzaW5nbGV0b24oKTogQ3VzdG9tYXJ5UmVnaXN0cnkge1xuICAgICAgICByZXR1cm4gQ3VzdG9tYXJ5UmVnaXN0cnkuQ3VzdG9tYXJ5UmVnaXN0cnlfc2luZ2xldG9uXG4gICAgfVxuXG4gICAgYXN5bmMgZGVjbGFyZShcbiAgICAgICAgY29uc3RydWN0b3I6IEN1c3RvbUVsZW1lbnRDb25zdHJ1Y3RvcixcbiAgICAgICAgZGVjbGFyYXRpb246IEN1c3RvbWFyeURlY2xhcmF0aW9uPGFueT5cbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgaWYgKCFkZWNsYXJhdGlvbi5uYW1lKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0EgbmFtZSBtdXN0IGJlIHByb3ZpZGVkIHRvIGRlZmluZSBhIGN1c3RvbSBlbGVtZW50LicpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFXQUlUX1RPX0RFRklORV9FVkVSWVRISU5HX0lOX1RIRV9FTkQpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuZGVmaW5lKGNvbnN0cnVjdG9yLCBkZWNsYXJhdGlvbik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRlY2xhcmF0aW9ucy5zZXQoY29uc3RydWN0b3IsIGRlY2xhcmF0aW9uKTtcbiAgICB9XG5cbiAgICBhc3luYyBzZXR0bGUoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGlmICghV0FJVF9UT19ERUZJTkVfRVZFUllUSElOR19JTl9USEVfRU5EKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBlbnRyaWVzID0gWy4uLnRoaXMuZGVjbGFyYXRpb25zLmVudHJpZXMoKV07XG5cbiAgICAgICAgY29uc3QgcHJvbWlzZXMgPSBlbnRyaWVzLm1hcChcbiAgICAgICAgICAgIGVudHJ5ID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3RcbiAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0cnVjdG9yLCBkZWNsYXJhdGlvblxuICAgICAgICAgICAgICAgIF06IFtcbiAgICAgICAgICAgICAgICBDdXN0b21FbGVtZW50Q29uc3RydWN0b3IsIEN1c3RvbWFyeURlY2xhcmF0aW9uPGFueT5cbiAgICAgICAgICAgIF0gPSBlbnRyeTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kZWZpbmUoY29uc3RydWN0b3IsIGRlY2xhcmF0aW9uKVxuICAgICAgICAgICAgfVxuICAgICAgICApO1xuXG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsKHByb21pc2VzKTtcbiAgICB9XG5cbiAgICBhc3luYyB1bnRpbERlZmluZWQoY29uc3RydWN0b3I6IEN1c3RvbUVsZW1lbnRDb25zdHJ1Y3Rvcik6IFByb21pc2U8Q3VzdG9tRWxlbWVudENvbnN0cnVjdG9yPiB7XG4gICAgICAgIGNvbnN0IG5hbWU6IHN0cmluZyB8IHVuZGVmaW5lZCA9IChjb25zdHJ1Y3RvciBhcyBhbnkpLmN1c3RvbWFyeT8ubmFtZTtcblxuICAgICAgICBpZiAobmFtZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NsYXNzIG11c3QgaGF2ZSB0aGUgXCJjdXN0b21hcnlcIiBkZWNsYXJhdGlvbiB3aXRoIGEgXCJuYW1lXCIgcHJvcGVydHkuJyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5kb21fY3VzdG9tRWxlbWVudFJlZ2lzdHJ5LndoZW5EZWZpbmVkKG5hbWUpO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgZGVmaW5lPFQgZXh0ZW5kcyBIVE1MRWxlbWVudD4oXG4gICAgICAgIGNvbnN0cnVjdG9yOiBDdXN0b21FbGVtZW50Q29uc3RydWN0b3IsXG4gICAgICAgIGRlY2xhcmF0aW9uOiBDdXN0b21hcnlEZWNsYXJhdGlvbjxhbnk+XG4gICAgKTogUHJvbWlzZTx2b2lkPlxuICAgIHtcbiAgICAgICAgaWYgKGhhc0RlZmluaXRpb24oY29uc3RydWN0b3IpKSB7XG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKGAke2NvbnN0cnVjdG9yLm5hbWV9OiBlbGVtZW50IGFscmVhZHkgZGVmaW5lZCwgc2tpcHBpbmcuLi5gKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGRlZmluaXRpb246IEN1c3RvbWFyeURlZmluaXRpb248VD4gPVxuICAgICAgICAgICAgYXdhaXQgbmV3IEN1c3RvbWFyeURlZmluZShkZWNsYXJhdGlvbikuZGVmaW5lKGNvbnN0cnVjdG9yKTtcblxuICAgICAgICBzZXREZWZpbml0aW9uKGNvbnN0cnVjdG9yLCBkZWZpbml0aW9uKTtcblxuICAgICAgICB0aGlzLmRvbV9jdXN0b21FbGVtZW50UmVnaXN0cnkuZGVmaW5lKFxuICAgICAgICAgICAgZGVjbGFyYXRpb24ubmFtZSEsIGNvbnN0cnVjdG9yLFxuICAgICAgICAgICAgZGVjbGFyYXRpb24uaG9va3M/LmRvbT8uZGVmaW5lPy5vcHRpb25zXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSBkb21fY3VzdG9tRWxlbWVudFJlZ2lzdHJ5OiBDdXN0b21FbGVtZW50UmVnaXN0cnkpIHt9XG5cbiAgICBwcml2YXRlIHJlYWRvbmx5IGRlY2xhcmF0aW9uczogTWFwPEN1c3RvbUVsZW1lbnRDb25zdHJ1Y3RvciwgQ3VzdG9tYXJ5RGVjbGFyYXRpb248YW55Pj4gPSBuZXcgTWFwKCk7XG5cbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBDdXN0b21hcnlSZWdpc3RyeV9zaW5nbGV0b246IEN1c3RvbWFyeVJlZ2lzdHJ5ID0gbmV3IEN1c3RvbWFyeVJlZ2lzdHJ5KGN1c3RvbUVsZW1lbnRzKTtcbn1cbiIsImltcG9ydCB7Q3VzdG9tYXJ5RGVjbGFyYXRpb259IGZyb20gXCIjY3VzdG9tYXJ5L0N1c3RvbWFyeURlY2xhcmF0aW9uLmpzXCI7XG5pbXBvcnQge0F0dHJpYnV0ZXNEZWZpbml0aW9ufSBmcm9tIFwiI2N1c3RvbWFyeS9hdHRyaWJ1dGVzL0F0dHJpYnV0ZXNEZWZpbml0aW9uLmpzXCI7XG5cbmV4cG9ydCB0eXBlIEN1c3RvbWFyeURlZmluaXRpb248VCBleHRlbmRzIEhUTUxFbGVtZW50PiA9XG57XG4gICAgcmVhZG9ubHkgZGVjbGFyYXRpb246IEN1c3RvbWFyeURlY2xhcmF0aW9uPFQ+O1xuICAgIHJlYWRvbmx5IGF0dHJpYnV0ZXM6IEF0dHJpYnV0ZXNEZWZpbml0aW9uO1xuICAgIHJlYWRvbmx5IHRlbXBsYXRlSW5Eb2N1bWVudDogYm9vbGVhbjtcbiAgICByZWFkb25seSBpbW11dGFibGVfaHRtbFN0cmluZzogc3RyaW5nO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaGFzRGVmaW5pdGlvbihcbiAgICBjb25zdHJ1Y3RvcjogQ3VzdG9tRWxlbWVudENvbnN0cnVjdG9yXG4pXG57XG4gICAgcmV0dXJuIGRlZmluaXRpb25fcHJvcGVydHkgaW4gY29uc3RydWN0b3I7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXREZWZpbml0aW9uPFQgZXh0ZW5kcyBIVE1MRWxlbWVudD4oXG4gICAgY29uc3RydWN0b3I6IEN1c3RvbUVsZW1lbnRDb25zdHJ1Y3RvciwgZGVmaW5pdGlvbjogQ3VzdG9tYXJ5RGVmaW5pdGlvbjxUPlxuKVxue1xuICAgIChjb25zdHJ1Y3RvciBhcyBhbnkpW2RlZmluaXRpb25fcHJvcGVydHldID0gZGVmaW5pdGlvbjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldERlZmluaXRpb248VCBleHRlbmRzIEhUTUxFbGVtZW50PihlbGVtZW50OiBUKTogQ3VzdG9tYXJ5RGVmaW5pdGlvbjxUPlxue1xuICAgIGNvbnN0IGNvbnN0cnVjdG9yID0gZWxlbWVudC5jb25zdHJ1Y3RvcjtcbiAgICByZXR1cm4gKGNvbnN0cnVjdG9yIGFzIGFueSlbZGVmaW5pdGlvbl9wcm9wZXJ0eV0gPz8gKCgpID0+IHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGAke2NvbnN0cnVjdG9yLm5hbWV9OiBlbGVtZW50IG5ldmVyIGRlZmluZWRgKVxuICAgIH0pKCk7XG59XG5cbmNvbnN0IGRlZmluaXRpb25fcHJvcGVydHkgPSAnY3VzdG9tYXJ5X2RlZmluaXRpb24nO1xuIiwiaW1wb3J0IHtDdXN0b21hcnlEZWZpbml0aW9ufSBmcm9tIFwiI2N1c3RvbWFyeS9DdXN0b21hcnlEZWZpbml0aW9uLmpzXCI7XG5pbXBvcnQge0N1c3RvbWFyeURlY2xhcmF0aW9ufSBmcm9tIFwiI2N1c3RvbWFyeS9DdXN0b21hcnlEZWNsYXJhdGlvbi5qc1wiO1xuaW1wb3J0IHtFeHRlcm5hbExvYWRlcn0gZnJvbSBcIiNjdXN0b21hcnkvZXh0ZXJuYWwvRXh0ZXJuYWxMb2FkZXIuanNcIjtcbmltcG9ydCB7RmV0Y2hUZXh0LCBGZXRjaFRleHRfRE9NX3NpbmdsZXRvbn0gZnJvbSBcIiNjdXN0b21hcnkvZmV0Y2gvRmV0Y2hUZXh0LmpzXCI7XG5pbXBvcnQge01hcmt1cF9mb3J9IGZyb20gXCIjY3VzdG9tYXJ5L21hcmt1cC9NYXJrdXBfZm9yLmpzXCI7XG5pbXBvcnQge01hcmt1cF9pZn0gZnJvbSBcIiNjdXN0b21hcnkvbWFya3VwL01hcmt1cF9pZi5qc1wiO1xuaW1wb3J0IHtNYXJrdXBfaW5zaWRlfSBmcm9tIFwiI2N1c3RvbWFyeS9tYXJrdXAvTWFya3VwX2luc2lkZS5qc1wiO1xuaW1wb3J0IHtNYXJrdXBfY2xhc3NNYXB9IGZyb20gXCIjY3VzdG9tYXJ5L21hcmt1cC9NYXJrdXBfY2xhc3NNYXAuanNcIjtcbmltcG9ydCB7TWFya3VwX3N3aXRjaH0gZnJvbSBcIiNjdXN0b21hcnkvbWFya3VwL01hcmt1cF9zd2l0Y2guanNcIjtcbmltcG9ydCB7QXR0cmlidXRlUHJvcGVydGllc30gZnJvbSBcIiNjdXN0b21hcnkvYXR0cmlidXRlcy9BdHRyaWJ1dGVQcm9wZXJ0aWVzLmpzXCI7XG5pbXBvcnQge1N0YXRlUHJvcGVydGllc30gZnJvbSBcIiNjdXN0b21hcnkvc3RhdGUvU3RhdGVQcm9wZXJ0aWVzLmpzXCI7XG5pbXBvcnQge1Byb3BlcnRpZXNQcm9wZXJ0aWVzfSBmcm9tIFwiI2N1c3RvbWFyeS9wcm9wZXJ0aWVzL1Byb3BlcnRpZXNQcm9wZXJ0aWVzLmpzXCI7XG5pbXBvcnQge0xpdEVsZW1lbnR9IGZyb20gXCIjY3VzdG9tYXJ5L2xpdFwiO1xuaW1wb3J0IHtBdHRyaWJ1dGVfYmluZH0gZnJvbSBcIiNjdXN0b21hcnkvYmluZC9BdHRyaWJ1dGVfYmluZC5qc1wiO1xuaW1wb3J0IHtBdHRyaWJ1dGVzRGVmaW5pdGlvbiwgZGV0ZWN0QXR0cmlidXRlc30gZnJvbSBcIiNjdXN0b21hcnkvYXR0cmlidXRlcy9BdHRyaWJ1dGVzRGVmaW5pdGlvbi5qc1wiO1xuaW1wb3J0IHtFeHByZXNzaW9uQXR0cmlidXRlc30gZnJvbSBcIiNjdXN0b21hcnkvZXhwcmVzc2lvbnMvRXhwcmVzc2lvbkF0dHJpYnV0ZXMuanNcIjtcbmltcG9ydCB7RXhwcmVzc2lvbnNfcmVjb2RlfSBmcm9tIFwiI2N1c3RvbWFyeS9leHByZXNzaW9ucy9FeHByZXNzaW9uc19yZWNvZGUuanNcIjtcblxuZXhwb3J0IGNsYXNzIEN1c3RvbWFyeURlZmluZTxUIGV4dGVuZHMgSFRNTEVsZW1lbnQ+IHtcblxuXHRhc3luYyBkZWZpbmUoY29uc3RydWN0b3I6IEN1c3RvbUVsZW1lbnRDb25zdHJ1Y3Rvcik6IFByb21pc2U8Q3VzdG9tYXJ5RGVmaW5pdGlvbjxUPj4ge1xuXHRcdHJldHVybiBhd2FpdCB0aGlzLmJ1aWxkRGVmaW5pdGlvbihjb25zdHJ1Y3Rvcik7XG5cdH1cblxuXHRwcml2YXRlIGFzeW5jIGJ1aWxkRGVmaW5pdGlvbihcblx0XHRcdGNvbnN0cnVjdG9yOiBDdXN0b21FbGVtZW50Q29uc3RydWN0b3Jcblx0KTogUHJvbWlzZTxDdXN0b21hcnlEZWZpbml0aW9uPFQ+PlxuXHR7XG5cdFx0Y29uc3Qge3RlbXBsYXRlLCB0ZW1wbGF0ZUluRG9jdW1lbnR9ID1cblx0XHRcdFx0YXdhaXQgdGhpcy5yZXNvbHZlSFRNTFRlbXBsYXRlRWxlbWVudCh0aGlzLm5hbWUpO1xuXG5cdFx0Y29uc3QgYXR0cmlidXRlczogQXR0cmlidXRlc0RlZmluaXRpb24gPVxuXHRcdFx0ZGV0ZWN0QXR0cmlidXRlcyh7Y29uZmlnOiB0aGlzLmRlY2xhcmF0aW9uLmNvbmZpZywgdGVtcGxhdGV9KTtcblxuXHRcdGNvbnN0IGN1c3RvbWFyeURlZmluaXRpb246IEN1c3RvbWFyeURlZmluaXRpb248VD4gPSB7XG5cdFx0XHRkZWNsYXJhdGlvbjogdGhpcy5kZWNsYXJhdGlvbixcblx0XHRcdGF0dHJpYnV0ZXM6IGF0dHJpYnV0ZXMsXG5cdFx0XHR0ZW1wbGF0ZUluRG9jdW1lbnQ6ICEhdGVtcGxhdGVJbkRvY3VtZW50LFxuXHRcdFx0aW1tdXRhYmxlX2h0bWxTdHJpbmc6IHRoaXMuZ2V0SHRtbFN0cmluZyh0ZW1wbGF0ZSksXG5cdFx0fTtcblxuXHRcdEN1c3RvbWFyeURlZmluZS5hZGRQcm9wZXJ0aWVzKGNvbnN0cnVjdG9yIGFzIHR5cGVvZiBMaXRFbGVtZW50LCBjdXN0b21hcnlEZWZpbml0aW9uKTtcblxuXHRcdHJldHVybiBjdXN0b21hcnlEZWZpbml0aW9uO1xuXHR9XG5cblx0cHJpdmF0ZSBhc3luYyByZXNvbHZlSFRNTFRlbXBsYXRlRWxlbWVudChcblx0XHRcdG5hbWU6IHN0cmluZ1xuXHQpOiBQcm9taXNlPHtcblx0XHR0ZW1wbGF0ZUluRG9jdW1lbnQ6IEhUTUxUZW1wbGF0ZUVsZW1lbnQgfCB1bmRlZmluZWQ7XG5cdFx0dGVtcGxhdGU6IEhUTUxUZW1wbGF0ZUVsZW1lbnQ7XG5cdH0+IHtcblx0XHR0cnkge1xuXHRcdFx0Y29uc3QgdGVtcGxhdGVJbkRvY3VtZW50OiBIVE1MVGVtcGxhdGVFbGVtZW50IHwgdW5kZWZpbmVkID1cblx0XHRcdFx0XHRmaW5kSFRNTFRlbXBsYXRlRWxlbWVudChuYW1lLCBkb2N1bWVudCk7XG5cblx0XHRcdGlmICh0ZW1wbGF0ZUluRG9jdW1lbnQpIHJldHVybiB7XG5cdFx0XHRcdHRlbXBsYXRlOiB0ZW1wbGF0ZUluRG9jdW1lbnQsXG5cdFx0XHRcdHRlbXBsYXRlSW5Eb2N1bWVudCxcblx0XHRcdH07XG5cblx0XHRcdGNvbnN0IHRlbXBsYXRlSW5FeHRlcm5hbEZpbGU6IEhUTUxUZW1wbGF0ZUVsZW1lbnQgPVxuXHRcdFx0XHRcdGF3YWl0IHRoaXMuZmluZEhUTUxUZW1wbGF0ZUVsZW1lbnRJbkV4dGVybmFsRmlsZShuYW1lKTtcblxuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0dGVtcGxhdGU6IHRlbXBsYXRlSW5FeHRlcm5hbEZpbGUsXG5cdFx0XHRcdHRlbXBsYXRlSW5Eb2N1bWVudDogdW5kZWZpbmVkLFxuXHRcdFx0fVxuXHRcdH1cblx0XHRjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBgJHtuYW1lfTogdGVtcGxhdGUgdW5yZXNvbHZhYmxlIGZyb20gY3VycmVudCBwYWdlIG9yIGV4dGVybmFsIGh0bWxgO1xuICAgICAgICAgICAgYXN5bmMgZnVuY3Rpb24gdW5yZXNvbHZhYmxlKCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlLCB7Y2F1c2U6IGVycm9yfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2b2lkIHVucmVzb2x2YWJsZSgpO1xuICAgICAgICAgICAgY29uc3QgdGVtcGxhdGVQbGFjZWhvbGRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJyk7XG4gICAgICAgICAgICB0ZW1wbGF0ZVBsYWNlaG9sZGVyLmlubmVySFRNTCA9IGA8c3BhbiBzdHlsZT1cImNvbG9yOiByZWQ7IGJhY2tncm91bmQ6IHllbGxvd1wiPlske21lc3NhZ2V9XTwvc3Bhbj5gO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogdGVtcGxhdGVQbGFjZWhvbGRlcixcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZUluRG9jdW1lbnQ6IHRlbXBsYXRlUGxhY2Vob2xkZXIsXG4gICAgICAgICAgICB9XG5cdFx0fVxuXHR9XG5cblx0cHJpdmF0ZSBzdGF0aWMgYWRkUHJvcGVydGllczxUIGV4dGVuZHMgSFRNTEVsZW1lbnQ+KFxuXHRcdFx0Y29uc3RydWN0b3I6IHR5cGVvZiBMaXRFbGVtZW50LFxuXHRcdFx0Y3VzdG9tYXJ5RGVmaW5pdGlvbjogQ3VzdG9tYXJ5RGVmaW5pdGlvbjxUPixcblx0KVxuXHR7XG5cdFx0QXR0cmlidXRlUHJvcGVydGllcy5hZGRQcm9wZXJ0aWVzKGNvbnN0cnVjdG9yLCBjdXN0b21hcnlEZWZpbml0aW9uLmF0dHJpYnV0ZXMpO1xuXHRcdFN0YXRlUHJvcGVydGllcy5hZGRQcm9wZXJ0aWVzKGNvbnN0cnVjdG9yLCBjdXN0b21hcnlEZWZpbml0aW9uLmRlY2xhcmF0aW9uKTtcblx0XHRQcm9wZXJ0aWVzUHJvcGVydGllcy5hZGRQcm9wZXJ0aWVzKGNvbnN0cnVjdG9yLCBjdXN0b21hcnlEZWZpbml0aW9uLmRlY2xhcmF0aW9uKTtcblx0fVxuXG5cdHByaXZhdGUgZ2V0SHRtbFN0cmluZyh0ZW1wbGF0ZTogSFRNTFRlbXBsYXRlRWxlbWVudCk6IHN0cmluZ1xuXHR7XG5cdFx0ZW5jb2RlRXhwcmVzc2lvblBsYWNlaG9sZGVycyh0ZW1wbGF0ZSk7XG5cdFx0dGhpcy5oeWRyYXRlTWFya3VwKHRlbXBsYXRlKTtcblxuXHRcdGNvbnN0IHMgPSB0ZW1wbGF0ZS5pbm5lckhUTUw7XG5cblx0XHRjb25zdCBzMSA9IGRlY29kZUV4cHJlc3Npb25QbGFjZWhvbGRlcnMocyk7XG5cdFx0cmV0dXJuIHJlc3RvcmVBcnJvd0Z1bmN0aW9uc0VuY29kZWRCeVRlbXBsYXRlSW5uZXJIdG1sKHMxKTtcblx0fVxuXG5cdHByaXZhdGUgaHlkcmF0ZU1hcmt1cCh0ZW1wbGF0ZTogSFRNTFRlbXBsYXRlRWxlbWVudCkge1xuXHRcdE1hcmt1cF9mb3IuaHlkcmF0ZSh0ZW1wbGF0ZSk7XG5cdFx0TWFya3VwX2lmLmh5ZHJhdGUodGVtcGxhdGUpO1xuXHRcdE1hcmt1cF9zd2l0Y2guaHlkcmF0ZSh0ZW1wbGF0ZSk7XG5cdFx0TWFya3VwX2NsYXNzTWFwLmh5ZHJhdGUodGVtcGxhdGUpO1xuXG5cdFx0Ly8gbXVzdCBiZSBsYXN0IHRvIGFjY29tbW9kYXRlIGFsbCBvdGhlcnNcblx0XHRNYXJrdXBfaW5zaWRlLmh5ZHJhdGUodGVtcGxhdGUpO1xuXHR9XG5cblx0cHJpdmF0ZSBhc3luYyBmaW5kSFRNTFRlbXBsYXRlRWxlbWVudEluRXh0ZXJuYWxGaWxlKFxuXHRcdFx0bmFtZTogc3RyaW5nXG5cdCk6IFByb21pc2U8SFRNTFRlbXBsYXRlRWxlbWVudD4ge1xuXHRcdGNvbnN0IGh0bWxTdHJpbmcgPSBhd2FpdCB0aGlzLmxvYWRFeHRlcm5hbEh0bWwoKTtcblx0XHRjb25zdCB0ZW1wbGF0ZTogSFRNTFRlbXBsYXRlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJyk7XG5cdFx0dGVtcGxhdGUuaW5uZXJIVE1MID0gaHRtbFN0cmluZztcblx0XHRyZXR1cm4gZmluZEhUTUxUZW1wbGF0ZUVsZW1lbnQobmFtZSwgdGVtcGxhdGUuY29udGVudCkgPz8gdGVtcGxhdGU7XG5cdH1cblxuXHRwcml2YXRlIGFzeW5jIGxvYWRFeHRlcm5hbEh0bWwoKTogUHJvbWlzZTxzdHJpbmc+IHtcblx0XHR0cnkge1xuXHRcdFx0cmV0dXJuIGF3YWl0IChhd2FpdCB0aGlzLmV4dGVybmFsTG9hZGVyKS5sb2FkSHRtbCgpO1xuXHRcdH1cblx0XHRjYXRjaCAoZXJyb3IpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcignRXh0ZXJuYWwgaHRtbCBmaWxlIG91dCBvZiByZWFjaC4nLCB7Y2F1c2U6IGVycm9yfSk7XG5cdFx0fVxuXHR9XG5cblx0Y29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSBkZWNsYXJhdGlvbjogQ3VzdG9tYXJ5RGVjbGFyYXRpb248YW55Pilcblx0e1xuXHRcdHRoaXMubmFtZSA9IGRlY2xhcmF0aW9uLm5hbWUhO1xuXHR9XG5cdHByaXZhdGUgcmVhZG9ubHkgbmFtZTogc3RyaW5nO1xuXG5cdHByaXZhdGUgZ2V0IGV4dGVybmFsTG9hZGVyKCk6IFByb21pc2U8RXh0ZXJuYWxMb2FkZXI+IHtcblx0XHRyZXR1cm4gdGhpcy5fZXh0ZXJuYWxMb2FkZXIgPz89IGNyZWF0ZUV4dGVybmFsTG9hZGVyKFxuXHRcdFx0XHR0aGlzLmZldGNoVGV4dCxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdG5hbWU6IHRoaXMubmFtZSxcblx0XHRcdFx0XHRpbXBvcnRfbWV0YTogZ2V0X2ltcG9ydF9tZXRhKHRoaXMuZGVjbGFyYXRpb24pLFxuXHRcdFx0XHR9XG5cdFx0KTtcblx0fVxuXG5cdHByaXZhdGUgX2V4dGVybmFsTG9hZGVyOiBQcm9taXNlPEV4dGVybmFsTG9hZGVyPiB8IHVuZGVmaW5lZDtcblxuXHRwcml2YXRlIGdldCBmZXRjaFRleHQoKTogUHJvbWlzZTxGZXRjaFRleHQ+IHtcblx0XHRyZXR1cm4gdGhpcy5fZmV0Y2hUZXh0ID8/PSBsb2FkRmV0Y2hUZXh0KCk7XG5cdH1cblxuXHRwcml2YXRlIF9mZXRjaFRleHQ6IFByb21pc2U8RmV0Y2hUZXh0PiB8IHVuZGVmaW5lZDtcblxufVxuXG5hc3luYyBmdW5jdGlvbiBjcmVhdGVFeHRlcm5hbExvYWRlcihcblx0XHRmZXRjaFRleHQ6IFByb21pc2U8RmV0Y2hUZXh0Pixcblx0XHRvcHRpb25zOiB7XG5cdFx0XHRuYW1lOiBzdHJpbmcsXG5cdFx0XHRpbXBvcnRfbWV0YTogSW1wb3J0TWV0YTtcblx0XHR9XG4pOiBQcm9taXNlPEV4dGVybmFsTG9hZGVyPiB7XG5cdHJldHVybiBuZXcgRXh0ZXJuYWxMb2FkZXIoXG5cdFx0XHRhd2FpdCBmZXRjaFRleHQsXG5cdFx0XHRvcHRpb25zXG5cdCk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGxvYWRGZXRjaFRleHQoKTogUHJvbWlzZTxGZXRjaFRleHQ+IHtcblx0cmV0dXJuIEZldGNoVGV4dF9ET01fc2luZ2xldG9uO1xufVxuXG5mdW5jdGlvbiBmaW5kSFRNTFRlbXBsYXRlRWxlbWVudChuYW1lOiBzdHJpbmcsIG5vZGU6IFBhcmVudE5vZGUpOiBIVE1MVGVtcGxhdGVFbGVtZW50IHwgdW5kZWZpbmVkIHtcblx0cmV0dXJuIG5vZGUucXVlcnlTZWxlY3RvcihgdGVtcGxhdGVbZGF0YS1jdXN0b21hcnktbmFtZT0nJHtuYW1lfSddYCkgYXMgSFRNTFRlbXBsYXRlRWxlbWVudCA/PyB1bmRlZmluZWQ7XG59XG5cbmZ1bmN0aW9uIGVuY29kZUV4cHJlc3Npb25QbGFjZWhvbGRlcnModGVtcGxhdGU6IEhUTUxUZW1wbGF0ZUVsZW1lbnQpIHtcbiAgICBFeHByZXNzaW9uQXR0cmlidXRlcy5lbmNvZGVFeHByZXNzaW9uUGxhY2Vob2xkZXJzKHRlbXBsYXRlKTtcbiAgICBBdHRyaWJ1dGVfYmluZC5lbmNvZGVFeHByZXNzaW9uUGxhY2Vob2xkZXJzKHRlbXBsYXRlKTtcbn1cblxuZnVuY3Rpb24gZGVjb2RlRXhwcmVzc2lvblBsYWNlaG9sZGVycyhzMTogc3RyaW5nKSB7XG4gICAgcmV0dXJuIEV4cHJlc3Npb25zX3JlY29kZS5kZWNvZGVFeHByZXNzaW9uUGxhY2Vob2xkZXJzKHMxKTtcbn1cblxuLyoqXG4gaW5uZXJIVE1MIGVuY29kZXMgc29tZSBjaGFyYWN0ZXJzIHVzZWQgYnkgbGl0IGRpcmVjdGl2ZXMsXG4gc28gd2UgbXVzdCBkZWNvZGUgdGhlbSBiYWNrIGludG8gdGhlIEhUTUwgc3RyaW5nLlxuIG92ZXIgdGltZSB0aGUgbmVlZCB0byBkbyB0aGlzIHNob3VsZCBkaXNhcHBlYXIsXG4gYXMgd2UgYWRkIGRpcmVjdGl2ZSBtYXJrdXAgZm9yIGEgbGFyZ2VyIG51bWJlciBvZiBsaXQgZGlyZWN0aXZlcy5cbiAqL1xuZnVuY3Rpb24gcmVzdG9yZUFycm93RnVuY3Rpb25zRW5jb2RlZEJ5VGVtcGxhdGVJbm5lckh0bWwoaHRtbFN0cmluZzogc3RyaW5nKSB7XG5cdC8vIGxpdCBkaXJlY3RpdmVzIGV4cHJlc3NlZCBhcyBhcnJvdyBmdW5jdGlvbnNcblx0cmV0dXJuIGh0bWxTdHJpbmcucmVwbGFjZUFsbCgnPSZndDsnLCAnPT4nKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldF9pbXBvcnRfbWV0YShkZWNsYXJhdGlvbjogQ3VzdG9tYXJ5RGVjbGFyYXRpb248YW55Pikge1xuXHRyZXR1cm4gZGVjbGFyYXRpb24uaG9va3M/LmV4dGVybmFsTG9hZGVyPy5pbXBvcnRfbWV0YSA/PyAoKCkgPT4ge1xuXHRcdHRocm93IG5ldyBFcnJvcihgJHtkZWNsYXJhdGlvbi5uYW1lfTogQ3VzdG9tYXJ5IG5lZWRzIFwiaW1wb3J0Lm1ldGFcIiBpZiB0aGUgY3VzdG9tIGVsZW1lbnQgdGVtcGxhdGUgYCArXG5cdFx0XHQnaXMgdG8gYmUgbG9hZGVkIGZyb20gYW4gZXh0ZXJuYWwgZmlsZS4gJyArXG5cdFx0XHQnKGRvY3VtZW50IGRpZCBub3QgaGF2ZSBhIG5hbWVkIHRlbXBsYXRlIGVsZW1lbnQsIGFuZCBhbiBodG1sIHN0cmluZyB3YXMgbm90IHByb3ZpZGVkLiknKVxuXHR9KSgpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29sbGVjdF9mb250X2xvY2F0aW9ucyhkZWNsYXJhdGlvbjogQ3VzdG9tYXJ5RGVjbGFyYXRpb248YW55Pik6IHN0cmluZ1tdIHwgdW5kZWZpbmVkIHtcblx0cmV0dXJuICgoYTogc3RyaW5nW10pID0+IGEubGVuZ3RoID4gMCA/IGEgOiB1bmRlZmluZWQpKFxuXHRcdFtcblx0XHRcdGRlY2xhcmF0aW9uLmNvbmZpZz8uZGVmaW5lPy5mb250TG9jYXRpb24sXG5cdFx0XHQuLi4oZGVjbGFyYXRpb24uY29uZmlnPy5kZWZpbmU/LmZvbnRMb2NhdGlvbnMgPz8gW10pLFxuXHRcdF1cblx0XHRcdC5maWx0ZXIobG9jYXRpb24gPT4gbG9jYXRpb24gIT0gdW5kZWZpbmVkKVxuXHQpO1xufVxuIiwiaW1wb3J0IHtGZXRjaFRleHR9IGZyb20gXCIjY3VzdG9tYXJ5L2ZldGNoL0ZldGNoVGV4dC5qc1wiO1xuXG5leHBvcnQgY2xhc3MgRXh0ZXJuYWxMb2FkZXIge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIHJlYWRvbmx5IGZldGNoVGV4dDogRmV0Y2hUZXh0LFxuICAgICAgICBwcml2YXRlIHJlYWRvbmx5IG9wdGlvbnM6IHtcbiAgICAgICAgICAgIG5hbWU6IHN0cmluZyxcbiAgICAgICAgICAgIGltcG9ydF9tZXRhOiBJbXBvcnRNZXRhO1xuICAgICAgICB9XG4gICAgKSB7fVxuXG4gICAgYXN5bmMgbG9hZEh0bWwoKTogUHJvbWlzZTxzdHJpbmc+XG4gICAge1xuICAgICAgICBjb25zdCBsb2NhdGlvbiA9IHRoaXMucmVzb2x2ZVJlc291cmNlTG9jYXRpb24oJ2h0bWwnKTtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZmV0Y2hUZXh0LmZldGNoVGV4dChsb2NhdGlvbik7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZXNvbHZlUmVzb3VyY2VMb2NhdGlvbihleHRlbnNpb246IHN0cmluZyk6IHN0cmluZ1xuICAgIHtcbiAgICAgICAgcmV0dXJuIHJlc29sdmVMb2NhdGlvbih7XG4gICAgICAgICAgICBpbXBvcnRfbWV0YTogdGhpcy5vcHRpb25zLmltcG9ydF9tZXRhLFxuICAgICAgICAgICAgbmFtZTogdGhpcy5vcHRpb25zLm5hbWUsXG4gICAgICAgICAgICBleHRlbnNpb24sXG4gICAgICAgIH0pXG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVzb2x2ZUxvY2F0aW9uKFxuICAgIG9wdGlvbnM6IHtcbiAgICAgICAgaW1wb3J0X21ldGE6IEltcG9ydE1ldGE7XG4gICAgICAgIG5hbWU6IHN0cmluZyxcbiAgICAgICAgZXh0ZW5zaW9uOiBzdHJpbmcsXG4gICAgfVxuKTogc3RyaW5nXG57XG4gICAgcmV0dXJuIG9wdGlvbnMuaW1wb3J0X21ldGEucmVzb2x2ZShgLi8ke29wdGlvbnMubmFtZX0uJHtvcHRpb25zLmV4dGVuc2lvbn1gKTtcbn1cbiIsImV4cG9ydCBpbnRlcmZhY2UgRmV0Y2hUZXh0IHtcbiAgICBmZXRjaFRleHQoaW5wdXQ6IFJlcXVlc3RJbmZvIHwgVVJMKTogUHJvbWlzZTxzdHJpbmc+O1xufVxuXG5jbGFzcyBGZXRjaFRleHRfRE9NIGltcGxlbWVudHMgRmV0Y2hUZXh0IHtcbiAgICBwdWJsaWMgYXN5bmMgZmV0Y2hUZXh0KGlucHV0OiBSZXF1ZXN0SW5mbyB8IFVSTCk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goaW5wdXQpO1xuICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3BvbnNlLnN0YXR1c1RleHQsIHtjYXVzZTogcmVzcG9uc2V9KTtcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBGZXRjaFRleHRfRE9NX3NpbmdsZXRvbiA9IG5ldyBGZXRjaFRleHRfRE9NKCk7XG4iLCJpbXBvcnQge3NldF9vdXRlckhUTUx9IGZyb20gXCIuL3NldF9vdXRlckhUTUwuanNcIjtcbmltcG9ydCB7dG9TZWxlY3Rvcn0gZnJvbSBcIiNjdXN0b21hcnkvbWFya3VwL3RvU2VsZWN0b3IuanNcIjtcblxuZXhwb3J0IGNsYXNzIE1hcmt1cF9mb3Jcbntcblx0c3RhdGljIGh5ZHJhdGUodGVtcGxhdGU6IEhUTUxUZW1wbGF0ZUVsZW1lbnQpIHtcblx0XHR0aGlzLmh5ZHJhdGVUcmVlKHRlbXBsYXRlLmNvbnRlbnQsIHRlbXBsYXRlKTtcblx0fVxuXG5cdHByaXZhdGUgc3RhdGljIGh5ZHJhdGVUcmVlKG5vZGU6IFBhcmVudE5vZGUsIHRlbXBsYXRlOiBIVE1MVGVtcGxhdGVFbGVtZW50KVxuXHR7XG5cdFx0d2hpbGUgKHRydWUpIHtcblx0XHRcdGNvbnN0IHRhZyA9IG5vZGUucXVlcnlTZWxlY3Rvcih0b1NlbGVjdG9yKGZvcl9tYXJrdXApKTtcblx0XHRcdGlmICghdGFnKSByZXR1cm47XG5cblx0XHRcdHRoaXMuaHlkcmF0ZVRyZWUodGFnLCB0ZW1wbGF0ZSk7XG5cblx0XHRcdGNvbnN0IGl0ZW1zID0gdGFnLmdldEF0dHJpYnV0ZSgnaXRlbXMnKSA/P1xuXHRcdFx0XHRcdCgoKT0+e1xuXHRcdFx0XHRcdFx0dGhyb3cgRXJyb3IoYEF0dHJpYnV0ZSBcIml0ZW1zXCIgaXMgcmVxdWlyZWQgZm9yIFwiJHtmb3JfbWFya3VwfVwiIG1hcmt1cGApXG5cdFx0XHRcdFx0fSkoKTtcblxuXHRcdFx0Y29uc3QgdmFsdWUgPSB0YWcuZ2V0QXR0cmlidXRlKCd2YWx1ZScpID8/ICd2YWx1ZSc7XG5cblx0XHRcdGNvbnN0IGluZGV4ID0gdGFnLmdldEF0dHJpYnV0ZSgnaW5kZXgnKTtcblx0XHRcdGNvbnN0IGFyZ3MgPSBpbmRleCA/IGAoJHt2YWx1ZX0sICR7aW5kZXh9KWAgOiB2YWx1ZTtcblxuXHRcdFx0Y29uc3QgYm9keSA9IHRhZy5pbm5lckhUTUw7XG5cblx0XHRcdGNvbnN0IHVzZV9yZXBlYXRfaW5zdGVhZF9vZl9tYXAgPSB0cnVlO1xuXHRcdFx0Y29uc3QgZGlyZWN0aXZlID0gdXNlX3JlcGVhdF9pbnN0ZWFkX29mX21hcFxuXHRcdFx0XHQ/IGBcXCR7cmVwZWF0KCR7aXRlbXN9Pz9bXSwgJHthcmdzfSA9PiBjdXN0b21hcnlfbGl0X2h0bWxfdHJhY2soIGh0bWxcXGAke2JvZHl9XFxgICkgKX1gXG5cdFx0XHRcdDogYFxcJHttYXAoJHtpdGVtc30sICR7YXJnc30gPT4gY3VzdG9tYXJ5X2xpdF9odG1sX3RyYWNrKCBodG1sXFxgJHtib2R5fVxcYCApICl9YFxuXHRcdFx0O1xuXG5cdFx0XHRzZXRfb3V0ZXJIVE1MKHRhZywgZGlyZWN0aXZlLCB0ZW1wbGF0ZSk7XG5cdFx0fVxuXHR9XG59XG5jb25zdCBmb3JfbWFya3VwID0gJ2N1c3RvbWFyeTpmb3InO1xuIiwiZXhwb3J0IGZ1bmN0aW9uIHNldF9vdXRlckhUTUwodGFnLCB2YWx1ZSwgdGVtcGxhdGUpIHtcbiAgICB0cnkge1xuICAgICAgICB0YWcub3V0ZXJIVE1MID0gdmFsdWU7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zdCBjaHJvbWUgPSBcIkZhaWxlZCB0byBzZXQgdGhlICdvdXRlckhUTUwnIHByb3BlcnR5IG9uICdFbGVtZW50JzogXCIgK1xuICAgICAgICAgICAgXCJUaGlzIGVsZW1lbnQncyBwYXJlbnQgaXMgb2YgdHlwZSAnI2RvY3VtZW50LWZyYWdtZW50Jywgd2hpY2ggaXMgbm90IGFuIGVsZW1lbnQgbm9kZS5cIjtcbiAgICAgICAgaWYgKGVycm9yLm1lc3NhZ2UgPT09IGNocm9tZSkge1xuICAgICAgICAgICAgdGVtcGxhdGUuaW5uZXJIVE1MID0gdGVtcGxhdGUuaW5uZXJIVE1MLnJlcGxhY2UodGFnLm91dGVySFRNTCwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2V0X291dGVySFRNTC5qcy5tYXAiLCJleHBvcnQgZnVuY3Rpb24gc2V0X291dGVySFRNTChcblx0XHR0YWc6IEVsZW1lbnQsIHZhbHVlOiBzdHJpbmcsIHRlbXBsYXRlOiBIVE1MVGVtcGxhdGVFbGVtZW50XG4pIHtcblx0dHJ5IHtcblx0XHR0YWcub3V0ZXJIVE1MID0gdmFsdWU7XG5cdH1cblx0Y2F0Y2ggKGVycm9yOiBhbnkpIHtcblx0XHRjb25zdCBjaHJvbWUgPVxuXHRcdFx0XHRcIkZhaWxlZCB0byBzZXQgdGhlICdvdXRlckhUTUwnIHByb3BlcnR5IG9uICdFbGVtZW50JzogXCIgK1xuXHRcdFx0XHRcIlRoaXMgZWxlbWVudCdzIHBhcmVudCBpcyBvZiB0eXBlICcjZG9jdW1lbnQtZnJhZ21lbnQnLCB3aGljaCBpcyBub3QgYW4gZWxlbWVudCBub2RlLlwiO1xuXHRcdGlmIChlcnJvci5tZXNzYWdlID09PSBjaHJvbWUpIHtcblx0XHRcdHRlbXBsYXRlLmlubmVySFRNTCA9IHRlbXBsYXRlLmlubmVySFRNTC5yZXBsYWNlKHRhZy5vdXRlckhUTUwsIHZhbHVlKTtcblx0XHR9XG5cdH1cbn0iLCJleHBvcnQgZnVuY3Rpb24gdG9TZWxlY3RvcihtYXJrdXA6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgcmV0dXJuIG1hcmt1cC5yZXBsYWNlKCc6JywgJ1xcXFw6Jyk7XG59XG4iLCJpbXBvcnQge3NldF9vdXRlckhUTUx9IGZyb20gXCIuL3NldF9vdXRlckhUTUwuanNcIjtcbmltcG9ydCB7dG9TZWxlY3Rvcn0gZnJvbSBcIiNjdXN0b21hcnkvbWFya3VwL3RvU2VsZWN0b3IuanNcIjtcblxuZXhwb3J0IGNsYXNzIE1hcmt1cF9pZlxue1xuXHRzdGF0aWMgaHlkcmF0ZSh0ZW1wbGF0ZTogSFRNTFRlbXBsYXRlRWxlbWVudCkge1xuXHRcdHRoaXMuaHlkcmF0ZVRyZWUodGVtcGxhdGUuY29udGVudCwgdGVtcGxhdGUpO1xuXHR9XG5cblx0cHJpdmF0ZSBzdGF0aWMgaHlkcmF0ZVRyZWUobm9kZTogUGFyZW50Tm9kZSwgdGVtcGxhdGU6IEhUTUxUZW1wbGF0ZUVsZW1lbnQpXG5cdHtcblx0XHR3aGlsZSAodHJ1ZSkge1xuXHRcdFx0Y29uc3QgdGFnID0gbm9kZS5xdWVyeVNlbGVjdG9yKHRvU2VsZWN0b3IoaWZfbWFya3VwKSk7XG5cdFx0XHRpZiAoIXRhZykgcmV0dXJuO1xuXG5cdFx0XHR0aGlzLmh5ZHJhdGVUcmVlKHRhZywgdGVtcGxhdGUpO1xuXG5cdFx0XHRjb25zdCBjb25kaXRpb24gPSB0YWcuZ2V0QXR0cmlidXRlKCdjb25kaXRpb24nKSA/P1xuXHRcdFx0XHRcdCgoKT0+e1xuXHRcdFx0XHRcdFx0dGhyb3cgRXJyb3IoYEF0dHJpYnV0ZSBcImNvbmRpdGlvblwiIGlzIHJlcXVpcmVkIGZvciBcIiR7aWZfbWFya3VwfVwiIG1hcmt1cGApXG5cdFx0XHRcdFx0fSkoKTtcblxuXHRcdFx0Y29uc3QgdHJ1ZUVsZW1lbnRzID0gWy4uLnRhZy5xdWVyeVNlbGVjdG9yQWxsKGA6c2NvcGUgPiAke3RvU2VsZWN0b3IodHJ1ZV9tYXJrdXApfWApXTtcblx0XHRcdGlmICh0cnVlRWxlbWVudHMubGVuZ3RoID4gMSkge1xuXHRcdFx0XHR0aHJvdyBFcnJvcihgT25seSBvbmUgXCIke3RydWVfbWFya3VwfVwiIGlzIGFsbG93ZWQgZm9yIFwiJHtpZl9tYXJrdXB9XCIgbWFya3VwYCk7XG5cdFx0XHR9XG5cdFx0XHRjb25zdCB0cnVlRWxlbWVudDogRWxlbWVudCB8IHVuZGVmaW5lZCA9IHRydWVFbGVtZW50c1swXTtcblxuXHRcdFx0Y29uc3QgZmFsc2VFbGVtZW50cyA9IFsuLi50YWcucXVlcnlTZWxlY3RvckFsbChgOnNjb3BlID4gJHt0b1NlbGVjdG9yKGZhbHNlX21hcmt1cCl9YCldO1xuXHRcdFx0aWYgKGZhbHNlRWxlbWVudHMubGVuZ3RoID4gMSkge1xuXHRcdFx0XHR0aHJvdyBFcnJvcihgT25seSBvbmUgXCIke2ZhbHNlX21hcmt1cH1cIiBpcyBhbGxvd2VkIGZvciBcIiR7aWZfbWFya3VwfVwiIG1hcmt1cGApO1xuXHRcdFx0fVxuXHRcdFx0Y29uc3QgZmFsc2VFbGVtZW50OiBFbGVtZW50IHwgdW5kZWZpbmVkID0gZmFsc2VFbGVtZW50c1swXTtcblxuXHRcdFx0aWYgKGZhbHNlRWxlbWVudCAmJiAhdHJ1ZUVsZW1lbnQpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoYE9uZSBcIiR7dHJ1ZV9tYXJrdXB9XCIgaXMgcmVxdWlyZWQgaWYgXCIke2ZhbHNlX21hcmt1cH1cIiBwcmVzZW50IGZvciBcIiR7aWZfbWFya3VwfVwiIG1hcmt1cGApO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCB0cnVlQ2FzZSA9IGAoKSA9PiBjdXN0b21hcnlfbGl0X2h0bWxfdHJhY2soIGh0bWxcXGAke3RydWVFbGVtZW50Py5pbm5lckhUTUwgPz8gdGFnLmlubmVySFRNTH1cXGAgKWA7XG5cblx0XHRcdGNvbnN0IGZhbHNlQ2FzZSA9IGZhbHNlRWxlbWVudCA/IGAsICgpID0+IGN1c3RvbWFyeV9saXRfaHRtbF90cmFjayggaHRtbFxcYCR7ZmFsc2VFbGVtZW50LmlubmVySFRNTH1cXGAgKWAgOiAnJztcblxuXHRcdFx0Y29uc3QgZGlyZWN0aXZlID0gYFxcJHt3aGVuKCR7Y29uZGl0aW9ufSwgJHt0cnVlQ2FzZX0ke2ZhbHNlQ2FzZX0pfWA7XG5cblx0XHRcdHNldF9vdXRlckhUTUwodGFnLCBkaXJlY3RpdmUsIHRlbXBsYXRlKTtcblx0XHR9XG5cdH1cbn1cbmNvbnN0IGlmX21hcmt1cCA9ICdjdXN0b21hcnk6aWYnO1xuY29uc3QgZmFsc2VfbWFya3VwID0gJ2N1c3RvbWFyeTpmYWxzZSc7XG5jb25zdCB0cnVlX21hcmt1cCA9ICdjdXN0b21hcnk6dHJ1ZSc7XG4iLCJpbXBvcnQge3RvU2VsZWN0b3J9IGZyb20gXCIjY3VzdG9tYXJ5L21hcmt1cC90b1NlbGVjdG9yLmpzXCI7XG5cbmV4cG9ydCBjbGFzcyBNYXJrdXBfaW5zaWRlXG57XG5cdHN0YXRpYyBoeWRyYXRlKHRlbXBsYXRlOiBIVE1MVGVtcGxhdGVFbGVtZW50KSB7XG5cdFx0dGhpcy5oeWRyYXRlVHJlZSh0ZW1wbGF0ZS5jb250ZW50LCB0ZW1wbGF0ZSk7XG5cdH1cblxuXHRwcml2YXRlIHN0YXRpYyBoeWRyYXRlVHJlZShub2RlOiBQYXJlbnROb2RlLCB0ZW1wbGF0ZTogSFRNTFRlbXBsYXRlRWxlbWVudClcblx0e1xuXHRcdHdoaWxlICh0cnVlKSB7XG5cdFx0XHRjb25zdCBtYXJrdXAgPSBub2RlLnF1ZXJ5U2VsZWN0b3IodG9TZWxlY3RvcihpbnNpZGVfbWFya3VwKSk7XG5cdFx0XHRpZiAoIW1hcmt1cCkgcmV0dXJuO1xuXG5cdFx0XHR0aGlzLmh5ZHJhdGVUcmVlKG1hcmt1cCwgdGVtcGxhdGUpO1xuXG5cdFx0XHRjb25zdCBzZWxlY3RvcnMgPSBtYXJrdXAuZ2V0QXR0cmlidXRlKCd0YXJnZXQnKTtcblx0XHRcdGlmICghc2VsZWN0b3JzKSB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihgQXR0cmlidXRlIFwidGFyZ2V0XCIgaXMgcmVxdWlyZWQgZm9yIFwiJHtpbnNpZGVfbWFya3VwfVwiIG1hcmt1cGApO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCB0YXJnZXQgPSBub2RlLnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3JzKTtcblx0XHRcdGlmICghdGFyZ2V0KSB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihgTm8gZWxlbWVudCBtYXRjaGluZyAke3NlbGVjdG9yc31gKTtcblx0XHRcdH1cblxuXHRcdFx0dGFyZ2V0LmlubmVySFRNTCA9IG1hcmt1cC5pbm5lckhUTUw7XG5cblx0XHRcdG1hcmt1cC5wYXJlbnROb2RlIS5yZW1vdmVDaGlsZChtYXJrdXApO1xuXHRcdH1cblx0fVxufVxuY29uc3QgaW5zaWRlX21hcmt1cCA9ICdjdXN0b21hcnk6aW5zaWRlJztcbiIsImltcG9ydCB7dG9TZWxlY3Rvcn0gZnJvbSBcIi4vdG9TZWxlY3Rvci5qc1wiO1xuXG5leHBvcnQgY2xhc3MgTWFya3VwX2NsYXNzTWFwXG57XG4gICAgc3RhdGljIGh5ZHJhdGUodGVtcGxhdGU6IEhUTUxUZW1wbGF0ZUVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5oeWRyYXRlVHJlZSh0ZW1wbGF0ZS5jb250ZW50KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHN0YXRpYyBoeWRyYXRlVHJlZShub2RlOiBQYXJlbnROb2RlKVxuICAgIHtcbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IG5vZGUucXVlcnlTZWxlY3Rvcih0b1NlbGVjdG9yKGNsYXNzTWFwX21hcmt1cCkpO1xuICAgICAgICAgICAgaWYgKCF0YWcpIHJldHVybjtcblxuICAgICAgICAgICAgdGhpcy5oeWRyYXRlVHJlZSh0YWcpO1xuXG4gICAgICAgICAgICBjb25zdCB0YXJnZXRTZWxlY3RvciA9IHRhZy5nZXRBdHRyaWJ1dGUoJ3RhcmdldCcpID8/XG4gICAgICAgICAgICAgICAgKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoYEF0dHJpYnV0ZSBcInRhcmdldFwiIGlzIHJlcXVpcmVkIGZvciBcIiR7Y2xhc3NNYXBfbWFya3VwfVwiIG1hcmt1cGApXG4gICAgICAgICAgICAgICAgfSkoKTtcblxuICAgICAgICAgICAgY29uc3QgY2xhc3NJbmZvID0gdGFnLmdldEF0dHJpYnV0ZSgnY2xhc3NJbmZvJykgPz9cbiAgICAgICAgICAgICAgICAoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihgQXR0cmlidXRlIFwiY2xhc3NJbmZvXCIgaXMgcmVxdWlyZWQgZm9yIFwiJHtjbGFzc01hcF9tYXJrdXB9XCIgbWFya3VwYClcbiAgICAgICAgICAgICAgICB9KSgpO1xuXG4gICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBub2RlLnF1ZXJ5U2VsZWN0b3IodGFyZ2V0U2VsZWN0b3IpO1xuICAgICAgICAgICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihgVGFyZ2V0IGVsZW1lbnQgXCIke3RhcmdldFNlbGVjdG9yfVwiIG5vdCBmb3VuZCBmb3IgXCIke2NsYXNzTWFwX21hcmt1cH1cIiBtYXJrdXBgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdDbGFzcyA9IHRhcmdldC5nZXRBdHRyaWJ1dGUoJ2NsYXNzJyk7XG4gICAgICAgICAgICBjb25zdCBjbGFzc01hcERpcmVjdGl2ZSA9IGBcXCR7Y2xhc3NNYXAoJHtjbGFzc0luZm99KX1gO1xuXG4gICAgICAgICAgICBjb25zdCBuZXdDbGFzcyA9XG4gICAgICAgICAgICAgICAgKGV4aXN0aW5nQ2xhc3MgPyBgJHtleGlzdGluZ0NsYXNzfSAke2NsYXNzTWFwRGlyZWN0aXZlfWAgOiBjbGFzc01hcERpcmVjdGl2ZSkudHJpbSgpO1xuXG4gICAgICAgICAgICBpZiAobmV3Q2xhc3MpIHtcbiAgICAgICAgICAgICAgICB0YXJnZXQuc2V0QXR0cmlidXRlKCdjbGFzcycsIG5ld0NsYXNzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGFnLnJlbW92ZSgpO1xuICAgICAgICB9XG4gICAgfVxufVxuY29uc3QgY2xhc3NNYXBfbWFya3VwID0gJ2N1c3RvbWFyeTpjbGFzc01hcCc7XG4iLCJleHBvcnQgZnVuY3Rpb24gdG9TZWxlY3RvcihtYXJrdXApIHtcbiAgICByZXR1cm4gbWFya3VwLnJlcGxhY2UoJzonLCAnXFxcXDonKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRvU2VsZWN0b3IuanMubWFwIiwiaW1wb3J0IHtzZXRfb3V0ZXJIVE1MfSBmcm9tIFwiLi9zZXRfb3V0ZXJIVE1MLmpzXCI7XG5pbXBvcnQge3RvU2VsZWN0b3J9IGZyb20gXCIjY3VzdG9tYXJ5L21hcmt1cC90b1NlbGVjdG9yLmpzXCI7XG5cbmV4cG9ydCBjbGFzcyBNYXJrdXBfc3dpdGNoXG57XG5cdHN0YXRpYyBoeWRyYXRlKHRlbXBsYXRlOiBIVE1MVGVtcGxhdGVFbGVtZW50KVxuXHR7XG5cdFx0dGhpcy5oeWRyYXRlVHJlZSh0ZW1wbGF0ZS5jb250ZW50LCB0ZW1wbGF0ZSk7XG5cdH1cblxuXHRwcml2YXRlIHN0YXRpYyBoeWRyYXRlVHJlZShub2RlOiBQYXJlbnROb2RlLCB0ZW1wbGF0ZTogSFRNTFRlbXBsYXRlRWxlbWVudClcblx0e1xuXHRcdHdoaWxlICh0cnVlKSB7XG5cdFx0XHRjb25zdCB0YWcgPSBub2RlLnF1ZXJ5U2VsZWN0b3IodG9TZWxlY3Rvcihzd2l0Y2hfbWFya3VwKSk7XG5cdFx0XHRpZiAoIXRhZykgcmV0dXJuO1xuXG5cdFx0XHR0aGlzLmh5ZHJhdGVUcmVlKHRhZywgdGVtcGxhdGUpO1xuXG5cdFx0XHRjb25zdCB2YWx1ZSA9IHRhZy5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykgPz9cblx0XHRcdFx0XHQoKCkgPT4ge1xuXHRcdFx0XHRcdFx0dGhyb3cgRXJyb3IoYEF0dHJpYnV0ZSBcInZhbHVlXCIgaXMgcmVxdWlyZWQgZm9yIFwiJHtzd2l0Y2hfbWFya3VwfVwiIG1hcmt1cGApXG5cdFx0XHRcdFx0fSkoKTtcblxuXHRcdFx0Y29uc3QgY2FzZXMgPSB0aGlzLnRvQ2FzZXMoWy4uLnRhZy5xdWVyeVNlbGVjdG9yQWxsKGA6c2NvcGUgPiAke3RvU2VsZWN0b3IoY2FzZV9tYXJrdXApfWApXSk7XG5cblx0XHRcdGNvbnN0IHZhbHVlQ2FzZXMgPSBjYXNlcy52YWx1ZUNhc2VzLmpvaW4oJyxcXG4nKTtcblxuXHRcdFx0Y29uc3QgZGVmYXVsdENhc2UgPSBjYXNlcy5kZWZhdWx0Q2FzZSA/IGAsXFxuJHtjYXNlcy5kZWZhdWx0Q2FzZX1gIDogJyc7XG5cblx0XHRcdGNvbnN0IGRpcmVjdGl2ZSA9IGBcXCR7Y2hvb3NlKCR7dmFsdWV9LFxcblske3ZhbHVlQ2FzZXN9XSR7ZGVmYXVsdENhc2V9KX1gO1xuXG5cdFx0XHRzZXRfb3V0ZXJIVE1MKHRhZywgZGlyZWN0aXZlLCB0ZW1wbGF0ZSk7XG5cdFx0fVxuXHR9XG5cblx0cHJpdmF0ZSBzdGF0aWMgdG9DYXNlcyhjYXNlczogRWxlbWVudFtdKToge1xuXHRcdHZhbHVlQ2FzZXM6IHN0cmluZ1tdO1xuXHRcdGRlZmF1bHRDYXNlPzogc3RyaW5nXG5cdH0ge1xuXHRcdGlmIChjYXNlcy5sZW5ndGggPT09IDApIHtcblx0XHRcdHRocm93IEVycm9yKGBBdCBsZWFzdCBvbmUgXCIke2Nhc2VfbWFya3VwfVwiIGlzIHJlcXVpcmVkIGZvciBcIiR7c3dpdGNoX21hcmt1cH1cIiBtYXJrdXBgKTtcblx0XHR9XG5cblx0XHRjb25zdCBkZWZhdWx0RWxlbWVudHMgPVxuXHRcdFx0XHRjYXNlcy5maWx0ZXIoY2FzZUVsZW1lbnQgPT4gIWNhc2VFbGVtZW50Lmhhc0F0dHJpYnV0ZSgndmFsdWUnKSk7XG5cdFx0aWYgKGRlZmF1bHRFbGVtZW50cy5sZW5ndGggPiAxKSB7XG5cdFx0XHR0aHJvdyBFcnJvcihgT25seSBvbmUgZGVmYXVsdCBcIiR7Y2FzZV9tYXJrdXB9XCIgaXMgYWxsb3dlZCBmb3IgXCIke3N3aXRjaF9tYXJrdXB9XCIgbWFya3VwYCk7XG5cdFx0fVxuXHRcdGNvbnN0IGRlZmF1bHRFbGVtZW50ID0gZGVmYXVsdEVsZW1lbnRzWzBdO1xuXHRcdGNvbnN0IGRlZmF1bHRDYXNlID0gYCgpID0+IGN1c3RvbWFyeV9saXRfaHRtbF90cmFjayggaHRtbFxcYCR7ZGVmYXVsdEVsZW1lbnQ/LmlubmVySFRNTH1cXGAgKWA7XG5cblx0XHRjb25zdCB2YWx1ZUVsZW1lbnRzID1cblx0XHRcdFx0Y2FzZXMuZmlsdGVyKGNhc2VFbGVtZW50ID0+IGNhc2VFbGVtZW50Lmhhc0F0dHJpYnV0ZSgndmFsdWUnKSk7XG5cdFx0Y29uc3QgdmFsdWVDYXNlcyA9IHZhbHVlRWxlbWVudHMubWFwKGNhc2VFbGVtZW50ID0+IHtcblx0XHRcdGNvbnN0IHZhbHVlID0gY2FzZUVsZW1lbnQuZ2V0QXR0cmlidXRlKCd2YWx1ZScpITtcblx0XHRcdHJldHVybiBgWycke3ZhbHVlfScsICgpID0+IGN1c3RvbWFyeV9saXRfaHRtbF90cmFjayggaHRtbFxcYCR7Y2FzZUVsZW1lbnQuaW5uZXJIVE1MfVxcYCApIF1gO1xuXHRcdH0pXG5cblx0XHRyZXR1cm4ge3ZhbHVlQ2FzZXMsIGRlZmF1bHRDYXNlfTtcblx0fVxufVxuY29uc3Qgc3dpdGNoX21hcmt1cCA9ICdjdXN0b21hcnk6c3dpdGNoJztcbmNvbnN0IGNhc2VfbWFya3VwID0gJ2N1c3RvbWFyeTpjYXNlJztcbiIsImltcG9ydCB7TGl0RWxlbWVudH0gZnJvbSBcIiNjdXN0b21hcnkvbGl0XCI7XG5pbXBvcnQge1Byb3BlcnRpZXNJbmplY3Rvcn0gZnJvbSBcIiNjdXN0b21hcnkvcHJvcGVydGllcy9Qcm9wZXJ0aWVzSW5qZWN0b3IuanNcIjtcbmltcG9ydCB7QXR0cmlidXRlc0RlZmluaXRpb259IGZyb20gXCIjY3VzdG9tYXJ5L2F0dHJpYnV0ZXMvQXR0cmlidXRlc0RlZmluaXRpb24uanNcIjtcblxuZXhwb3J0IGNsYXNzIEF0dHJpYnV0ZVByb3BlcnRpZXNcbntcblx0c3RhdGljIGFkZFByb3BlcnRpZXMoXG5cdFx0XHRjb25zdHJ1Y3RvcjogdHlwZW9mIExpdEVsZW1lbnQsXG5cdFx0XHRhdHRyaWJ1dGVzRGVmaW5pdGlvbjogQXR0cmlidXRlc0RlZmluaXRpb24sXG5cdClcblx0e1xuXHRcdFByb3BlcnRpZXNJbmplY3Rvci5pbmplY3RQcm9wZXJ0aWVzKGNvbnN0cnVjdG9yLCB7cmVmbGVjdDogdHJ1ZX0sIGF0dHJpYnV0ZXNEZWZpbml0aW9uLmF0dHJpYnV0ZXMpO1xuXHR9XG59XG4iLCJpbXBvcnQge0xpdEVsZW1lbnR9IGZyb20gXCIjY3VzdG9tYXJ5L2xpdFwiO1xuaW1wb3J0IHtQcm9wZXJ0eURlY2xhcmF0aW9uLCBQcm9wZXJ0eURlY2xhcmF0aW9uc30gZnJvbSBcIkBsaXQvcmVhY3RpdmUtZWxlbWVudFwiO1xuXG5leHBvcnQgY2xhc3MgUHJvcGVydGllc0luamVjdG9yIHtcblx0c3RhdGljIGluamVjdFByb3BlcnRpZXMoXG5cdFx0XHRjb25zdHJ1Y3RvcjogdHlwZW9mIExpdEVsZW1lbnQsXG5cdFx0XHRwcm9wZXJ0eURlY2xhcmF0aW9uOiBQcm9wZXJ0eURlY2xhcmF0aW9uLFxuXHRcdFx0bmFtZXM6IHN0cmluZ1tdXG5cdCkge1xuXHRcdGlmICghbmFtZXMubGVuZ3RoKSByZXR1cm47XG5cdFx0Y29uc3QgcHJvcGVydGllczogV3JpdGFibGU8UHJvcGVydHlEZWNsYXJhdGlvbnM+ID0gY29uc3RydWN0b3IucHJvcGVydGllcyA/Pz0ge307XG5cdFx0Zm9yIChjb25zdCBrZXkgb2YgbmFtZXMpIHtcblx0XHRcdGlmIChrZXkgaW4gcHJvcGVydGllcykgdGhyb3cgbmV3IEVycm9yKGAke2tleX06IHByb3BlcnR5IGFscmVhZHkgZXhpc3RzLmApO1xuXHRcdFx0cHJvcGVydGllc1trZXldID0gcHJvcGVydHlEZWNsYXJhdGlvbjtcblx0XHR9XG5cdH1cbn1cblxudHlwZSBXcml0YWJsZTxUPiA9IHstcmVhZG9ubHkgW1AgaW4ga2V5b2YgVF06IFRbUF19O1xuIiwiaW1wb3J0IHtMaXRFbGVtZW50fSBmcm9tIFwiI2N1c3RvbWFyeS9saXRcIjtcbmltcG9ydCB7Q3VzdG9tYXJ5RGVmaW5pdGlvbn0gZnJvbSBcIiNjdXN0b21hcnkvQ3VzdG9tYXJ5RGVmaW5pdGlvbi5qc1wiO1xuaW1wb3J0IHtQcm9wZXJ0aWVzSW5qZWN0b3J9IGZyb20gXCIjY3VzdG9tYXJ5L3Byb3BlcnRpZXMvUHJvcGVydGllc0luamVjdG9yLmpzXCI7XG5pbXBvcnQge0N1c3RvbWFyeURlY2xhcmF0aW9ufSBmcm9tIFwiI2N1c3RvbWFyeS9DdXN0b21hcnlEZWNsYXJhdGlvblwiO1xuXG5leHBvcnQgY2xhc3MgU3RhdGVQcm9wZXJ0aWVzIHtcblxuXHRzdGF0aWMgYWRkUHJvcGVydGllczxUIGV4dGVuZHMgSFRNTEVsZW1lbnQ+KFxuXHRcdFx0Y29uc3RydWN0b3I6IHR5cGVvZiBMaXRFbGVtZW50LFxuXHRcdFx0ZGVjbGFyYXRpb246IEN1c3RvbWFyeURlY2xhcmF0aW9uPFQ+XG5cdClcblx0e1xuXHRcdGNvbnN0IGZyb21EZWNsYXJhdGlvbiA9IGRlY2xhcmF0aW9uLmNvbmZpZz8uc3RhdGUgPz8gW107XG5cdFx0Y29uc3QgZnJvbUxlZ2FjeSA9IFsnc3RhdGUnXTtcblx0XHRjb25zdCBuYW1lcyA9IFsuLi5uZXcgU2V0KFsuLi5mcm9tRGVjbGFyYXRpb24sIC4uLmZyb21MZWdhY3ldKV07XG5cdFx0UHJvcGVydGllc0luamVjdG9yLmluamVjdFByb3BlcnRpZXMoY29uc3RydWN0b3IsIHtzdGF0ZTogdHJ1ZX0sIG5hbWVzKTtcblx0fVxuXG59XG4iLCJpbXBvcnQge0xpdEVsZW1lbnR9IGZyb20gXCIjY3VzdG9tYXJ5L2xpdFwiO1xuaW1wb3J0IHtDdXN0b21hcnlEZWZpbml0aW9ufSBmcm9tIFwiI2N1c3RvbWFyeS9DdXN0b21hcnlEZWZpbml0aW9uLmpzXCI7XG5pbXBvcnQge1Byb3BlcnRpZXNJbmplY3Rvcn0gZnJvbSBcIiNjdXN0b21hcnkvcHJvcGVydGllcy9Qcm9wZXJ0aWVzSW5qZWN0b3IuanNcIjtcbmltcG9ydCB7UHJvcGVydHlEZWNsYXJhdGlvbn0gZnJvbSBcIkBsaXQvcmVhY3RpdmUtZWxlbWVudFwiO1xuaW1wb3J0IHtDdXN0b21hcnlEZWNsYXJhdGlvbn0gZnJvbSBcIiNjdXN0b21hcnkvQ3VzdG9tYXJ5RGVjbGFyYXRpb25cIjtcblxuZXhwb3J0IGNsYXNzIFByb3BlcnRpZXNQcm9wZXJ0aWVzXG57XG5cdHN0YXRpYyBhZGRQcm9wZXJ0aWVzPFQgZXh0ZW5kcyBIVE1MRWxlbWVudD4oXG5cdFx0XHRjb25zdHJ1Y3RvcjogdHlwZW9mIExpdEVsZW1lbnQsXG5cdFx0XHRkZWNsYXJhdGlvbjogQ3VzdG9tYXJ5RGVjbGFyYXRpb248VD5cblx0KSB7XG5cdFx0Y29uc3QgaG9va3MgPSBkZWNsYXJhdGlvbi5ob29rcz8ucHJvcGVydGllcztcblx0XHRjb25zdCBob29rc0FycmF5OiBBdHRyaWJbXSA9IGhvb2tzIGluc3RhbmNlb2YgQXJyYXkgPyBob29rcyBhcyBBdHRyaWJbXSA6IFtdO1xuXHRcdGNvbnN0IGhvb2tzUmVjb3JkID0gaG9va3MgJiYgIShob29rcyBpbnN0YW5jZW9mIEFycmF5KSA/IGhvb2tzIDoge307XG5cblx0XHRjb25zdCBmcm9tQXJyYXk6IHN0cmluZ1tdID0gaG9va3NBcnJheS5tYXAobyA9PiBvLm5hbWUpO1xuXHRcdGNvbnN0IGZyb21SZWNvcmQ6IHN0cmluZ1tdID0gT2JqZWN0LmtleXMoaG9va3NSZWNvcmQpO1xuXG5cdFx0Y29uc3QgbmFtZXMgPSBbLi4ubmV3IFNldChbLi4uZnJvbUFycmF5LCAuLi5mcm9tUmVjb3JkXSldO1xuXG5cdFx0Zm9yIChjb25zdCBrZXkgb2YgbmFtZXMpIHtcblx0XHRcdFByb3BlcnRpZXNJbmplY3Rvci5pbmplY3RQcm9wZXJ0aWVzKGNvbnN0cnVjdG9yLFxuXHRcdFx0XHRcdGhvb2tzQXJyYXkuZmluZCh2YWx1ZSA9PiB2YWx1ZS5uYW1lID09PSBrZXkpPy5wcm9wZXJ0eURlY2xhcmF0aW9uXG5cdFx0XHRcdFx0Pz8gaG9va3NSZWNvcmRba2V5XSxcblx0XHRcdFx0XHRba2V5XSk7XG5cdFx0fVxuXHR9XG59XG5cbnR5cGUgQXR0cmliID0ge25hbWU6IHN0cmluZywgcHJvcGVydHlEZWNsYXJhdGlvbjogUHJvcGVydHlEZWNsYXJhdGlvbn07XG4iLCJpbXBvcnQge0V4cHJlc3Npb25zX3JlY29kZX0gZnJvbSBcIiNjdXN0b21hcnkvZXhwcmVzc2lvbnMvRXhwcmVzc2lvbnNfcmVjb2RlLmpzXCI7XG5cbmV4cG9ydCBjbGFzcyBBdHRyaWJ1dGVfYmluZCB7XG4gICAgc3RhdGljIGVuY29kZUV4cHJlc3Npb25QbGFjZWhvbGRlcnModGVtcGxhdGU6IEhUTUxUZW1wbGF0ZUVsZW1lbnQpXG4gICAge1xuICAgICAgICBjb25zdCB0YWdzID0gdGVtcGxhdGUuY29udGVudC5xdWVyeVNlbGVjdG9yQWxsKGBbJHtCSU5EX0FUVFJJQlVURX1dYCk7XG4gICAgICAgIGZvciAoY29uc3QgdGFnIG9mIHRhZ3MpIHtcbiAgICAgICAgICAgIGNvbnN0IGJpbmRpbmcgPSB0YWcuZ2V0QXR0cmlidXRlKEJJTkRfQVRUUklCVVRFKTtcbiAgICAgICAgICAgIGNvbnN0IHR5cGUgPSB0YWcuZ2V0QXR0cmlidXRlKCd0eXBlJyk7XG4gICAgICAgICAgICBpZiAodHlwZSA9PT0gJ2NoZWNrYm94Jykge1xuICAgICAgICAgICAgICAgIEV4cHJlc3Npb25zX3JlY29kZS5lbmNvZGVFeHByZXNzaW9uUGxhY2Vob2xkZXIoe1xuICAgICAgICAgICAgICAgICAgICB0YWcsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdib29sZWFuJyxcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ2NoZWNrZWQnLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiAnJCcgKyd7JyArIGB0aGlzLiR7YmluZGluZ31gICsgXCIgPT09ICd0cnVlJ31cIlxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIEV4cHJlc3Npb25zX3JlY29kZS5lbmNvZGVFeHByZXNzaW9uUGxhY2Vob2xkZXIoe1xuICAgICAgICAgICAgICAgICAgICB0YWcsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICd2YWx1ZScsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6ICckJyArICd7JyArIGB0aGlzLiR7YmluZGluZ31gICsgJyA/PyBudWxsfSdcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBCSU5EX0FUVFJJQlVURSA9ICdkYXRhLWN1c3RvbWFyeS1iaW5kJztcbiIsInR5cGUgRXhwcmVzc2lvblR5cGUgPSAnYm9vbGVhbicgfCAnZXZlbnQnIHwgJ3Byb3BlcnR5JztcblxuZXhwb3J0IGNsYXNzIEV4cHJlc3Npb25zX3JlY29kZVxue1xuICAgIHN0YXRpYyBlbmNvZGVFeHByZXNzaW9uUGxhY2Vob2xkZXIoXG4gICAgICAgIHtcbiAgICAgICAgICAgIHR5cGUsIHRhZywgbmFtZSwgZGF0YSxcbiAgICAgICAgfTp7XG4gICAgICAgICAgICB0eXBlPzogc3RyaW5nLCB0YWc6IEVsZW1lbnQsIG5hbWU6IHN0cmluZywgZGF0YTogc3RyaW5nXG4gICAgICAgIH1cbiAgICApIHtcbiAgICAgICAgY29uc3QgcHJlZml4ID0gVFlQRV94X1BSRUZJWFt0aGlzLnRvRXhwcmVzc2lvblR5cGUobmFtZSwgdHlwZSldO1xuICAgICAgICB0YWcuc2V0QXR0cmlidXRlKGAke3ByZWZpeH0ke25hbWV9YCwgZGF0YSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGRlY29kZUV4cHJlc3Npb25QbGFjZWhvbGRlcnMoaHRtbFN0cmluZzogc3RyaW5nKSB7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKFNZTUJPTF94X1BSRUZJWCkuZm9yRWFjaCgoW3N5bWJvbCwgcHJlZml4XSkgPT4ge1xuICAgICAgICAgICAgaHRtbFN0cmluZyA9IGh0bWxTdHJpbmcucmVwbGFjZUFsbChwcmVmaXgsIHN5bWJvbCk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gaHRtbFN0cmluZztcbiAgICB9XG5cbiAgICBwcml2YXRlIHN0YXRpYyB0b0V4cHJlc3Npb25UeXBlKG5hbWU6IHN0cmluZywgcz86IHN0cmluZyk6IEV4cHJlc3Npb25UeXBlIHtcbiAgICAgICAgaWYgKCFzKSByZXR1cm4gJ3Byb3BlcnR5JztcbiAgICAgICAgaWYgKHMgPT09ICdib29sZWFuJyB8fCBzID09PSAnZXZlbnQnKSByZXR1cm4gcztcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIGV4cHJlc3Npb24gdHlwZSBcIiR7c31cIiBmb3IgYXR0cmlidXRlIFwiJHtuYW1lfVwiYCk7XG4gICAgfVxufVxuXG4vLyBsb3dlcmNhc2UgYmVjYXVzZSBzZXRBdHRyaWJ1dGUgd291bGQgbG93ZXJjYXNlIGl0IHJlZ2FyZGxlc3NcbmNvbnN0IExJVF9CT09MRUFOX0FUVFJJQlVURV9FWFBSRVNTSU9OX1BSRUZJWCA9XG4gICAgJ19fX19saXRfYm9vbGVhbl9hdHRyaWJ1dGVfZXhwcmVzc2lvbl9wcmVmaXhfX19fJztcbmNvbnN0IExJVF9FVkVOVF9FWFBSRVNTSU9OX1BSRUZJWCA9XG4gICAgJ19fX19saXRfZXZlbnRfZXhwcmVzc2lvbl9wcmVmaXhfX19fJztcbmNvbnN0IExJVF9QUk9QRVJUWV9FWFBSRVNTSU9OX1BSRUZJWCA9XG4gICAgJ19fX19saXRfcHJvcGVydHlfZXhwcmVzc2lvbl9wcmVmaXhfX19fJztcblxuY29uc3QgVFlQRV94X1BSRUZJWDogUmVjb3JkPEV4cHJlc3Npb25UeXBlLCBzdHJpbmc+ID0ge1xuICAgICdib29sZWFuJzogTElUX0JPT0xFQU5fQVRUUklCVVRFX0VYUFJFU1NJT05fUFJFRklYLFxuICAgICdldmVudCc6IExJVF9FVkVOVF9FWFBSRVNTSU9OX1BSRUZJWCxcbiAgICAncHJvcGVydHknOiBMSVRfUFJPUEVSVFlfRVhQUkVTU0lPTl9QUkVGSVgsXG59XG5cbmNvbnN0IFNZTUJPTF94X1BSRUZJWCA9IHtcbiAgICAnPyc6IExJVF9CT09MRUFOX0FUVFJJQlVURV9FWFBSRVNTSU9OX1BSRUZJWCxcbiAgICAnQCc6IExJVF9FVkVOVF9FWFBSRVNTSU9OX1BSRUZJWCxcbiAgICAnLic6IExJVF9QUk9QRVJUWV9FWFBSRVNTSU9OX1BSRUZJWCxcbn1cbiIsImltcG9ydCB7Q3VzdG9tYXJ5Q29uZmlnfSBmcm9tIFwiI2N1c3RvbWFyeS9DdXN0b21hcnlDb25maWcuanNcIjtcblxuZXhwb3J0IHR5cGUgQXR0cmlidXRlc0RlZmluaXRpb24gPSB7XG4gICAgcmVhZG9ubHkgYXR0cmlidXRlczogc3RyaW5nW107XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZXRlY3RBdHRyaWJ1dGVzKFxuICAgIHtjb25maWcsIHRlbXBsYXRlfToge1xuICAgICAgICBjb25maWc6IEN1c3RvbWFyeUNvbmZpZyB8IHVuZGVmaW5lZCxcbiAgICAgICAgdGVtcGxhdGU6IEhUTUxUZW1wbGF0ZUVsZW1lbnRcbiAgICB9XG4pOiBBdHRyaWJ1dGVzRGVmaW5pdGlvbiB7XG4gICAgY29uc3QgZnJvbUNvbmZpZyA9IGNvbmZpZz8uYXR0cmlidXRlcyA/PyBbXTtcbiAgICBjb25zdCBmcm9tVGVtcGxhdGUgPVxuICAgICAgICB0ZW1wbGF0ZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtY3VzdG9tYXJ5LWF0dHJpYnV0ZXMnKT8uXG4gICAgICAgIHNwbGl0KCcsJykubWFwKHMgPT4gcy50cmltKCkpID8/IFtdO1xuICAgIHJldHVybiB7YXR0cmlidXRlczogWy4uLm5ldyBTZXQoWy4uLmZyb21Db25maWcsIC4uLmZyb21UZW1wbGF0ZV0pXX07XG59IiwiaW1wb3J0IHtFeHByZXNzaW9uc19yZWNvZGV9IGZyb20gXCIjY3VzdG9tYXJ5L2V4cHJlc3Npb25zL0V4cHJlc3Npb25zX3JlY29kZS5qc1wiO1xuXG5leHBvcnQgY2xhc3MgRXhwcmVzc2lvbkF0dHJpYnV0ZXNcbntcbiAgICBzdGF0aWMgZW5jb2RlRXhwcmVzc2lvblBsYWNlaG9sZGVycyh0ZW1wbGF0ZTogSFRNTFRlbXBsYXRlRWxlbWVudCkge1xuICAgICAgICBjb25zdCB0YWdzID0gQXJyYXkuZnJvbSh0ZW1wbGF0ZS5jb250ZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYFske0VYUFJFU1NJT05TX0FUVFJJQlVURX1dYCkpO1xuICAgICAgICBmb3IgKGNvbnN0IHRhZyBvZiB0YWdzKSB7XG4gICAgICAgICAgICBjb25zdCBhdHRyaWJ1dGVOYW1lcyA9IHRhZy5nZXRBdHRyaWJ1dGVOYW1lcygpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBhdHRyaWJ1dGVOYW1lIG9mIGF0dHJpYnV0ZU5hbWVzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbmNvZGVFeHByZXNzaW9uUGxhY2Vob2xkZXIoYXR0cmlidXRlTmFtZSwgdGFnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRhZy5yZW1vdmVBdHRyaWJ1dGUoRVhQUkVTU0lPTlNfQVRUUklCVVRFKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgc3RhdGljIGVuY29kZUV4cHJlc3Npb25QbGFjZWhvbGRlcihhdHRyaWJ1dGVOYW1lOiBzdHJpbmcsIHRhZzogRWxlbWVudCkge1xuICAgICAgICBpZiAoIWF0dHJpYnV0ZU5hbWUuc3RhcnRzV2l0aChFWFBSRVNTSU9OX05BTUVfQVRUUklCVVRFX1BSRUZJWCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvcmRpbmFsID0gYXR0cmlidXRlTmFtZS5zdWJzdHJpbmcoRVhQUkVTU0lPTl9OQU1FX0FUVFJJQlVURV9QUkVGSVgubGVuZ3RoKTtcbiAgICAgICAgY29uc3QgZGF0YUF0dHJpYnV0ZU5hbWUgPSBFWFBSRVNTSU9OX0RBVEFfQVRUUklCVVRFX1BSRUZJWCArIG9yZGluYWw7XG4gICAgICAgIGNvbnN0IHR5cGVBdHRyaWJ1dGVOYW1lID0gRVhQUkVTU0lPTl9UWVBFX0FUVFJJQlVURV9QUkVGSVggKyBvcmRpbmFsO1xuXG4gICAgICAgIEV4cHJlc3Npb25zX3JlY29kZS5lbmNvZGVFeHByZXNzaW9uUGxhY2Vob2xkZXIoe1xuICAgICAgICAgICAgdGFnLFxuICAgICAgICAgICAgbmFtZTogdGFnLmdldEF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lKSEsXG4gICAgICAgICAgICBkYXRhOiB0YWcuZ2V0QXR0cmlidXRlKGRhdGFBdHRyaWJ1dGVOYW1lKSEsXG4gICAgICAgICAgICB0eXBlOiB0YWcuZ2V0QXR0cmlidXRlKHR5cGVBdHRyaWJ1dGVOYW1lKSA/PyB1bmRlZmluZWQsXG4gICAgICAgIH0pO1xuICAgICAgICB0YWcucmVtb3ZlQXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUpO1xuICAgICAgICB0YWcucmVtb3ZlQXR0cmlidXRlKGRhdGFBdHRyaWJ1dGVOYW1lKTtcbiAgICAgICAgdGFnLnJlbW92ZUF0dHJpYnV0ZSh0eXBlQXR0cmlidXRlTmFtZSk7XG4gICAgfVxufVxuXG5jb25zdCBFWFBSRVNTSU9OU19BVFRSSUJVVEUgPSAnZGF0YS1jdXN0b21hcnktZXhwcmVzc2lvbnMnO1xuY29uc3QgRVhQUkVTU0lPTl9OQU1FX0FUVFJJQlVURV9QUkVGSVggPSAnZGF0YS1jdXN0b21hcnktZXhwcmVzc2lvbi1uYW1lJztcbmNvbnN0IEVYUFJFU1NJT05fREFUQV9BVFRSSUJVVEVfUFJFRklYID0gJ2RhdGEtY3VzdG9tYXJ5LWV4cHJlc3Npb24tZGF0YSc7XG5jb25zdCBFWFBSRVNTSU9OX1RZUEVfQVRUUklCVVRFX1BSRUZJWCA9ICdkYXRhLWN1c3RvbWFyeS1leHByZXNzaW9uLXR5cGUnO1xuIiwiaW1wb3J0IHtMaXRFbGVtZW50fSBmcm9tIFwiI2N1c3RvbWFyeS9saXRcIjtcbmltcG9ydCB7YWRkRXZlbnRMaXN0ZW5lcnNGb3JCaW5kaW5nc30gZnJvbSBcIiNjdXN0b21hcnkvYmluZC9NaXhpbl9hZGRFdmVudExpc3RlbmVyc0ZvckJpbmRpbmdzLmpzXCI7XG5pbXBvcnQge2FkZEV2ZW50TGlzdGVuZXJzfSBmcm9tIFwiI2N1c3RvbWFyeS9ldmVudHMvTWl4aW5fYWRkRXZlbnRMaXN0ZW5lcnMuanNcIjtcbmltcG9ydCB7TWl4aW5fYWRvcHRTdHlsZVNoZWV0fSBmcm9tIFwiI2N1c3RvbWFyeS9zdHlsZS9NaXhpbl9hZG9wdFN0eWxlU2hlZXQuanNcIjtcbmltcG9ydCB7TWl4aW5fYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrfSBmcm9tIFwiI2N1c3RvbWFyeS9hdHRyaWJ1dGVzL01peGluX2F0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjay5qc1wiO1xuaW1wb3J0IHtleGVjdXRlX2hvb2tfY29ubmVjdGVkfSBmcm9tIFwiI2N1c3RvbWFyeS9saWZlY3ljbGUvY29ubmVjdGVkL01peGluX2Nvbm5lY3RlZC5qc1wiO1xuaW1wb3J0IHtNaXhpbl9kaXNjb25uZWN0ZWR9IGZyb20gXCIjY3VzdG9tYXJ5L2xpZmVjeWNsZS9kaXNjb25uZWN0ZWQvTWl4aW5fZGlzY29ubmVjdGVkLmpzXCI7XG5pbXBvcnQge01peGluX2ZpcnN0VXBkYXRlZH0gZnJvbSBcIiNjdXN0b21hcnkvbGlmZWN5Y2xlL2ZpcnN0VXBkYXRlZC9NaXhpbl9maXJzdFVwZGF0ZWQuanNcIjtcbmltcG9ydCB7TWl4aW5fcmVuZGVyRnJvbVRlbXBsYXRlfSBmcm9tIFwiI2N1c3RvbWFyeS9yZW5kZXIvTWl4aW5fcmVuZGVyRnJvbVRlbXBsYXRlLmpzXCI7XG5pbXBvcnQge01peGluX3Nsb3RDaGFuZ2V9IGZyb20gXCIjY3VzdG9tYXJ5L3Nsb3RzL01peGluX3Nsb3RDaGFuZ2UuanNcIjtcbmltcG9ydCB7TWl4aW5fc3RhdGV9IGZyb20gXCIjY3VzdG9tYXJ5L3N0YXRlL01peGluX3N0YXRlLmpzXCI7XG5pbXBvcnQge01peGluX3VwZGF0ZWR9IGZyb20gXCIjY3VzdG9tYXJ5L2xpZmVjeWNsZS91cGRhdGVkL01peGluX3VwZGF0ZWQuanNcIjtcbmltcG9ydCB7TWl4aW5fd2lsbFVwZGF0ZX0gZnJvbSBcIiNjdXN0b21hcnkvbGlmZWN5Y2xlL3dpbGxVcGRhdGUvTWl4aW5fd2lsbFVwZGF0ZS5qc1wiO1xuaW1wb3J0IHtnZXREZWZpbml0aW9ufSBmcm9tIFwiI2N1c3RvbWFyeS9DdXN0b21hcnlEZWZpbml0aW9uLmpzXCI7XG5cbmV4cG9ydCBjbGFzcyBDdXN0b21hcnlFbGVtZW50XG5cdFx0ZXh0ZW5kc1xuXHRcdFx0XHRNaXhpbl9hZG9wdFN0eWxlU2hlZXQoXG5cdFx0XHRcdE1peGluX2F0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhcblx0XHRcdFx0TWl4aW5fZGlzY29ubmVjdGVkKFxuXHRcdFx0XHRNaXhpbl9maXJzdFVwZGF0ZWQoXG5cdFx0XHRcdE1peGluX3JlbmRlckZyb21UZW1wbGF0ZShcblx0XHRcdFx0TWl4aW5fc2xvdENoYW5nZShcblx0XHRcdFx0TWl4aW5fc3RhdGUoXG5cdFx0XHRcdE1peGluX3VwZGF0ZWQoXG5cdFx0XHRcdE1peGluX3dpbGxVcGRhdGUoXG5cdFx0XHRcdFx0XHRMaXRFbGVtZW50XG5cdFx0XHRcdCkpKSkpKSkpKVxue1xuXHRjb25zdHJ1Y3RvcigpIHtcblx0XHR0cnkge1xuXHRcdFx0c3VwZXIoKTtcblx0XHR9XG5cdFx0Y2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRpZiAoZXJyb3IgaW5zdGFuY2VvZiBUeXBlRXJyb3IpIHtcblx0XHRcdFx0aWYgKGVycm9yLm1lc3NhZ2Uuc3RhcnRzV2l0aChcIklsbGVnYWwgY29uc3RydWN0b3JcIikpIHtcblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXG5cdFx0XHRcdFx0XHRcdFwiQ3VzdG9tIGVsZW1lbnQgbXVzdCBiZSBmdWxseSBkZWZpbmVkIGJlZm9yZSB5b3UgY2FuIGluc3RhbnRpYXRlIGl0LiBUcnkgdGhpczpcXG5cIiArXG5cdFx0XHRcdFx0XHRcdFwiICAgIGF3YWl0IEN1c3RvbWFyeS51bnRpbERlZmluZWQoTXlDdXN0b21FbGVtZW50KTtcXG5cIiArXG5cdFx0XHRcdFx0XHRcdFwiICAgIGNvbnN0IGVsZW1lbnQgPSBuZXcgTXlDdXN0b21FbGVtZW50KCk7XCIsXG5cdFx0XHRcdFx0XHRcdHtjYXVzZTogZXJyb3J9XG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXHR9XG5cblx0b3ZlcnJpZGUgY3JlYXRlUmVuZGVyUm9vdCgpIHtcblx0XHRjb25zdCBkZWZpbml0aW9uID0gZ2V0RGVmaW5pdGlvbih0aGlzKTtcblxuXHRcdGlmIChkZWZpbml0aW9uLmRlY2xhcmF0aW9uLmNvbmZpZz8uY29uc3RydWN0Py5zaGFkb3dSb290RG9udCkge1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHN1cGVyLmNyZWF0ZVJlbmRlclJvb3QoKTtcblx0fVxuXG4gICAgLy8gbm9pbnNwZWN0aW9uIEpTVW51c2VkR2xvYmFsU3ltYm9sc1xuICAgIG92ZXJyaWRlIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICBzdXBlci5jb25uZWN0ZWRDYWxsYmFjaz8uKCk7XG5cbiAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcnModGhpcyk7XG4gICAgICAgIGFkZEV2ZW50TGlzdGVuZXJzRm9yQmluZGluZ3ModGhpcyk7XG5cbiAgICAgICAgZXhlY3V0ZV9ob29rX2Nvbm5lY3RlZCh0aGlzKTtcbiAgICB9XG59XG4iLCJpbXBvcnQge0xpdEVsZW1lbnR9IGZyb20gXCJsaXQtZWxlbWVudC9saXQtZWxlbWVudC5qc1wiO1xuaW1wb3J0IHtodG1sfSBmcm9tIFwibGl0LWh0bWxcIjtcbmltcG9ydCB7Y2hvb3NlfSBmcm9tICdsaXQtaHRtbC9kaXJlY3RpdmVzL2Nob29zZS5qcyc7XG5pbXBvcnQge2NsYXNzTWFwfSBmcm9tICdsaXQtaHRtbC9kaXJlY3RpdmVzL2NsYXNzLW1hcC5qcyc7XG5pbXBvcnQge21hcH0gZnJvbSAnbGl0LWh0bWwvZGlyZWN0aXZlcy9tYXAuanMnO1xuaW1wb3J0IHtyZXBlYXR9IGZyb20gJ2xpdC1odG1sL2RpcmVjdGl2ZXMvcmVwZWF0LmpzJztcbmltcG9ydCB7d2hlbn0gZnJvbSAnbGl0LWh0bWwvZGlyZWN0aXZlcy93aGVuLmpzJztcblxuZXhwb3J0IHtMaXRFbGVtZW50LCBodG1sLCBjaG9vc2UsIGNsYXNzTWFwLCBtYXAsIHJlcGVhdCwgd2hlbn07XG4iLCJpbXBvcnR7UmVhY3RpdmVFbGVtZW50IGFzIHR9ZnJvbVwiQGxpdC9yZWFjdGl2ZS1lbGVtZW50XCI7ZXhwb3J0KmZyb21cIkBsaXQvcmVhY3RpdmUtZWxlbWVudFwiO2ltcG9ydHtyZW5kZXIgYXMgZSxub0NoYW5nZSBhcyByfWZyb21cImxpdC1odG1sXCI7ZXhwb3J0KmZyb21cImxpdC1odG1sXCI7XG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQlNELTMtQ2xhdXNlXG4gKi9jb25zdCBzPWdsb2JhbFRoaXM7Y2xhc3MgaSBleHRlbmRzIHR7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMucmVuZGVyT3B0aW9ucz17aG9zdDp0aGlzfSx0aGlzLl8kRG89dm9pZCAwfWNyZWF0ZVJlbmRlclJvb3QoKXtjb25zdCB0PXN1cGVyLmNyZWF0ZVJlbmRlclJvb3QoKTtyZXR1cm4gdGhpcy5yZW5kZXJPcHRpb25zLnJlbmRlckJlZm9yZT8/PXQuZmlyc3RDaGlsZCx0fXVwZGF0ZSh0KXtjb25zdCByPXRoaXMucmVuZGVyKCk7dGhpcy5oYXNVcGRhdGVkfHwodGhpcy5yZW5kZXJPcHRpb25zLmlzQ29ubmVjdGVkPXRoaXMuaXNDb25uZWN0ZWQpLHN1cGVyLnVwZGF0ZSh0KSx0aGlzLl8kRG89ZShyLHRoaXMucmVuZGVyUm9vdCx0aGlzLnJlbmRlck9wdGlvbnMpfWNvbm5lY3RlZENhbGxiYWNrKCl7c3VwZXIuY29ubmVjdGVkQ2FsbGJhY2soKSx0aGlzLl8kRG8/LnNldENvbm5lY3RlZCghMCl9ZGlzY29ubmVjdGVkQ2FsbGJhY2soKXtzdXBlci5kaXNjb25uZWN0ZWRDYWxsYmFjaygpLHRoaXMuXyREbz8uc2V0Q29ubmVjdGVkKCExKX1yZW5kZXIoKXtyZXR1cm4gcn19aS5fJGxpdEVsZW1lbnQkPSEwLGlbXCJmaW5hbGl6ZWRcIl09ITAscy5saXRFbGVtZW50SHlkcmF0ZVN1cHBvcnQ/Lih7TGl0RWxlbWVudDppfSk7Y29uc3Qgbz1zLmxpdEVsZW1lbnRQb2x5ZmlsbFN1cHBvcnQ7bz8uKHtMaXRFbGVtZW50Oml9KTtjb25zdCBuPXtfJEFLOih0LGUscik9Pnt0Ll8kQUsoZSxyKX0sXyRBTDp0PT50Ll8kQUx9OyhzLmxpdEVsZW1lbnRWZXJzaW9ucz8/PVtdKS5wdXNoKFwiNC4yLjBcIik7ZXhwb3J0e2kgYXMgTGl0RWxlbWVudCxuIGFzIF8kTEV9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bGl0LWVsZW1lbnQuanMubWFwXG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQlNELTMtQ2xhdXNlXG4gKi9cblxuLyoqXG4gKiBUaGUgbWFpbiBMaXRFbGVtZW50IG1vZHVsZSwgd2hpY2ggZGVmaW5lcyB0aGUge0BsaW5rY29kZSBMaXRFbGVtZW50fSBiYXNlXG4gKiBjbGFzcyBhbmQgcmVsYXRlZCBBUElzLlxuICpcbiAqIExpdEVsZW1lbnQgY29tcG9uZW50cyBjYW4gZGVmaW5lIGEgdGVtcGxhdGUgYW5kIGEgc2V0IG9mIG9ic2VydmVkXG4gKiBwcm9wZXJ0aWVzLiBDaGFuZ2luZyBhbiBvYnNlcnZlZCBwcm9wZXJ0eSB0cmlnZ2VycyBhIHJlLXJlbmRlciBvZiB0aGVcbiAqIGVsZW1lbnQuXG4gKlxuICogSW1wb3J0IHtAbGlua2NvZGUgTGl0RWxlbWVudH0gYW5kIHtAbGlua2NvZGUgaHRtbH0gZnJvbSB0aGlzIG1vZHVsZSB0b1xuICogY3JlYXRlIGEgY29tcG9uZW50OlxuICpcbiAqICBgYGBqc1xuICogaW1wb3J0IHtMaXRFbGVtZW50LCBodG1sfSBmcm9tICdsaXQtZWxlbWVudCc7XG4gKlxuICogY2xhc3MgTXlFbGVtZW50IGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gKlxuICogICAvLyBEZWNsYXJlIG9ic2VydmVkIHByb3BlcnRpZXNcbiAqICAgc3RhdGljIGdldCBwcm9wZXJ0aWVzKCkge1xuICogICAgIHJldHVybiB7XG4gKiAgICAgICBhZGplY3RpdmU6IHt9XG4gKiAgICAgfVxuICogICB9XG4gKlxuICogICBjb25zdHJ1Y3RvcigpIHtcbiAqICAgICB0aGlzLmFkamVjdGl2ZSA9ICdhd2Vzb21lJztcbiAqICAgfVxuICpcbiAqICAgLy8gRGVmaW5lIHRoZSBlbGVtZW50J3MgdGVtcGxhdGVcbiAqICAgcmVuZGVyKCkge1xuICogICAgIHJldHVybiBodG1sYDxwPnlvdXIgJHthZGplY3RpdmV9IHRlbXBsYXRlIGhlcmU8L3A+YDtcbiAqICAgfVxuICogfVxuICpcbiAqIGN1c3RvbUVsZW1lbnRzLmRlZmluZSgnbXktZWxlbWVudCcsIE15RWxlbWVudCk7XG4gKiBgYGBcbiAqXG4gKiBgTGl0RWxlbWVudGAgZXh0ZW5kcyB7QGxpbmtjb2RlIFJlYWN0aXZlRWxlbWVudH0gYW5kIGFkZHMgbGl0LWh0bWxcbiAqIHRlbXBsYXRpbmcuIFRoZSBgUmVhY3RpdmVFbGVtZW50YCBjbGFzcyBpcyBwcm92aWRlZCBmb3IgdXNlcnMgdGhhdCB3YW50IHRvXG4gKiBidWlsZCB0aGVpciBvd24gY3VzdG9tIGVsZW1lbnQgYmFzZSBjbGFzc2VzIHRoYXQgZG9uJ3QgdXNlIGxpdC1odG1sLlxuICpcbiAqIEBwYWNrYWdlRG9jdW1lbnRhdGlvblxuICovXG5pbXBvcnQge1Byb3BlcnR5VmFsdWVzLCBSZWFjdGl2ZUVsZW1lbnR9IGZyb20gJ0BsaXQvcmVhY3RpdmUtZWxlbWVudCc7XG5pbXBvcnQge3JlbmRlciwgUmVuZGVyT3B0aW9ucywgbm9DaGFuZ2UsIFJvb3RQYXJ0fSBmcm9tICdsaXQtaHRtbCc7XG5leHBvcnQgKiBmcm9tICdAbGl0L3JlYWN0aXZlLWVsZW1lbnQnO1xuZXhwb3J0ICogZnJvbSAnbGl0LWh0bWwnO1xuXG5pbXBvcnQge0xpdFVuc3RhYmxlfSBmcm9tICdsaXQtaHRtbCc7XG5pbXBvcnQge1JlYWN0aXZlVW5zdGFibGV9IGZyb20gJ0BsaXQvcmVhY3RpdmUtZWxlbWVudCc7XG5cbi8qKlxuICogQ29udGFpbnMgdHlwZXMgdGhhdCBhcmUgcGFydCBvZiB0aGUgdW5zdGFibGUgZGVidWcgQVBJLlxuICpcbiAqIEV2ZXJ5dGhpbmcgaW4gdGhpcyBBUEkgaXMgbm90IHN0YWJsZSBhbmQgbWF5IGNoYW5nZSBvciBiZSByZW1vdmVkIGluIHRoZSBmdXR1cmUsXG4gKiBldmVuIG9uIHBhdGNoIHJlbGVhc2VzLlxuICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5hbWVzcGFjZVxuZXhwb3J0IG5hbWVzcGFjZSBVbnN0YWJsZSB7XG4gIC8qKlxuICAgKiBXaGVuIExpdCBpcyBydW5uaW5nIGluIGRldiBtb2RlIGFuZCBgd2luZG93LmVtaXRMaXREZWJ1Z0xvZ0V2ZW50c2AgaXMgdHJ1ZSxcbiAgICogd2Ugd2lsbCBlbWl0ICdsaXQtZGVidWcnIGV2ZW50cyB0byB3aW5kb3csIHdpdGggbGl2ZSBkZXRhaWxzIGFib3V0IHRoZSB1cGRhdGUgYW5kIHJlbmRlclxuICAgKiBsaWZlY3ljbGUuIFRoZXNlIGNhbiBiZSB1c2VmdWwgZm9yIHdyaXRpbmcgZGVidWcgdG9vbGluZyBhbmQgdmlzdWFsaXphdGlvbnMuXG4gICAqXG4gICAqIFBsZWFzZSBiZSBhd2FyZSB0aGF0IHJ1bm5pbmcgd2l0aCB3aW5kb3cuZW1pdExpdERlYnVnTG9nRXZlbnRzIGhhcyBwZXJmb3JtYW5jZSBvdmVyaGVhZCxcbiAgICogbWFraW5nIGNlcnRhaW4gb3BlcmF0aW9ucyB0aGF0IGFyZSBub3JtYWxseSB2ZXJ5IGNoZWFwIChsaWtlIGEgbm8tb3AgcmVuZGVyKSBtdWNoIHNsb3dlcixcbiAgICogYmVjYXVzZSB3ZSBtdXN0IGNvcHkgZGF0YSBhbmQgZGlzcGF0Y2ggZXZlbnRzLlxuICAgKi9cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1uYW1lc3BhY2VcbiAgZXhwb3J0IG5hbWVzcGFjZSBEZWJ1Z0xvZyB7XG4gICAgZXhwb3J0IHR5cGUgRW50cnkgPVxuICAgICAgfCBMaXRVbnN0YWJsZS5EZWJ1Z0xvZy5FbnRyeVxuICAgICAgfCBSZWFjdGl2ZVVuc3RhYmxlLkRlYnVnTG9nLkVudHJ5O1xuICB9XG59XG4vKlxuICogV2hlbiB1c2luZyBDbG9zdXJlIENvbXBpbGVyLCBKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KHByb3BlcnR5LCBvYmplY3QpIGlzXG4gKiByZXBsYWNlZCBhdCBjb21waWxlIHRpbWUgYnkgdGhlIG11bmdlZCBuYW1lIGZvciBvYmplY3RbcHJvcGVydHldLiBXZSBjYW5ub3RcbiAqIGFsaWFzIHRoaXMgZnVuY3Rpb24sIHNvIHdlIGhhdmUgdG8gdXNlIGEgc21hbGwgc2hpbSB0aGF0IGhhcyB0aGUgc2FtZVxuICogYmVoYXZpb3Igd2hlbiBub3QgY29tcGlsaW5nLlxuICovXG4vKkBfX0lOTElORV9fKi9cbmNvbnN0IEpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkgPSA8UCBleHRlbmRzIFByb3BlcnR5S2V5PihcbiAgcHJvcDogUCxcbiAgX29iajogdW5rbm93blxuKTogUCA9PiBwcm9wO1xuXG5jb25zdCBERVZfTU9ERSA9IHRydWU7XG4vLyBBbGxvd3MgbWluaWZpZXJzIHRvIHJlbmFtZSByZWZlcmVuY2VzIHRvIGdsb2JhbFRoaXNcbmNvbnN0IGdsb2JhbCA9IGdsb2JhbFRoaXM7XG5cbmxldCBpc3N1ZVdhcm5pbmc6IChjb2RlOiBzdHJpbmcsIHdhcm5pbmc6IHN0cmluZykgPT4gdm9pZDtcblxuaWYgKERFVl9NT0RFKSB7XG4gIC8vIEVuc3VyZSB3YXJuaW5ncyBhcmUgaXNzdWVkIG9ubHkgMXgsIGV2ZW4gaWYgbXVsdGlwbGUgdmVyc2lvbnMgb2YgTGl0XG4gIC8vIGFyZSBsb2FkZWQuXG4gIGdsb2JhbC5saXRJc3N1ZWRXYXJuaW5ncyA/Pz0gbmV3IFNldCgpO1xuXG4gIC8qKlxuICAgKiBJc3N1ZSBhIHdhcm5pbmcgaWYgd2UgaGF2ZW4ndCBhbHJlYWR5LCBiYXNlZCBlaXRoZXIgb24gYGNvZGVgIG9yIGB3YXJuaW5nYC5cbiAgICogV2FybmluZ3MgYXJlIGRpc2FibGVkIGF1dG9tYXRpY2FsbHkgb25seSBieSBgd2FybmluZ2A7IGRpc2FibGluZyB2aWEgYGNvZGVgXG4gICAqIGNhbiBiZSBkb25lIGJ5IHVzZXJzLlxuICAgKi9cbiAgaXNzdWVXYXJuaW5nID0gKGNvZGU6IHN0cmluZywgd2FybmluZzogc3RyaW5nKSA9PiB7XG4gICAgd2FybmluZyArPSBgIFNlZSBodHRwczovL2xpdC5kZXYvbXNnLyR7Y29kZX0gZm9yIG1vcmUgaW5mb3JtYXRpb24uYDtcbiAgICBpZiAoXG4gICAgICAhZ2xvYmFsLmxpdElzc3VlZFdhcm5pbmdzIS5oYXMod2FybmluZykgJiZcbiAgICAgICFnbG9iYWwubGl0SXNzdWVkV2FybmluZ3MhLmhhcyhjb2RlKVxuICAgICkge1xuICAgICAgY29uc29sZS53YXJuKHdhcm5pbmcpO1xuICAgICAgZ2xvYmFsLmxpdElzc3VlZFdhcm5pbmdzIS5hZGQod2FybmluZyk7XG4gICAgfVxuICB9O1xufVxuXG4vKipcbiAqIEJhc2UgZWxlbWVudCBjbGFzcyB0aGF0IG1hbmFnZXMgZWxlbWVudCBwcm9wZXJ0aWVzIGFuZCBhdHRyaWJ1dGVzLCBhbmRcbiAqIHJlbmRlcnMgYSBsaXQtaHRtbCB0ZW1wbGF0ZS5cbiAqXG4gKiBUbyBkZWZpbmUgYSBjb21wb25lbnQsIHN1YmNsYXNzIGBMaXRFbGVtZW50YCBhbmQgaW1wbGVtZW50IGFcbiAqIGByZW5kZXJgIG1ldGhvZCB0byBwcm92aWRlIHRoZSBjb21wb25lbnQncyB0ZW1wbGF0ZS4gRGVmaW5lIHByb3BlcnRpZXNcbiAqIHVzaW5nIHRoZSB7QGxpbmtjb2RlIExpdEVsZW1lbnQucHJvcGVydGllcyBwcm9wZXJ0aWVzfSBwcm9wZXJ0eSBvciB0aGVcbiAqIHtAbGlua2NvZGUgcHJvcGVydHl9IGRlY29yYXRvci5cbiAqL1xuZXhwb3J0IGNsYXNzIExpdEVsZW1lbnQgZXh0ZW5kcyBSZWFjdGl2ZUVsZW1lbnQge1xuICAvLyBUaGlzIHByb3BlcnR5IG5lZWRzIHRvIHJlbWFpbiB1bm1pbmlmaWVkLlxuICBzdGF0aWMgWydfJGxpdEVsZW1lbnQkJ10gPSB0cnVlO1xuXG4gIC8qKlxuICAgKiBAY2F0ZWdvcnkgcmVuZGVyaW5nXG4gICAqL1xuICByZWFkb25seSByZW5kZXJPcHRpb25zOiBSZW5kZXJPcHRpb25zID0ge2hvc3Q6IHRoaXN9O1xuXG4gIHByaXZhdGUgX19jaGlsZFBhcnQ6IFJvb3RQYXJ0IHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuXG4gIC8qKlxuICAgKiBAY2F0ZWdvcnkgcmVuZGVyaW5nXG4gICAqL1xuICBwcm90ZWN0ZWQgb3ZlcnJpZGUgY3JlYXRlUmVuZGVyUm9vdCgpIHtcbiAgICBjb25zdCByZW5kZXJSb290ID0gc3VwZXIuY3JlYXRlUmVuZGVyUm9vdCgpO1xuICAgIC8vIFdoZW4gYWRvcHRlZFN0eWxlU2hlZXRzIGFyZSBzaGltbWVkLCB0aGV5IGFyZSBpbnNlcnRlZCBpbnRvIHRoZVxuICAgIC8vIHNoYWRvd1Jvb3QgYnkgY3JlYXRlUmVuZGVyUm9vdC4gQWRqdXN0IHRoZSByZW5kZXJCZWZvcmUgbm9kZSBzbyB0aGF0XG4gICAgLy8gYW55IHN0eWxlcyBpbiBMaXQgY29udGVudCByZW5kZXIgYmVmb3JlIGFkb3B0ZWRTdHlsZVNoZWV0cy4gVGhpcyBpc1xuICAgIC8vIGltcG9ydGFudCBzbyB0aGF0IGFkb3B0ZWRTdHlsZVNoZWV0cyBoYXZlIHByZWNlZGVuY2Ugb3ZlciBzdHlsZXMgaW5cbiAgICAvLyB0aGUgc2hhZG93Um9vdC5cbiAgICB0aGlzLnJlbmRlck9wdGlvbnMucmVuZGVyQmVmb3JlID8/PSByZW5kZXJSb290IS5maXJzdENoaWxkIGFzIENoaWxkTm9kZTtcbiAgICByZXR1cm4gcmVuZGVyUm9vdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSBlbGVtZW50LiBUaGlzIG1ldGhvZCByZWZsZWN0cyBwcm9wZXJ0eSB2YWx1ZXMgdG8gYXR0cmlidXRlc1xuICAgKiBhbmQgY2FsbHMgYHJlbmRlcmAgdG8gcmVuZGVyIERPTSB2aWEgbGl0LWh0bWwuIFNldHRpbmcgcHJvcGVydGllcyBpbnNpZGVcbiAgICogdGhpcyBtZXRob2Qgd2lsbCAqbm90KiB0cmlnZ2VyIGFub3RoZXIgdXBkYXRlLlxuICAgKiBAcGFyYW0gY2hhbmdlZFByb3BlcnRpZXMgTWFwIG9mIGNoYW5nZWQgcHJvcGVydGllcyB3aXRoIG9sZCB2YWx1ZXNcbiAgICogQGNhdGVnb3J5IHVwZGF0ZXNcbiAgICovXG4gIHByb3RlY3RlZCBvdmVycmlkZSB1cGRhdGUoY2hhbmdlZFByb3BlcnRpZXM6IFByb3BlcnR5VmFsdWVzKSB7XG4gICAgLy8gU2V0dGluZyBwcm9wZXJ0aWVzIGluIGByZW5kZXJgIHNob3VsZCBub3QgdHJpZ2dlciBhbiB1cGRhdGUuIFNpbmNlXG4gICAgLy8gdXBkYXRlcyBhcmUgYWxsb3dlZCBhZnRlciBzdXBlci51cGRhdGUsIGl0J3MgaW1wb3J0YW50IHRvIGNhbGwgYHJlbmRlcmBcbiAgICAvLyBiZWZvcmUgdGhhdC5cbiAgICBjb25zdCB2YWx1ZSA9IHRoaXMucmVuZGVyKCk7XG4gICAgaWYgKCF0aGlzLmhhc1VwZGF0ZWQpIHtcbiAgICAgIHRoaXMucmVuZGVyT3B0aW9ucy5pc0Nvbm5lY3RlZCA9IHRoaXMuaXNDb25uZWN0ZWQ7XG4gICAgfVxuICAgIHN1cGVyLnVwZGF0ZShjaGFuZ2VkUHJvcGVydGllcyk7XG4gICAgdGhpcy5fX2NoaWxkUGFydCA9IHJlbmRlcih2YWx1ZSwgdGhpcy5yZW5kZXJSb290LCB0aGlzLnJlbmRlck9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEludm9rZWQgd2hlbiB0aGUgY29tcG9uZW50IGlzIGFkZGVkIHRvIHRoZSBkb2N1bWVudCdzIERPTS5cbiAgICpcbiAgICogSW4gYGNvbm5lY3RlZENhbGxiYWNrKClgIHlvdSBzaG91bGQgc2V0dXAgdGFza3MgdGhhdCBzaG91bGQgb25seSBvY2N1ciB3aGVuXG4gICAqIHRoZSBlbGVtZW50IGlzIGNvbm5lY3RlZCB0byB0aGUgZG9jdW1lbnQuIFRoZSBtb3N0IGNvbW1vbiBvZiB0aGVzZSBpc1xuICAgKiBhZGRpbmcgZXZlbnQgbGlzdGVuZXJzIHRvIG5vZGVzIGV4dGVybmFsIHRvIHRoZSBlbGVtZW50LCBsaWtlIGEga2V5ZG93blxuICAgKiBldmVudCBoYW5kbGVyIGFkZGVkIHRvIHRoZSB3aW5kb3cuXG4gICAqXG4gICAqIGBgYHRzXG4gICAqIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgKiAgIHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAqICAgYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUtleWRvd24pO1xuICAgKiB9XG4gICAqIGBgYFxuICAgKlxuICAgKiBUeXBpY2FsbHksIGFueXRoaW5nIGRvbmUgaW4gYGNvbm5lY3RlZENhbGxiYWNrKClgIHNob3VsZCBiZSB1bmRvbmUgd2hlbiB0aGVcbiAgICogZWxlbWVudCBpcyBkaXNjb25uZWN0ZWQsIGluIGBkaXNjb25uZWN0ZWRDYWxsYmFjaygpYC5cbiAgICpcbiAgICogQGNhdGVnb3J5IGxpZmVjeWNsZVxuICAgKi9cbiAgb3ZlcnJpZGUgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgc3VwZXIuY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgICB0aGlzLl9fY2hpbGRQYXJ0Py5zZXRDb25uZWN0ZWQodHJ1ZSk7XG4gIH1cblxuICAvKipcbiAgICogSW52b2tlZCB3aGVuIHRoZSBjb21wb25lbnQgaXMgcmVtb3ZlZCBmcm9tIHRoZSBkb2N1bWVudCdzIERPTS5cbiAgICpcbiAgICogVGhpcyBjYWxsYmFjayBpcyB0aGUgbWFpbiBzaWduYWwgdG8gdGhlIGVsZW1lbnQgdGhhdCBpdCBtYXkgbm8gbG9uZ2VyIGJlXG4gICAqIHVzZWQuIGBkaXNjb25uZWN0ZWRDYWxsYmFjaygpYCBzaG91bGQgZW5zdXJlIHRoYXQgbm90aGluZyBpcyBob2xkaW5nIGFcbiAgICogcmVmZXJlbmNlIHRvIHRoZSBlbGVtZW50IChzdWNoIGFzIGV2ZW50IGxpc3RlbmVycyBhZGRlZCB0byBub2RlcyBleHRlcm5hbFxuICAgKiB0byB0aGUgZWxlbWVudCksIHNvIHRoYXQgaXQgaXMgZnJlZSB0byBiZSBnYXJiYWdlIGNvbGxlY3RlZC5cbiAgICpcbiAgICogYGBgdHNcbiAgICogZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAqICAgc3VwZXIuZGlzY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgICogICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUtleWRvd24pO1xuICAgKiB9XG4gICAqIGBgYFxuICAgKlxuICAgKiBBbiBlbGVtZW50IG1heSBiZSByZS1jb25uZWN0ZWQgYWZ0ZXIgYmVpbmcgZGlzY29ubmVjdGVkLlxuICAgKlxuICAgKiBAY2F0ZWdvcnkgbGlmZWN5Y2xlXG4gICAqL1xuICBvdmVycmlkZSBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICBzdXBlci5kaXNjb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgIHRoaXMuX19jaGlsZFBhcnQ/LnNldENvbm5lY3RlZChmYWxzZSk7XG4gIH1cblxuICAvKipcbiAgICogSW52b2tlZCBvbiBlYWNoIHVwZGF0ZSB0byBwZXJmb3JtIHJlbmRlcmluZyB0YXNrcy4gVGhpcyBtZXRob2QgbWF5IHJldHVyblxuICAgKiBhbnkgdmFsdWUgcmVuZGVyYWJsZSBieSBsaXQtaHRtbCdzIGBDaGlsZFBhcnRgIC0gdHlwaWNhbGx5IGFcbiAgICogYFRlbXBsYXRlUmVzdWx0YC4gU2V0dGluZyBwcm9wZXJ0aWVzIGluc2lkZSB0aGlzIG1ldGhvZCB3aWxsICpub3QqIHRyaWdnZXJcbiAgICogdGhlIGVsZW1lbnQgdG8gdXBkYXRlLlxuICAgKiBAY2F0ZWdvcnkgcmVuZGVyaW5nXG4gICAqL1xuICBwcm90ZWN0ZWQgcmVuZGVyKCk6IHVua25vd24ge1xuICAgIHJldHVybiBub0NoYW5nZTtcbiAgfVxufVxuXG4vKipcbiAqIEVuc3VyZSB0aGlzIGNsYXNzIGlzIG1hcmtlZCBhcyBgZmluYWxpemVkYCBhcyBhbiBvcHRpbWl6YXRpb24gZW5zdXJpbmdcbiAqIGl0IHdpbGwgbm90IG5lZWRsZXNzbHkgdHJ5IHRvIGBmaW5hbGl6ZWAuXG4gKlxuICogTm90ZSB0aGlzIHByb3BlcnR5IG5hbWUgaXMgYSBzdHJpbmcgdG8gcHJldmVudCBicmVha2luZyBDbG9zdXJlIEpTIENvbXBpbGVyXG4gKiBvcHRpbWl6YXRpb25zLiBTZWUgQGxpdC9yZWFjdGl2ZS1lbGVtZW50IGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICovXG4oTGl0RWxlbWVudCBhcyB1bmtub3duIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+KVtcbiAgSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSgnZmluYWxpemVkJywgTGl0RWxlbWVudClcbl0gPSB0cnVlO1xuXG4vLyBJbnN0YWxsIGh5ZHJhdGlvbiBpZiBhdmFpbGFibGVcbmdsb2JhbC5saXRFbGVtZW50SHlkcmF0ZVN1cHBvcnQ/Lih7TGl0RWxlbWVudH0pO1xuXG4vLyBBcHBseSBwb2x5ZmlsbHMgaWYgYXZhaWxhYmxlXG5jb25zdCBwb2x5ZmlsbFN1cHBvcnQgPSBERVZfTU9ERVxuICA/IGdsb2JhbC5saXRFbGVtZW50UG9seWZpbGxTdXBwb3J0RGV2TW9kZVxuICA6IGdsb2JhbC5saXRFbGVtZW50UG9seWZpbGxTdXBwb3J0O1xucG9seWZpbGxTdXBwb3J0Py4oe0xpdEVsZW1lbnR9KTtcblxuLyoqXG4gKiBFTkQgVVNFUlMgU0hPVUxEIE5PVCBSRUxZIE9OIFRISVMgT0JKRUNULlxuICpcbiAqIFByaXZhdGUgZXhwb3J0cyBmb3IgdXNlIGJ5IG90aGVyIExpdCBwYWNrYWdlcywgbm90IGludGVuZGVkIGZvciB1c2UgYnlcbiAqIGV4dGVybmFsIHVzZXJzLlxuICpcbiAqIFdlIGN1cnJlbnRseSBkbyBub3QgbWFrZSBhIG1hbmdsZWQgcm9sbHVwIGJ1aWxkIG9mIHRoZSBsaXQtc3NyIGNvZGUuIEluIG9yZGVyXG4gKiB0byBrZWVwIGEgbnVtYmVyIG9mIChvdGhlcndpc2UgcHJpdmF0ZSkgdG9wLWxldmVsIGV4cG9ydHMgIG1hbmdsZWQgaW4gdGhlXG4gKiBjbGllbnQgc2lkZSBjb2RlLCB3ZSBleHBvcnQgYSBfJExFIG9iamVjdCBjb250YWluaW5nIHRob3NlIG1lbWJlcnMgKG9yXG4gKiBoZWxwZXIgbWV0aG9kcyBmb3IgYWNjZXNzaW5nIHByaXZhdGUgZmllbGRzIG9mIHRob3NlIG1lbWJlcnMpLCBhbmQgdGhlblxuICogcmUtZXhwb3J0IHRoZW0gZm9yIHVzZSBpbiBsaXQtc3NyLiBUaGlzIGtlZXBzIGxpdC1zc3IgYWdub3N0aWMgdG8gd2hldGhlciB0aGVcbiAqIGNsaWVudC1zaWRlIGNvZGUgaXMgYmVpbmcgdXNlZCBpbiBgZGV2YCBtb2RlIG9yIGBwcm9kYCBtb2RlLlxuICpcbiAqIFRoaXMgaGFzIGEgdW5pcXVlIG5hbWUsIHRvIGRpc2FtYmlndWF0ZSBpdCBmcm9tIHByaXZhdGUgZXhwb3J0cyBpblxuICogbGl0LWh0bWwsIHNpbmNlIHRoaXMgbW9kdWxlIHJlLWV4cG9ydHMgYWxsIG9mIGxpdC1odG1sLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBjb25zdCBfJExFID0ge1xuICBfJGF0dHJpYnV0ZVRvUHJvcGVydHk6IChcbiAgICBlbDogTGl0RWxlbWVudCxcbiAgICBuYW1lOiBzdHJpbmcsXG4gICAgdmFsdWU6IHN0cmluZyB8IG51bGxcbiAgKSA9PiB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgKGVsIGFzIGFueSkuXyRhdHRyaWJ1dGVUb1Byb3BlcnR5KG5hbWUsIHZhbHVlKTtcbiAgfSxcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gIF8kY2hhbmdlZFByb3BlcnRpZXM6IChlbDogTGl0RWxlbWVudCkgPT4gKGVsIGFzIGFueSkuXyRjaGFuZ2VkUHJvcGVydGllcyxcbn07XG5cbi8vIElNUE9SVEFOVDogZG8gbm90IGNoYW5nZSB0aGUgcHJvcGVydHkgbmFtZSBvciB0aGUgYXNzaWdubWVudCBleHByZXNzaW9uLlxuLy8gVGhpcyBsaW5lIHdpbGwgYmUgdXNlZCBpbiByZWdleGVzIHRvIHNlYXJjaCBmb3IgTGl0RWxlbWVudCB1c2FnZS5cbihnbG9iYWwubGl0RWxlbWVudFZlcnNpb25zID8/PSBbXSkucHVzaCgnNC4yLjAnKTtcbmlmIChERVZfTU9ERSAmJiBnbG9iYWwubGl0RWxlbWVudFZlcnNpb25zLmxlbmd0aCA+IDEpIHtcbiAgcXVldWVNaWNyb3Rhc2soKCkgPT4ge1xuICAgIGlzc3VlV2FybmluZyEoXG4gICAgICAnbXVsdGlwbGUtdmVyc2lvbnMnLFxuICAgICAgYE11bHRpcGxlIHZlcnNpb25zIG9mIExpdCBsb2FkZWQuIExvYWRpbmcgbXVsdGlwbGUgdmVyc2lvbnMgYCArXG4gICAgICAgIGBpcyBub3QgcmVjb21tZW5kZWQuYFxuICAgICk7XG4gIH0pO1xufVxuIiwiaW1wb3J0e2dldENvbXBhdGlibGVTdHlsZSBhcyB0LGFkb3B0U3R5bGVzIGFzIHN9ZnJvbVwiLi9jc3MtdGFnLmpzXCI7ZXhwb3J0e0NTU1Jlc3VsdCxjc3Msc3VwcG9ydHNBZG9wdGluZ1N0eWxlU2hlZXRzLHVuc2FmZUNTU31mcm9tXCIuL2Nzcy10YWcuanNcIjtcbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBCU0QtMy1DbGF1c2VcbiAqL2NvbnN0e2lzOmksZGVmaW5lUHJvcGVydHk6ZSxnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I6aCxnZXRPd25Qcm9wZXJ0eU5hbWVzOnIsZ2V0T3duUHJvcGVydHlTeW1ib2xzOm8sZ2V0UHJvdG90eXBlT2Y6bn09T2JqZWN0LGE9Z2xvYmFsVGhpcyxjPWEudHJ1c3RlZFR5cGVzLGw9Yz9jLmVtcHR5U2NyaXB0OlwiXCIscD1hLnJlYWN0aXZlRWxlbWVudFBvbHlmaWxsU3VwcG9ydCxkPSh0LHMpPT50LHU9e3RvQXR0cmlidXRlKHQscyl7c3dpdGNoKHMpe2Nhc2UgQm9vbGVhbjp0PXQ/bDpudWxsO2JyZWFrO2Nhc2UgT2JqZWN0OmNhc2UgQXJyYXk6dD1udWxsPT10P3Q6SlNPTi5zdHJpbmdpZnkodCl9cmV0dXJuIHR9LGZyb21BdHRyaWJ1dGUodCxzKXtsZXQgaT10O3N3aXRjaChzKXtjYXNlIEJvb2xlYW46aT1udWxsIT09dDticmVhaztjYXNlIE51bWJlcjppPW51bGw9PT10P251bGw6TnVtYmVyKHQpO2JyZWFrO2Nhc2UgT2JqZWN0OmNhc2UgQXJyYXk6dHJ5e2k9SlNPTi5wYXJzZSh0KX1jYXRjaCh0KXtpPW51bGx9fXJldHVybiBpfX0sZj0odCxzKT0+IWkodCxzKSxiPXthdHRyaWJ1dGU6ITAsdHlwZTpTdHJpbmcsY29udmVydGVyOnUscmVmbGVjdDohMSx1c2VEZWZhdWx0OiExLGhhc0NoYW5nZWQ6Zn07U3ltYm9sLm1ldGFkYXRhPz89U3ltYm9sKFwibWV0YWRhdGFcIiksYS5saXRQcm9wZXJ0eU1ldGFkYXRhPz89bmV3IFdlYWtNYXA7Y2xhc3MgeSBleHRlbmRzIEhUTUxFbGVtZW50e3N0YXRpYyBhZGRJbml0aWFsaXplcih0KXt0aGlzLl8kRWkoKSwodGhpcy5sPz89W10pLnB1c2godCl9c3RhdGljIGdldCBvYnNlcnZlZEF0dHJpYnV0ZXMoKXtyZXR1cm4gdGhpcy5maW5hbGl6ZSgpLHRoaXMuXyRFaCYmWy4uLnRoaXMuXyRFaC5rZXlzKCldfXN0YXRpYyBjcmVhdGVQcm9wZXJ0eSh0LHM9Yil7aWYocy5zdGF0ZSYmKHMuYXR0cmlidXRlPSExKSx0aGlzLl8kRWkoKSx0aGlzLnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSh0KSYmKChzPU9iamVjdC5jcmVhdGUocykpLndyYXBwZWQ9ITApLHRoaXMuZWxlbWVudFByb3BlcnRpZXMuc2V0KHQscyksIXMubm9BY2Nlc3Nvcil7Y29uc3QgaT1TeW1ib2woKSxoPXRoaXMuZ2V0UHJvcGVydHlEZXNjcmlwdG9yKHQsaSxzKTt2b2lkIDAhPT1oJiZlKHRoaXMucHJvdG90eXBlLHQsaCl9fXN0YXRpYyBnZXRQcm9wZXJ0eURlc2NyaXB0b3IodCxzLGkpe2NvbnN0e2dldDplLHNldDpyfT1oKHRoaXMucHJvdG90eXBlLHQpPz97Z2V0KCl7cmV0dXJuIHRoaXNbc119LHNldCh0KXt0aGlzW3NdPXR9fTtyZXR1cm57Z2V0OmUsc2V0KHMpe2NvbnN0IGg9ZT8uY2FsbCh0aGlzKTtyPy5jYWxsKHRoaXMscyksdGhpcy5yZXF1ZXN0VXBkYXRlKHQsaCxpKX0sY29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITB9fXN0YXRpYyBnZXRQcm9wZXJ0eU9wdGlvbnModCl7cmV0dXJuIHRoaXMuZWxlbWVudFByb3BlcnRpZXMuZ2V0KHQpPz9ifXN0YXRpYyBfJEVpKCl7aWYodGhpcy5oYXNPd25Qcm9wZXJ0eShkKFwiZWxlbWVudFByb3BlcnRpZXNcIikpKXJldHVybjtjb25zdCB0PW4odGhpcyk7dC5maW5hbGl6ZSgpLHZvaWQgMCE9PXQubCYmKHRoaXMubD1bLi4udC5sXSksdGhpcy5lbGVtZW50UHJvcGVydGllcz1uZXcgTWFwKHQuZWxlbWVudFByb3BlcnRpZXMpfXN0YXRpYyBmaW5hbGl6ZSgpe2lmKHRoaXMuaGFzT3duUHJvcGVydHkoZChcImZpbmFsaXplZFwiKSkpcmV0dXJuO2lmKHRoaXMuZmluYWxpemVkPSEwLHRoaXMuXyRFaSgpLHRoaXMuaGFzT3duUHJvcGVydHkoZChcInByb3BlcnRpZXNcIikpKXtjb25zdCB0PXRoaXMucHJvcGVydGllcyxzPVsuLi5yKHQpLC4uLm8odCldO2Zvcihjb25zdCBpIG9mIHMpdGhpcy5jcmVhdGVQcm9wZXJ0eShpLHRbaV0pfWNvbnN0IHQ9dGhpc1tTeW1ib2wubWV0YWRhdGFdO2lmKG51bGwhPT10KXtjb25zdCBzPWxpdFByb3BlcnR5TWV0YWRhdGEuZ2V0KHQpO2lmKHZvaWQgMCE9PXMpZm9yKGNvbnN0W3QsaV1vZiBzKXRoaXMuZWxlbWVudFByb3BlcnRpZXMuc2V0KHQsaSl9dGhpcy5fJEVoPW5ldyBNYXA7Zm9yKGNvbnN0W3Qsc11vZiB0aGlzLmVsZW1lbnRQcm9wZXJ0aWVzKXtjb25zdCBpPXRoaXMuXyRFdSh0LHMpO3ZvaWQgMCE9PWkmJnRoaXMuXyRFaC5zZXQoaSx0KX10aGlzLmVsZW1lbnRTdHlsZXM9dGhpcy5maW5hbGl6ZVN0eWxlcyh0aGlzLnN0eWxlcyl9c3RhdGljIGZpbmFsaXplU3R5bGVzKHMpe2NvbnN0IGk9W107aWYoQXJyYXkuaXNBcnJheShzKSl7Y29uc3QgZT1uZXcgU2V0KHMuZmxhdCgxLzApLnJldmVyc2UoKSk7Zm9yKGNvbnN0IHMgb2YgZSlpLnVuc2hpZnQodChzKSl9ZWxzZSB2b2lkIDAhPT1zJiZpLnB1c2godChzKSk7cmV0dXJuIGl9c3RhdGljIF8kRXUodCxzKXtjb25zdCBpPXMuYXR0cmlidXRlO3JldHVybiExPT09aT92b2lkIDA6XCJzdHJpbmdcIj09dHlwZW9mIGk/aTpcInN0cmluZ1wiPT10eXBlb2YgdD90LnRvTG93ZXJDYXNlKCk6dm9pZCAwfWNvbnN0cnVjdG9yKCl7c3VwZXIoKSx0aGlzLl8kRXA9dm9pZCAwLHRoaXMuaXNVcGRhdGVQZW5kaW5nPSExLHRoaXMuaGFzVXBkYXRlZD0hMSx0aGlzLl8kRW09bnVsbCx0aGlzLl8kRXYoKX1fJEV2KCl7dGhpcy5fJEVTPW5ldyBQcm9taXNlKCh0PT50aGlzLmVuYWJsZVVwZGF0aW5nPXQpKSx0aGlzLl8kQUw9bmV3IE1hcCx0aGlzLl8kRV8oKSx0aGlzLnJlcXVlc3RVcGRhdGUoKSx0aGlzLmNvbnN0cnVjdG9yLmw/LmZvckVhY2goKHQ9PnQodGhpcykpKX1hZGRDb250cm9sbGVyKHQpeyh0aGlzLl8kRU8/Pz1uZXcgU2V0KS5hZGQodCksdm9pZCAwIT09dGhpcy5yZW5kZXJSb290JiZ0aGlzLmlzQ29ubmVjdGVkJiZ0Lmhvc3RDb25uZWN0ZWQ/LigpfXJlbW92ZUNvbnRyb2xsZXIodCl7dGhpcy5fJEVPPy5kZWxldGUodCl9XyRFXygpe2NvbnN0IHQ9bmV3IE1hcCxzPXRoaXMuY29uc3RydWN0b3IuZWxlbWVudFByb3BlcnRpZXM7Zm9yKGNvbnN0IGkgb2Ygcy5rZXlzKCkpdGhpcy5oYXNPd25Qcm9wZXJ0eShpKSYmKHQuc2V0KGksdGhpc1tpXSksZGVsZXRlIHRoaXNbaV0pO3Quc2l6ZT4wJiYodGhpcy5fJEVwPXQpfWNyZWF0ZVJlbmRlclJvb3QoKXtjb25zdCB0PXRoaXMuc2hhZG93Um9vdD8/dGhpcy5hdHRhY2hTaGFkb3codGhpcy5jb25zdHJ1Y3Rvci5zaGFkb3dSb290T3B0aW9ucyk7cmV0dXJuIHModCx0aGlzLmNvbnN0cnVjdG9yLmVsZW1lbnRTdHlsZXMpLHR9Y29ubmVjdGVkQ2FsbGJhY2soKXt0aGlzLnJlbmRlclJvb3Q/Pz10aGlzLmNyZWF0ZVJlbmRlclJvb3QoKSx0aGlzLmVuYWJsZVVwZGF0aW5nKCEwKSx0aGlzLl8kRU8/LmZvckVhY2goKHQ9PnQuaG9zdENvbm5lY3RlZD8uKCkpKX1lbmFibGVVcGRhdGluZyh0KXt9ZGlzY29ubmVjdGVkQ2FsbGJhY2soKXt0aGlzLl8kRU8/LmZvckVhY2goKHQ9PnQuaG9zdERpc2Nvbm5lY3RlZD8uKCkpKX1hdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2sodCxzLGkpe3RoaXMuXyRBSyh0LGkpfV8kRVQodCxzKXtjb25zdCBpPXRoaXMuY29uc3RydWN0b3IuZWxlbWVudFByb3BlcnRpZXMuZ2V0KHQpLGU9dGhpcy5jb25zdHJ1Y3Rvci5fJEV1KHQsaSk7aWYodm9pZCAwIT09ZSYmITA9PT1pLnJlZmxlY3Qpe2NvbnN0IGg9KHZvaWQgMCE9PWkuY29udmVydGVyPy50b0F0dHJpYnV0ZT9pLmNvbnZlcnRlcjp1KS50b0F0dHJpYnV0ZShzLGkudHlwZSk7dGhpcy5fJEVtPXQsbnVsbD09aD90aGlzLnJlbW92ZUF0dHJpYnV0ZShlKTp0aGlzLnNldEF0dHJpYnV0ZShlLGgpLHRoaXMuXyRFbT1udWxsfX1fJEFLKHQscyl7Y29uc3QgaT10aGlzLmNvbnN0cnVjdG9yLGU9aS5fJEVoLmdldCh0KTtpZih2b2lkIDAhPT1lJiZ0aGlzLl8kRW0hPT1lKXtjb25zdCB0PWkuZ2V0UHJvcGVydHlPcHRpb25zKGUpLGg9XCJmdW5jdGlvblwiPT10eXBlb2YgdC5jb252ZXJ0ZXI/e2Zyb21BdHRyaWJ1dGU6dC5jb252ZXJ0ZXJ9OnZvaWQgMCE9PXQuY29udmVydGVyPy5mcm9tQXR0cmlidXRlP3QuY29udmVydGVyOnU7dGhpcy5fJEVtPWUsdGhpc1tlXT1oLmZyb21BdHRyaWJ1dGUocyx0LnR5cGUpPz90aGlzLl8kRWo/LmdldChlKT8/bnVsbCx0aGlzLl8kRW09bnVsbH19cmVxdWVzdFVwZGF0ZSh0LHMsaSl7aWYodm9pZCAwIT09dCl7Y29uc3QgZT10aGlzLmNvbnN0cnVjdG9yLGg9dGhpc1t0XTtpZihpPz89ZS5nZXRQcm9wZXJ0eU9wdGlvbnModCksISgoaS5oYXNDaGFuZ2VkPz9mKShoLHMpfHxpLnVzZURlZmF1bHQmJmkucmVmbGVjdCYmaD09PXRoaXMuXyRFaj8uZ2V0KHQpJiYhdGhpcy5oYXNBdHRyaWJ1dGUoZS5fJEV1KHQsaSkpKSlyZXR1cm47dGhpcy5DKHQscyxpKX0hMT09PXRoaXMuaXNVcGRhdGVQZW5kaW5nJiYodGhpcy5fJEVTPXRoaXMuXyRFUCgpKX1DKHQscyx7dXNlRGVmYXVsdDppLHJlZmxlY3Q6ZSx3cmFwcGVkOmh9LHIpe2kmJiEodGhpcy5fJEVqPz89bmV3IE1hcCkuaGFzKHQpJiYodGhpcy5fJEVqLnNldCh0LHI/P3M/P3RoaXNbdF0pLCEwIT09aHx8dm9pZCAwIT09cil8fCh0aGlzLl8kQUwuaGFzKHQpfHwodGhpcy5oYXNVcGRhdGVkfHxpfHwocz12b2lkIDApLHRoaXMuXyRBTC5zZXQodCxzKSksITA9PT1lJiZ0aGlzLl8kRW0hPT10JiYodGhpcy5fJEVxPz89bmV3IFNldCkuYWRkKHQpKX1hc3luYyBfJEVQKCl7dGhpcy5pc1VwZGF0ZVBlbmRpbmc9ITA7dHJ5e2F3YWl0IHRoaXMuXyRFU31jYXRjaCh0KXtQcm9taXNlLnJlamVjdCh0KX1jb25zdCB0PXRoaXMuc2NoZWR1bGVVcGRhdGUoKTtyZXR1cm4gbnVsbCE9dCYmYXdhaXQgdCwhdGhpcy5pc1VwZGF0ZVBlbmRpbmd9c2NoZWR1bGVVcGRhdGUoKXtyZXR1cm4gdGhpcy5wZXJmb3JtVXBkYXRlKCl9cGVyZm9ybVVwZGF0ZSgpe2lmKCF0aGlzLmlzVXBkYXRlUGVuZGluZylyZXR1cm47aWYoIXRoaXMuaGFzVXBkYXRlZCl7aWYodGhpcy5yZW5kZXJSb290Pz89dGhpcy5jcmVhdGVSZW5kZXJSb290KCksdGhpcy5fJEVwKXtmb3IoY29uc3RbdCxzXW9mIHRoaXMuXyRFcCl0aGlzW3RdPXM7dGhpcy5fJEVwPXZvaWQgMH1jb25zdCB0PXRoaXMuY29uc3RydWN0b3IuZWxlbWVudFByb3BlcnRpZXM7aWYodC5zaXplPjApZm9yKGNvbnN0W3MsaV1vZiB0KXtjb25zdHt3cmFwcGVkOnR9PWksZT10aGlzW3NdOyEwIT09dHx8dGhpcy5fJEFMLmhhcyhzKXx8dm9pZCAwPT09ZXx8dGhpcy5DKHMsdm9pZCAwLGksZSl9fWxldCB0PSExO2NvbnN0IHM9dGhpcy5fJEFMO3RyeXt0PXRoaXMuc2hvdWxkVXBkYXRlKHMpLHQ/KHRoaXMud2lsbFVwZGF0ZShzKSx0aGlzLl8kRU8/LmZvckVhY2goKHQ9PnQuaG9zdFVwZGF0ZT8uKCkpKSx0aGlzLnVwZGF0ZShzKSk6dGhpcy5fJEVNKCl9Y2F0Y2gocyl7dGhyb3cgdD0hMSx0aGlzLl8kRU0oKSxzfXQmJnRoaXMuXyRBRShzKX13aWxsVXBkYXRlKHQpe31fJEFFKHQpe3RoaXMuXyRFTz8uZm9yRWFjaCgodD0+dC5ob3N0VXBkYXRlZD8uKCkpKSx0aGlzLmhhc1VwZGF0ZWR8fCh0aGlzLmhhc1VwZGF0ZWQ9ITAsdGhpcy5maXJzdFVwZGF0ZWQodCkpLHRoaXMudXBkYXRlZCh0KX1fJEVNKCl7dGhpcy5fJEFMPW5ldyBNYXAsdGhpcy5pc1VwZGF0ZVBlbmRpbmc9ITF9Z2V0IHVwZGF0ZUNvbXBsZXRlKCl7cmV0dXJuIHRoaXMuZ2V0VXBkYXRlQ29tcGxldGUoKX1nZXRVcGRhdGVDb21wbGV0ZSgpe3JldHVybiB0aGlzLl8kRVN9c2hvdWxkVXBkYXRlKHQpe3JldHVybiEwfXVwZGF0ZSh0KXt0aGlzLl8kRXEmJj10aGlzLl8kRXEuZm9yRWFjaCgodD0+dGhpcy5fJEVUKHQsdGhpc1t0XSkpKSx0aGlzLl8kRU0oKX11cGRhdGVkKHQpe31maXJzdFVwZGF0ZWQodCl7fX15LmVsZW1lbnRTdHlsZXM9W10seS5zaGFkb3dSb290T3B0aW9ucz17bW9kZTpcIm9wZW5cIn0seVtkKFwiZWxlbWVudFByb3BlcnRpZXNcIildPW5ldyBNYXAseVtkKFwiZmluYWxpemVkXCIpXT1uZXcgTWFwLHA/Lih7UmVhY3RpdmVFbGVtZW50Onl9KSwoYS5yZWFjdGl2ZUVsZW1lbnRWZXJzaW9ucz8/PVtdKS5wdXNoKFwiMi4xLjBcIik7ZXhwb3J0e3kgYXMgUmVhY3RpdmVFbGVtZW50LHMgYXMgYWRvcHRTdHlsZXMsdSBhcyBkZWZhdWx0Q29udmVydGVyLHQgYXMgZ2V0Q29tcGF0aWJsZVN0eWxlLGYgYXMgbm90RXF1YWx9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVhY3RpdmUtZWxlbWVudC5qcy5tYXBcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBCU0QtMy1DbGF1c2VcbiAqL1xuXG4vKipcbiAqIFVzZSB0aGlzIG1vZHVsZSBpZiB5b3Ugd2FudCB0byBjcmVhdGUgeW91ciBvd24gYmFzZSBjbGFzcyBleHRlbmRpbmdcbiAqIHtAbGluayBSZWFjdGl2ZUVsZW1lbnR9LlxuICogQHBhY2thZ2VEb2N1bWVudGF0aW9uXG4gKi9cblxuaW1wb3J0IHtcbiAgZ2V0Q29tcGF0aWJsZVN0eWxlLFxuICBhZG9wdFN0eWxlcyxcbiAgQ1NTUmVzdWx0R3JvdXAsXG4gIENTU1Jlc3VsdE9yTmF0aXZlLFxufSBmcm9tICcuL2Nzcy10YWcuanMnO1xuaW1wb3J0IHR5cGUge1xuICBSZWFjdGl2ZUNvbnRyb2xsZXIsXG4gIFJlYWN0aXZlQ29udHJvbGxlckhvc3QsXG59IGZyb20gJy4vcmVhY3RpdmUtY29udHJvbGxlci5qcyc7XG5cbi8vIEluIHRoZSBOb2RlIGJ1aWxkLCB0aGlzIGltcG9ydCB3aWxsIGJlIGluamVjdGVkIGJ5IFJvbGx1cDpcbi8vIGltcG9ydCB7SFRNTEVsZW1lbnQsIGN1c3RvbUVsZW1lbnRzfSBmcm9tICdAbGl0LWxhYnMvc3NyLWRvbS1zaGltJztcblxuZXhwb3J0ICogZnJvbSAnLi9jc3MtdGFnLmpzJztcbmV4cG9ydCB0eXBlIHtcbiAgUmVhY3RpdmVDb250cm9sbGVyLFxuICBSZWFjdGl2ZUNvbnRyb2xsZXJIb3N0LFxufSBmcm9tICcuL3JlYWN0aXZlLWNvbnRyb2xsZXIuanMnO1xuXG4vKipcbiAqIFJlbW92ZXMgdGhlIGByZWFkb25seWAgbW9kaWZpZXIgZnJvbSBwcm9wZXJ0aWVzIGluIHRoZSB1bmlvbiBLLlxuICpcbiAqIFRoaXMgaXMgYSBzYWZlciB3YXkgdG8gY2FzdCBhIHZhbHVlIHRvIGEgdHlwZSB3aXRoIGEgbXV0YWJsZSB2ZXJzaW9uIG9mIGFcbiAqIHJlYWRvbmx5IGZpZWxkLCB0aGFuIGNhc3RpbmcgdG8gYW4gaW50ZXJmYWNlIHdpdGggdGhlIGZpZWxkIHJlLWRlY2xhcmVkXG4gKiBiZWNhdXNlIGl0IHByZXNlcnZlcyB0aGUgdHlwZSBvZiBhbGwgdGhlIGZpZWxkcyBhbmQgd2FybnMgb24gdHlwb3MuXG4gKi9cbnR5cGUgTXV0YWJsZTxULCBLIGV4dGVuZHMga2V5b2YgVD4gPSBPbWl0PFQsIEs+ICYge1xuICAtcmVhZG9ubHkgW1AgaW4ga2V5b2YgUGljazxULCBLPl06IFAgZXh0ZW5kcyBLID8gVFtQXSA6IG5ldmVyO1xufTtcblxuLy8gVE9ETyAoanVzdGluZmFnbmFuaSk6IEFkZCBgaGFzT3duYCBoZXJlIHdoZW4gd2Ugc2hpcCBFUzIwMjJcbmNvbnN0IHtcbiAgaXMsXG4gIGRlZmluZVByb3BlcnR5LFxuICBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IsXG4gIGdldE93blByb3BlcnR5TmFtZXMsXG4gIGdldE93blByb3BlcnR5U3ltYm9scyxcbiAgZ2V0UHJvdG90eXBlT2YsXG59ID0gT2JqZWN0O1xuXG5jb25zdCBOT0RFX01PREUgPSBmYWxzZTtcblxuLy8gTGV0cyBhIG1pbmlmaWVyIHJlcGxhY2UgZ2xvYmFsVGhpcyByZWZlcmVuY2VzIHdpdGggYSBtaW5pZmllZCBuYW1lXG5jb25zdCBnbG9iYWwgPSBnbG9iYWxUaGlzO1xuXG5pZiAoTk9ERV9NT0RFKSB7XG4gIGdsb2JhbC5jdXN0b21FbGVtZW50cyA/Pz0gY3VzdG9tRWxlbWVudHM7XG59XG5cbmNvbnN0IERFVl9NT0RFID0gdHJ1ZTtcblxubGV0IGlzc3VlV2FybmluZzogKGNvZGU6IHN0cmluZywgd2FybmluZzogc3RyaW5nKSA9PiB2b2lkO1xuXG5jb25zdCB0cnVzdGVkVHlwZXMgPSAoZ2xvYmFsIGFzIHVua25vd24gYXMge3RydXN0ZWRUeXBlcz86IHtlbXB0eVNjcmlwdDogJyd9fSlcbiAgLnRydXN0ZWRUeXBlcztcblxuLy8gVGVtcG9yYXJ5IHdvcmthcm91bmQgZm9yIGh0dHBzOi8vY3JidWcuY29tLzk5MzI2OFxuLy8gQ3VycmVudGx5LCBhbnkgYXR0cmlidXRlIHN0YXJ0aW5nIHdpdGggXCJvblwiIGlzIGNvbnNpZGVyZWQgdG8gYmUgYVxuLy8gVHJ1c3RlZFNjcmlwdCBzb3VyY2UuIFN1Y2ggYm9vbGVhbiBhdHRyaWJ1dGVzIG11c3QgYmUgc2V0IHRvIHRoZSBlcXVpdmFsZW50XG4vLyB0cnVzdGVkIGVtcHR5U2NyaXB0IHZhbHVlLlxuY29uc3QgZW1wdHlTdHJpbmdGb3JCb29sZWFuQXR0cmlidXRlID0gdHJ1c3RlZFR5cGVzXG4gID8gKHRydXN0ZWRUeXBlcy5lbXB0eVNjcmlwdCBhcyB1bmtub3duIGFzICcnKVxuICA6ICcnO1xuXG5jb25zdCBwb2x5ZmlsbFN1cHBvcnQgPSBERVZfTU9ERVxuICA/IGdsb2JhbC5yZWFjdGl2ZUVsZW1lbnRQb2x5ZmlsbFN1cHBvcnREZXZNb2RlXG4gIDogZ2xvYmFsLnJlYWN0aXZlRWxlbWVudFBvbHlmaWxsU3VwcG9ydDtcblxuaWYgKERFVl9NT0RFKSB7XG4gIC8vIEVuc3VyZSB3YXJuaW5ncyBhcmUgaXNzdWVkIG9ubHkgMXgsIGV2ZW4gaWYgbXVsdGlwbGUgdmVyc2lvbnMgb2YgTGl0XG4gIC8vIGFyZSBsb2FkZWQuXG4gIGdsb2JhbC5saXRJc3N1ZWRXYXJuaW5ncyA/Pz0gbmV3IFNldCgpO1xuXG4gIC8qKlxuICAgKiBJc3N1ZSBhIHdhcm5pbmcgaWYgd2UgaGF2ZW4ndCBhbHJlYWR5LCBiYXNlZCBlaXRoZXIgb24gYGNvZGVgIG9yIGB3YXJuaW5nYC5cbiAgICogV2FybmluZ3MgYXJlIGRpc2FibGVkIGF1dG9tYXRpY2FsbHkgb25seSBieSBgd2FybmluZ2A7IGRpc2FibGluZyB2aWEgYGNvZGVgXG4gICAqIGNhbiBiZSBkb25lIGJ5IHVzZXJzLlxuICAgKi9cbiAgaXNzdWVXYXJuaW5nID0gKGNvZGU6IHN0cmluZywgd2FybmluZzogc3RyaW5nKSA9PiB7XG4gICAgd2FybmluZyArPSBgIFNlZSBodHRwczovL2xpdC5kZXYvbXNnLyR7Y29kZX0gZm9yIG1vcmUgaW5mb3JtYXRpb24uYDtcbiAgICBpZiAoXG4gICAgICAhZ2xvYmFsLmxpdElzc3VlZFdhcm5pbmdzIS5oYXMod2FybmluZykgJiZcbiAgICAgICFnbG9iYWwubGl0SXNzdWVkV2FybmluZ3MhLmhhcyhjb2RlKVxuICAgICkge1xuICAgICAgY29uc29sZS53YXJuKHdhcm5pbmcpO1xuICAgICAgZ2xvYmFsLmxpdElzc3VlZFdhcm5pbmdzIS5hZGQod2FybmluZyk7XG4gICAgfVxuICB9O1xuXG4gIHF1ZXVlTWljcm90YXNrKCgpID0+IHtcbiAgICBpc3N1ZVdhcm5pbmcoXG4gICAgICAnZGV2LW1vZGUnLFxuICAgICAgYExpdCBpcyBpbiBkZXYgbW9kZS4gTm90IHJlY29tbWVuZGVkIGZvciBwcm9kdWN0aW9uIWBcbiAgICApO1xuXG4gICAgLy8gSXNzdWUgcG9seWZpbGwgc3VwcG9ydCB3YXJuaW5nLlxuICAgIGlmIChnbG9iYWwuU2hhZHlET00/LmluVXNlICYmIHBvbHlmaWxsU3VwcG9ydCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBpc3N1ZVdhcm5pbmcoXG4gICAgICAgICdwb2x5ZmlsbC1zdXBwb3J0LW1pc3NpbmcnLFxuICAgICAgICBgU2hhZG93IERPTSBpcyBiZWluZyBwb2x5ZmlsbGVkIHZpYSBcXGBTaGFkeURPTVxcYCBidXQgYCArXG4gICAgICAgICAgYHRoZSBcXGBwb2x5ZmlsbC1zdXBwb3J0XFxgIG1vZHVsZSBoYXMgbm90IGJlZW4gbG9hZGVkLmBcbiAgICAgICk7XG4gICAgfVxuICB9KTtcbn1cblxuLyoqXG4gKiBDb250YWlucyB0eXBlcyB0aGF0IGFyZSBwYXJ0IG9mIHRoZSB1bnN0YWJsZSBkZWJ1ZyBBUEkuXG4gKlxuICogRXZlcnl0aGluZyBpbiB0aGlzIEFQSSBpcyBub3Qgc3RhYmxlIGFuZCBtYXkgY2hhbmdlIG9yIGJlIHJlbW92ZWQgaW4gdGhlIGZ1dHVyZSxcbiAqIGV2ZW4gb24gcGF0Y2ggcmVsZWFzZXMuXG4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbmFtZXNwYWNlXG5leHBvcnQgbmFtZXNwYWNlIFJlYWN0aXZlVW5zdGFibGUge1xuICAvKipcbiAgICogV2hlbiBMaXQgaXMgcnVubmluZyBpbiBkZXYgbW9kZSBhbmQgYHdpbmRvdy5lbWl0TGl0RGVidWdMb2dFdmVudHNgIGlzIHRydWUsXG4gICAqIHdlIHdpbGwgZW1pdCAnbGl0LWRlYnVnJyBldmVudHMgdG8gd2luZG93LCB3aXRoIGxpdmUgZGV0YWlscyBhYm91dCB0aGUgdXBkYXRlIGFuZCByZW5kZXJcbiAgICogbGlmZWN5Y2xlLiBUaGVzZSBjYW4gYmUgdXNlZnVsIGZvciB3cml0aW5nIGRlYnVnIHRvb2xpbmcgYW5kIHZpc3VhbGl6YXRpb25zLlxuICAgKlxuICAgKiBQbGVhc2UgYmUgYXdhcmUgdGhhdCBydW5uaW5nIHdpdGggd2luZG93LmVtaXRMaXREZWJ1Z0xvZ0V2ZW50cyBoYXMgcGVyZm9ybWFuY2Ugb3ZlcmhlYWQsXG4gICAqIG1ha2luZyBjZXJ0YWluIG9wZXJhdGlvbnMgdGhhdCBhcmUgbm9ybWFsbHkgdmVyeSBjaGVhcCAobGlrZSBhIG5vLW9wIHJlbmRlcikgbXVjaCBzbG93ZXIsXG4gICAqIGJlY2F1c2Ugd2UgbXVzdCBjb3B5IGRhdGEgYW5kIGRpc3BhdGNoIGV2ZW50cy5cbiAgICovXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbmFtZXNwYWNlXG4gIGV4cG9ydCBuYW1lc3BhY2UgRGVidWdMb2cge1xuICAgIGV4cG9ydCB0eXBlIEVudHJ5ID0gVXBkYXRlO1xuICAgIGV4cG9ydCBpbnRlcmZhY2UgVXBkYXRlIHtcbiAgICAgIGtpbmQ6ICd1cGRhdGUnO1xuICAgIH1cbiAgfVxufVxuXG5pbnRlcmZhY2UgRGVidWdMb2dnaW5nV2luZG93IHtcbiAgLy8gRXZlbiBpbiBkZXYgbW9kZSwgd2UgZ2VuZXJhbGx5IGRvbid0IHdhbnQgdG8gZW1pdCB0aGVzZSBldmVudHMsIGFzIHRoYXQnc1xuICAvLyBhbm90aGVyIGxldmVsIG9mIGNvc3QsIHNvIG9ubHkgZW1pdCB0aGVtIHdoZW4gREVWX01PREUgaXMgdHJ1ZSBfYW5kXyB3aGVuXG4gIC8vIHdpbmRvdy5lbWl0TGl0RGVidWdFdmVudHMgaXMgdHJ1ZS5cbiAgZW1pdExpdERlYnVnTG9nRXZlbnRzPzogYm9vbGVhbjtcbn1cblxuLyoqXG4gKiBVc2VmdWwgZm9yIHZpc3VhbGl6aW5nIGFuZCBsb2dnaW5nIGluc2lnaHRzIGludG8gd2hhdCB0aGUgTGl0IHRlbXBsYXRlIHN5c3RlbSBpcyBkb2luZy5cbiAqXG4gKiBDb21waWxlZCBvdXQgb2YgcHJvZCBtb2RlIGJ1aWxkcy5cbiAqL1xuY29uc3QgZGVidWdMb2dFdmVudCA9IERFVl9NT0RFXG4gID8gKGV2ZW50OiBSZWFjdGl2ZVVuc3RhYmxlLkRlYnVnTG9nLkVudHJ5KSA9PiB7XG4gICAgICBjb25zdCBzaG91bGRFbWl0ID0gKGdsb2JhbCBhcyB1bmtub3duIGFzIERlYnVnTG9nZ2luZ1dpbmRvdylcbiAgICAgICAgLmVtaXRMaXREZWJ1Z0xvZ0V2ZW50cztcbiAgICAgIGlmICghc2hvdWxkRW1pdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBnbG9iYWwuZGlzcGF0Y2hFdmVudChcbiAgICAgICAgbmV3IEN1c3RvbUV2ZW50PFJlYWN0aXZlVW5zdGFibGUuRGVidWdMb2cuRW50cnk+KCdsaXQtZGVidWcnLCB7XG4gICAgICAgICAgZGV0YWlsOiBldmVudCxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfVxuICA6IHVuZGVmaW5lZDtcblxuLypcbiAqIFdoZW4gdXNpbmcgQ2xvc3VyZSBDb21waWxlciwgSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eShwcm9wZXJ0eSwgb2JqZWN0KSBpc1xuICogcmVwbGFjZWQgYXQgY29tcGlsZSB0aW1lIGJ5IHRoZSBtdW5nZWQgbmFtZSBmb3Igb2JqZWN0W3Byb3BlcnR5XS4gV2UgY2Fubm90XG4gKiBhbGlhcyB0aGlzIGZ1bmN0aW9uLCBzbyB3ZSBoYXZlIHRvIHVzZSBhIHNtYWxsIHNoaW0gdGhhdCBoYXMgdGhlIHNhbWVcbiAqIGJlaGF2aW9yIHdoZW4gbm90IGNvbXBpbGluZy5cbiAqL1xuLypAX19JTkxJTkVfXyovXG5jb25zdCBKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5ID0gPFAgZXh0ZW5kcyBQcm9wZXJ0eUtleT4oXG4gIHByb3A6IFAsXG4gIF9vYmo6IHVua25vd25cbik6IFAgPT4gcHJvcDtcblxuLyoqXG4gKiBDb252ZXJ0cyBwcm9wZXJ0eSB2YWx1ZXMgdG8gYW5kIGZyb20gYXR0cmlidXRlIHZhbHVlcy5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDb21wbGV4QXR0cmlidXRlQ29udmVydGVyPFR5cGUgPSB1bmtub3duLCBUeXBlSGludCA9IHVua25vd24+IHtcbiAgLyoqXG4gICAqIENhbGxlZCB0byBjb252ZXJ0IGFuIGF0dHJpYnV0ZSB2YWx1ZSB0byBhIHByb3BlcnR5XG4gICAqIHZhbHVlLlxuICAgKi9cbiAgZnJvbUF0dHJpYnV0ZT8odmFsdWU6IHN0cmluZyB8IG51bGwsIHR5cGU/OiBUeXBlSGludCk6IFR5cGU7XG5cbiAgLyoqXG4gICAqIENhbGxlZCB0byBjb252ZXJ0IGEgcHJvcGVydHkgdmFsdWUgdG8gYW4gYXR0cmlidXRlXG4gICAqIHZhbHVlLlxuICAgKlxuICAgKiBJdCByZXR1cm5zIHVua25vd24gaW5zdGVhZCBvZiBzdHJpbmcsIHRvIGJlIGNvbXBhdGlibGUgd2l0aFxuICAgKiBodHRwczovL2dpdGh1Yi5jb20vV0lDRy90cnVzdGVkLXR5cGVzIChhbmQgc2ltaWxhciBlZmZvcnRzKS5cbiAgICovXG4gIHRvQXR0cmlidXRlPyh2YWx1ZTogVHlwZSwgdHlwZT86IFR5cGVIaW50KTogdW5rbm93bjtcbn1cblxudHlwZSBBdHRyaWJ1dGVDb252ZXJ0ZXI8VHlwZSA9IHVua25vd24sIFR5cGVIaW50ID0gdW5rbm93bj4gPVxuICB8IENvbXBsZXhBdHRyaWJ1dGVDb252ZXJ0ZXI8VHlwZT5cbiAgfCAoKHZhbHVlOiBzdHJpbmcgfCBudWxsLCB0eXBlPzogVHlwZUhpbnQpID0+IFR5cGUpO1xuXG4vKipcbiAqIERlZmluZXMgb3B0aW9ucyBmb3IgYSBwcm9wZXJ0eSBhY2Nlc3Nvci5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBQcm9wZXJ0eURlY2xhcmF0aW9uPFR5cGUgPSB1bmtub3duLCBUeXBlSGludCA9IHVua25vd24+IHtcbiAgLyoqXG4gICAqIFdoZW4gc2V0IHRvIGB0cnVlYCwgaW5kaWNhdGVzIHRoZSBwcm9wZXJ0eSBpcyBpbnRlcm5hbCBwcml2YXRlIHN0YXRlLiBUaGVcbiAgICogcHJvcGVydHkgc2hvdWxkIG5vdCBiZSBzZXQgYnkgdXNlcnMuIFdoZW4gdXNpbmcgVHlwZVNjcmlwdCwgdGhpcyBwcm9wZXJ0eVxuICAgKiBzaG91bGQgYmUgbWFya2VkIGFzIGBwcml2YXRlYCBvciBgcHJvdGVjdGVkYCwgYW5kIGl0IGlzIGFsc28gYSBjb21tb25cbiAgICogcHJhY3RpY2UgdG8gdXNlIGEgbGVhZGluZyBgX2AgaW4gdGhlIG5hbWUuIFRoZSBwcm9wZXJ0eSBpcyBub3QgYWRkZWQgdG9cbiAgICogYG9ic2VydmVkQXR0cmlidXRlc2AuXG4gICAqL1xuICByZWFkb25seSBzdGF0ZT86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIEluZGljYXRlcyBob3cgYW5kIHdoZXRoZXIgdGhlIHByb3BlcnR5IGJlY29tZXMgYW4gb2JzZXJ2ZWQgYXR0cmlidXRlLlxuICAgKiBJZiB0aGUgdmFsdWUgaXMgYGZhbHNlYCwgdGhlIHByb3BlcnR5IGlzIG5vdCBhZGRlZCB0byBgb2JzZXJ2ZWRBdHRyaWJ1dGVzYC5cbiAgICogSWYgdHJ1ZSBvciBhYnNlbnQsIHRoZSBsb3dlcmNhc2VkIHByb3BlcnR5IG5hbWUgaXMgb2JzZXJ2ZWQgKGUuZy4gYGZvb0JhcmBcbiAgICogYmVjb21lcyBgZm9vYmFyYCkuIElmIGEgc3RyaW5nLCB0aGUgc3RyaW5nIHZhbHVlIGlzIG9ic2VydmVkIChlLmdcbiAgICogYGF0dHJpYnV0ZTogJ2Zvby1iYXInYCkuXG4gICAqL1xuICByZWFkb25seSBhdHRyaWJ1dGU/OiBib29sZWFuIHwgc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBJbmRpY2F0ZXMgdGhlIHR5cGUgb2YgdGhlIHByb3BlcnR5LiBUaGlzIGlzIHVzZWQgb25seSBhcyBhIGhpbnQgZm9yIHRoZVxuICAgKiBgY29udmVydGVyYCB0byBkZXRlcm1pbmUgaG93IHRvIGNvbnZlcnQgdGhlIGF0dHJpYnV0ZVxuICAgKiB0by9mcm9tIGEgcHJvcGVydHkuXG4gICAqL1xuICByZWFkb25seSB0eXBlPzogVHlwZUhpbnQ7XG5cbiAgLyoqXG4gICAqIEluZGljYXRlcyBob3cgdG8gY29udmVydCB0aGUgYXR0cmlidXRlIHRvL2Zyb20gYSBwcm9wZXJ0eS4gSWYgdGhpcyB2YWx1ZVxuICAgKiBpcyBhIGZ1bmN0aW9uLCBpdCBpcyB1c2VkIHRvIGNvbnZlcnQgdGhlIGF0dHJpYnV0ZSB2YWx1ZSBhIHRoZSBwcm9wZXJ0eVxuICAgKiB2YWx1ZS4gSWYgaXQncyBhbiBvYmplY3QsIGl0IGNhbiBoYXZlIGtleXMgZm9yIGBmcm9tQXR0cmlidXRlYCBhbmRcbiAgICogYHRvQXR0cmlidXRlYC4gSWYgbm8gYHRvQXR0cmlidXRlYCBmdW5jdGlvbiBpcyBwcm92aWRlZCBhbmRcbiAgICogYHJlZmxlY3RgIGlzIHNldCB0byBgdHJ1ZWAsIHRoZSBwcm9wZXJ0eSB2YWx1ZSBpcyBzZXQgZGlyZWN0bHkgdG8gdGhlXG4gICAqIGF0dHJpYnV0ZS4gQSBkZWZhdWx0IGBjb252ZXJ0ZXJgIGlzIHVzZWQgaWYgbm9uZSBpcyBwcm92aWRlZDsgaXQgc3VwcG9ydHNcbiAgICogYEJvb2xlYW5gLCBgU3RyaW5nYCwgYE51bWJlcmAsIGBPYmplY3RgLCBhbmQgYEFycmF5YC4gTm90ZSxcbiAgICogd2hlbiBhIHByb3BlcnR5IGNoYW5nZXMgYW5kIHRoZSBjb252ZXJ0ZXIgaXMgdXNlZCB0byB1cGRhdGUgdGhlIGF0dHJpYnV0ZSxcbiAgICogdGhlIHByb3BlcnR5IGlzIG5ldmVyIHVwZGF0ZWQgYWdhaW4gYXMgYSByZXN1bHQgb2YgdGhlIGF0dHJpYnV0ZSBjaGFuZ2luZyxcbiAgICogYW5kIHZpY2UgdmVyc2EuXG4gICAqL1xuICByZWFkb25seSBjb252ZXJ0ZXI/OiBBdHRyaWJ1dGVDb252ZXJ0ZXI8VHlwZSwgVHlwZUhpbnQ+O1xuXG4gIC8qKlxuICAgKiBJbmRpY2F0ZXMgaWYgdGhlIHByb3BlcnR5IHNob3VsZCByZWZsZWN0IHRvIGFuIGF0dHJpYnV0ZS5cbiAgICogSWYgYHRydWVgLCB3aGVuIHRoZSBwcm9wZXJ0eSBpcyBzZXQsIHRoZSBhdHRyaWJ1dGUgaXMgc2V0IHVzaW5nIHRoZVxuICAgKiBhdHRyaWJ1dGUgbmFtZSBkZXRlcm1pbmVkIGFjY29yZGluZyB0byB0aGUgcnVsZXMgZm9yIHRoZSBgYXR0cmlidXRlYFxuICAgKiBwcm9wZXJ0eSBvcHRpb24gYW5kIHRoZSB2YWx1ZSBvZiB0aGUgcHJvcGVydHkgY29udmVydGVkIHVzaW5nIHRoZSBydWxlc1xuICAgKiBmcm9tIHRoZSBgY29udmVydGVyYCBwcm9wZXJ0eSBvcHRpb24uXG4gICAqL1xuICByZWFkb25seSByZWZsZWN0PzogYm9vbGVhbjtcblxuICAvKipcbiAgICogQSBmdW5jdGlvbiB0aGF0IGluZGljYXRlcyBpZiBhIHByb3BlcnR5IHNob3VsZCBiZSBjb25zaWRlcmVkIGNoYW5nZWQgd2hlblxuICAgKiBpdCBpcyBzZXQuIFRoZSBmdW5jdGlvbiBzaG91bGQgdGFrZSB0aGUgYG5ld1ZhbHVlYCBhbmQgYG9sZFZhbHVlYCBhbmRcbiAgICogcmV0dXJuIGB0cnVlYCBpZiBhbiB1cGRhdGUgc2hvdWxkIGJlIHJlcXVlc3RlZC5cbiAgICovXG4gIGhhc0NoYW5nZWQ/KHZhbHVlOiBUeXBlLCBvbGRWYWx1ZTogVHlwZSk6IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIEluZGljYXRlcyB3aGV0aGVyIGFuIGFjY2Vzc29yIHdpbGwgYmUgY3JlYXRlZCBmb3IgdGhpcyBwcm9wZXJ0eS4gQnlcbiAgICogZGVmYXVsdCwgYW4gYWNjZXNzb3Igd2lsbCBiZSBnZW5lcmF0ZWQgZm9yIHRoaXMgcHJvcGVydHkgdGhhdCByZXF1ZXN0cyBhblxuICAgKiB1cGRhdGUgd2hlbiBzZXQuIElmIHRoaXMgZmxhZyBpcyBgdHJ1ZWAsIG5vIGFjY2Vzc29yIHdpbGwgYmUgY3JlYXRlZCwgYW5kXG4gICAqIGl0IHdpbGwgYmUgdGhlIHVzZXIncyByZXNwb25zaWJpbGl0eSB0byBjYWxsXG4gICAqIGB0aGlzLnJlcXVlc3RVcGRhdGUocHJvcGVydHlOYW1lLCBvbGRWYWx1ZSlgIHRvIHJlcXVlc3QgYW4gdXBkYXRlIHdoZW5cbiAgICogdGhlIHByb3BlcnR5IGNoYW5nZXMuXG4gICAqL1xuICByZWFkb25seSBub0FjY2Vzc29yPzogYm9vbGVhbjtcblxuICAvKipcbiAgICogV2hldGhlciB0aGlzIHByb3BlcnR5IGlzIHdyYXBwaW5nIGFjY2Vzc29ycy4gVGhpcyBpcyBzZXQgYnkgYEBwcm9wZXJ0eWBcbiAgICogdG8gY29udHJvbCB0aGUgaW5pdGlhbCB2YWx1ZSBjaGFuZ2UgYW5kIHJlZmxlY3Rpb24gbG9naWMuXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgd3JhcHBlZD86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFdoZW4gYHRydWVgLCB1c2VzIHRoZSBpbml0aWFsIHZhbHVlIG9mIHRoZSBwcm9wZXJ0eSBhcyB0aGUgZGVmYXVsdCB2YWx1ZSxcbiAgICogd2hpY2ggY2hhbmdlcyBob3cgYXR0cmlidXRlcyBhcmUgaGFuZGxlZDpcbiAgICogIC0gVGhlIGluaXRpYWwgdmFsdWUgZG9lcyAqbm90KiByZWZsZWN0LCBldmVuIGlmIHRoZSBgcmVmbGVjdGAgb3B0aW9uIGlzIGB0cnVlYC5cbiAgICogICAgU3Vic2VxdWVudCBjaGFuZ2VzIHRvIHRoZSBwcm9wZXJ0eSB3aWxsIHJlZmxlY3QsIGV2ZW4gaWYgdGhleSBhcmUgZXF1YWwgdG8gdGhlXG4gICAqICAgICBkZWZhdWx0IHZhbHVlLlxuICAgKiAgLSBXaGVuIHRoZSBhdHRyaWJ1dGUgaXMgcmVtb3ZlZCwgdGhlIHByb3BlcnR5IGlzIHNldCB0byB0aGUgZGVmYXVsdCB2YWx1ZVxuICAgKiAgLSBUaGUgaW5pdGlhbCB2YWx1ZSB3aWxsIG5vdCB0cmlnZ2VyIGFuIG9sZCB2YWx1ZSBpbiB0aGUgYGNoYW5nZWRQcm9wZXJ0aWVzYCBtYXBcbiAgICogICAgYXJndW1lbnQgdG8gdXBkYXRlIGxpZmVjeWNsZSBtZXRob2RzLlxuICAgKlxuICAgKiBXaGVuIHNldCwgcHJvcGVydGllcyBtdXN0IGJlIGluaXRpYWxpemVkLCBlaXRoZXIgd2l0aCBhIGZpZWxkIGluaXRpYWxpemVyLCBvciBhblxuICAgKiBhc3NpZ25tZW50IGluIHRoZSBjb25zdHJ1Y3Rvci4gTm90IGluaXRpYWxpemluZyB0aGUgcHJvcGVydHkgbWF5IGxlYWQgdG9cbiAgICogaW1wcm9wZXIgaGFuZGxpbmcgb2Ygc3Vic2VxdWVudCBwcm9wZXJ0eSBhc3NpZ25tZW50cy5cbiAgICpcbiAgICogV2hpbGUgdGhpcyBiZWhhdmlvciBpcyBvcHQtaW4sIG1vc3QgcHJvcGVydGllcyB0aGF0IHJlZmxlY3QgdG8gYXR0cmlidXRlcyBzaG91bGRcbiAgICogdXNlIGB1c2VEZWZhdWx0OiB0cnVlYCBzbyB0aGF0IHRoZWlyIGluaXRpYWwgdmFsdWVzIGRvIG5vdCByZWZsZWN0LlxuICAgKi9cbiAgdXNlRGVmYXVsdD86IGJvb2xlYW47XG59XG5cbi8qKlxuICogTWFwIG9mIHByb3BlcnRpZXMgdG8gUHJvcGVydHlEZWNsYXJhdGlvbiBvcHRpb25zLiBGb3IgZWFjaCBwcm9wZXJ0eSBhblxuICogYWNjZXNzb3IgaXMgbWFkZSwgYW5kIHRoZSBwcm9wZXJ0eSBpcyBwcm9jZXNzZWQgYWNjb3JkaW5nIHRvIHRoZVxuICogUHJvcGVydHlEZWNsYXJhdGlvbiBvcHRpb25zLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFByb3BlcnR5RGVjbGFyYXRpb25zIHtcbiAgcmVhZG9ubHkgW2tleTogc3RyaW5nXTogUHJvcGVydHlEZWNsYXJhdGlvbjtcbn1cblxudHlwZSBQcm9wZXJ0eURlY2xhcmF0aW9uTWFwID0gTWFwPFByb3BlcnR5S2V5LCBQcm9wZXJ0eURlY2xhcmF0aW9uPjtcblxudHlwZSBBdHRyaWJ1dGVNYXAgPSBNYXA8c3RyaW5nLCBQcm9wZXJ0eUtleT47XG5cbi8qKlxuICogQSBNYXAgb2YgcHJvcGVydHkga2V5cyB0byB2YWx1ZXMuXG4gKlxuICogVGFrZXMgYW4gb3B0aW9uYWwgdHlwZSBwYXJhbWV0ZXIgVCwgd2hpY2ggd2hlbiBzcGVjaWZpZWQgYXMgYSBub24tYW55LFxuICogbm9uLXVua25vd24gdHlwZSwgd2lsbCBtYWtlIHRoZSBNYXAgbW9yZSBzdHJvbmdseS10eXBlZCwgYXNzb2NpYXRpbmcgdGhlIG1hcFxuICoga2V5cyB3aXRoIHRoZWlyIGNvcnJlc3BvbmRpbmcgdmFsdWUgdHlwZSBvbiBULlxuICpcbiAqIFVzZSBgUHJvcGVydHlWYWx1ZXM8dGhpcz5gIHdoZW4gb3ZlcnJpZGluZyBSZWFjdGl2ZUVsZW1lbnQudXBkYXRlKCkgYW5kXG4gKiBvdGhlciBsaWZlY3ljbGUgbWV0aG9kcyBpbiBvcmRlciB0byBnZXQgc3Ryb25nZXIgdHlwZS1jaGVja2luZyBvbiBrZXlzXG4gKiBhbmQgdmFsdWVzLlxuICovXG4vLyBUaGlzIHR5cGUgaXMgY29uZGl0aW9uYWwgc28gdGhhdCBpZiB0aGUgcGFyYW1ldGVyIFQgaXMgbm90IHNwZWNpZmllZCwgb3Jcbi8vIGlzIGBhbnlgLCB0aGUgdHlwZSB3aWxsIGluY2x1ZGUgYE1hcDxQcm9wZXJ0eUtleSwgdW5rbm93bj5gLiBTaW5jZSBUIGlzIG5vdFxuLy8gZ2l2ZW4gaW4gdGhlIHVzZXMgb2YgUHJvcGVydHlWYWx1ZXMgaW4gdGhpcyBmaWxlLCBhbGwgdXNlcyBoZXJlIGZhbGxiYWNrIHRvXG4vLyBtZWFuaW5nIGBNYXA8UHJvcGVydHlLZXksIHVua25vd24+YCwgYnV0IGlmIGEgZGV2ZWxvcGVyIHVzZXNcbi8vIGBQcm9wZXJ0eVZhbHVlczx0aGlzPmAgKG9yIGFueSBvdGhlciB2YWx1ZSBmb3IgVCkgdGhleSB3aWxsIGdldCBhXG4vLyBzdHJvbmdseS10eXBlZCBNYXAgdHlwZS5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG5leHBvcnQgdHlwZSBQcm9wZXJ0eVZhbHVlczxUID0gYW55PiA9IFQgZXh0ZW5kcyBvYmplY3RcbiAgPyBQcm9wZXJ0eVZhbHVlTWFwPFQ+XG4gIDogTWFwPFByb3BlcnR5S2V5LCB1bmtub3duPjtcblxuLyoqXG4gKiBEbyBub3QgdXNlLCBpbnN0ZWFkIHByZWZlciB7QGxpbmtjb2RlIFByb3BlcnR5VmFsdWVzfS5cbiAqL1xuLy8gVGhpcyB0eXBlIG11c3QgYmUgZXhwb3J0ZWQgc3VjaCB0aGF0IEphdmFTY3JpcHQgZ2VuZXJhdGVkIGJ5IHRoZSBHb29nbGVcbi8vIENsb3N1cmUgQ29tcGlsZXIgY2FuIGltcG9ydCBhIHR5cGUgcmVmZXJlbmNlLlxuZXhwb3J0IGludGVyZmFjZSBQcm9wZXJ0eVZhbHVlTWFwPFQ+IGV4dGVuZHMgTWFwPFByb3BlcnR5S2V5LCB1bmtub3duPiB7XG4gIGdldDxLIGV4dGVuZHMga2V5b2YgVD4oazogSyk6IFRbS10gfCB1bmRlZmluZWQ7XG4gIHNldDxLIGV4dGVuZHMga2V5b2YgVD4oa2V5OiBLLCB2YWx1ZTogVFtLXSk6IHRoaXM7XG4gIGhhczxLIGV4dGVuZHMga2V5b2YgVD4oazogSyk6IGJvb2xlYW47XG4gIGRlbGV0ZTxLIGV4dGVuZHMga2V5b2YgVD4oazogSyk6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBjb25zdCBkZWZhdWx0Q29udmVydGVyOiBDb21wbGV4QXR0cmlidXRlQ29udmVydGVyID0ge1xuICB0b0F0dHJpYnV0ZSh2YWx1ZTogdW5rbm93biwgdHlwZT86IHVua25vd24pOiB1bmtub3duIHtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgQm9vbGVhbjpcbiAgICAgICAgdmFsdWUgPSB2YWx1ZSA/IGVtcHR5U3RyaW5nRm9yQm9vbGVhbkF0dHJpYnV0ZSA6IG51bGw7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBPYmplY3Q6XG4gICAgICBjYXNlIEFycmF5OlxuICAgICAgICAvLyBpZiB0aGUgdmFsdWUgaXMgYG51bGxgIG9yIGB1bmRlZmluZWRgIHBhc3MgdGhpcyB0aHJvdWdoXG4gICAgICAgIC8vIHRvIGFsbG93IHJlbW92aW5nL25vIGNoYW5nZSBiZWhhdmlvci5cbiAgICAgICAgdmFsdWUgPSB2YWx1ZSA9PSBudWxsID8gdmFsdWUgOiBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG4gIH0sXG5cbiAgZnJvbUF0dHJpYnV0ZSh2YWx1ZTogc3RyaW5nIHwgbnVsbCwgdHlwZT86IHVua25vd24pIHtcbiAgICBsZXQgZnJvbVZhbHVlOiB1bmtub3duID0gdmFsdWU7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlIEJvb2xlYW46XG4gICAgICAgIGZyb21WYWx1ZSA9IHZhbHVlICE9PSBudWxsO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgTnVtYmVyOlxuICAgICAgICBmcm9tVmFsdWUgPSB2YWx1ZSA9PT0gbnVsbCA/IG51bGwgOiBOdW1iZXIodmFsdWUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgT2JqZWN0OlxuICAgICAgY2FzZSBBcnJheTpcbiAgICAgICAgLy8gRG8gKm5vdCogZ2VuZXJhdGUgZXhjZXB0aW9uIHdoZW4gaW52YWxpZCBKU09OIGlzIHNldCBhcyBlbGVtZW50c1xuICAgICAgICAvLyBkb24ndCBub3JtYWxseSBjb21wbGFpbiBvbiBiZWluZyBtaXMtY29uZmlndXJlZC5cbiAgICAgICAgLy8gVE9ETyhzb3J2ZWxsKTogRG8gZ2VuZXJhdGUgZXhjZXB0aW9uIGluICpkZXYgbW9kZSouXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gQXNzZXJ0IHRvIGFkaGVyZSB0byBCYXplbCdzIFwibXVzdCB0eXBlIGFzc2VydCBKU09OIHBhcnNlXCIgcnVsZS5cbiAgICAgICAgICBmcm9tVmFsdWUgPSBKU09OLnBhcnNlKHZhbHVlISkgYXMgdW5rbm93bjtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIGZyb21WYWx1ZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiBmcm9tVmFsdWU7XG4gIH0sXG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIEhhc0NoYW5nZWQge1xuICAodmFsdWU6IHVua25vd24sIG9sZDogdW5rbm93bik6IGJvb2xlYW47XG59XG5cbi8qKlxuICogQ2hhbmdlIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0cnVlIGlmIGB2YWx1ZWAgaXMgZGlmZmVyZW50IGZyb20gYG9sZFZhbHVlYC5cbiAqIFRoaXMgbWV0aG9kIGlzIHVzZWQgYXMgdGhlIGRlZmF1bHQgZm9yIGEgcHJvcGVydHkncyBgaGFzQ2hhbmdlZGAgZnVuY3Rpb24uXG4gKi9cbmV4cG9ydCBjb25zdCBub3RFcXVhbDogSGFzQ2hhbmdlZCA9ICh2YWx1ZTogdW5rbm93biwgb2xkOiB1bmtub3duKTogYm9vbGVhbiA9PlxuICAhaXModmFsdWUsIG9sZCk7XG5cbmNvbnN0IGRlZmF1bHRQcm9wZXJ0eURlY2xhcmF0aW9uOiBQcm9wZXJ0eURlY2xhcmF0aW9uID0ge1xuICBhdHRyaWJ1dGU6IHRydWUsXG4gIHR5cGU6IFN0cmluZyxcbiAgY29udmVydGVyOiBkZWZhdWx0Q29udmVydGVyLFxuICByZWZsZWN0OiBmYWxzZSxcbiAgdXNlRGVmYXVsdDogZmFsc2UsXG4gIGhhc0NoYW5nZWQ6IG5vdEVxdWFsLFxufTtcblxuLyoqXG4gKiBBIHN0cmluZyByZXByZXNlbnRpbmcgb25lIG9mIHRoZSBzdXBwb3J0ZWQgZGV2IG1vZGUgd2FybmluZyBjYXRlZ29yaWVzLlxuICovXG5leHBvcnQgdHlwZSBXYXJuaW5nS2luZCA9XG4gIHwgJ2NoYW5nZS1pbi11cGRhdGUnXG4gIHwgJ21pZ3JhdGlvbidcbiAgfCAnYXN5bmMtcGVyZm9ybS11cGRhdGUnO1xuXG5leHBvcnQgdHlwZSBJbml0aWFsaXplciA9IChlbGVtZW50OiBSZWFjdGl2ZUVsZW1lbnQpID0+IHZvaWQ7XG5cbi8vIFRlbXBvcmFyeSwgdW50aWwgZ29vZ2xlMyBpcyBvbiBUeXBlU2NyaXB0IDUuMlxuZGVjbGFyZSBnbG9iYWwge1xuICBpbnRlcmZhY2UgU3ltYm9sQ29uc3RydWN0b3Ige1xuICAgIHJlYWRvbmx5IG1ldGFkYXRhOiB1bmlxdWUgc3ltYm9sO1xuICB9XG59XG5cbi8vIEVuc3VyZSBtZXRhZGF0YSBpcyBlbmFibGVkLiBUeXBlU2NyaXB0IGRvZXMgbm90IHBvbHlmaWxsXG4vLyBTeW1ib2wubWV0YWRhdGEsIHNvIHdlIG11c3QgZW5zdXJlIHRoYXQgaXQgZXhpc3RzLlxuKFN5bWJvbCBhcyB7bWV0YWRhdGE6IHN5bWJvbH0pLm1ldGFkYXRhID8/PSBTeW1ib2woJ21ldGFkYXRhJyk7XG5cbmRlY2xhcmUgZ2xvYmFsIHtcbiAgLy8gVGhpcyBpcyBwdWJsaWMgZ2xvYmFsIEFQSSwgZG8gbm90IGNoYW5nZSFcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXZhclxuICB2YXIgbGl0UHJvcGVydHlNZXRhZGF0YTogV2Vha01hcDxcbiAgICBvYmplY3QsXG4gICAgTWFwPFByb3BlcnR5S2V5LCBQcm9wZXJ0eURlY2xhcmF0aW9uPlxuICA+O1xufVxuXG4vLyBNYXAgZnJvbSBhIGNsYXNzJ3MgbWV0YWRhdGEgb2JqZWN0IHRvIHByb3BlcnR5IG9wdGlvbnNcbi8vIE5vdGUgdGhhdCB3ZSBtdXN0IHVzZSBudWxsaXNoLWNvYWxlc2NpbmcgYXNzaWdubWVudCBzbyB0aGF0IHdlIG9ubHkgdXNlIG9uZVxuLy8gbWFwIGV2ZW4gaWYgd2UgbG9hZCBtdWx0aXBsZSB2ZXJzaW9uIG9mIHRoaXMgbW9kdWxlLlxuZ2xvYmFsLmxpdFByb3BlcnR5TWV0YWRhdGEgPz89IG5ldyBXZWFrTWFwPFxuICBvYmplY3QsXG4gIE1hcDxQcm9wZXJ0eUtleSwgUHJvcGVydHlEZWNsYXJhdGlvbj5cbj4oKTtcblxuLyoqXG4gKiBCYXNlIGVsZW1lbnQgY2xhc3Mgd2hpY2ggbWFuYWdlcyBlbGVtZW50IHByb3BlcnRpZXMgYW5kIGF0dHJpYnV0ZXMuIFdoZW5cbiAqIHByb3BlcnRpZXMgY2hhbmdlLCB0aGUgYHVwZGF0ZWAgbWV0aG9kIGlzIGFzeW5jaHJvbm91c2x5IGNhbGxlZC4gVGhpcyBtZXRob2RcbiAqIHNob3VsZCBiZSBzdXBwbGllZCBieSBzdWJjbGFzc2VzIHRvIHJlbmRlciB1cGRhdGVzIGFzIGRlc2lyZWQuXG4gKiBAbm9Jbmhlcml0RG9jXG4gKi9cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBSZWFjdGl2ZUVsZW1lbnRcbiAgLy8gSW4gdGhlIE5vZGUgYnVpbGQsIHRoaXMgYGV4dGVuZHNgIGNsYXVzZSB3aWxsIGJlIHN1YnN0aXR1dGVkIHdpdGhcbiAgLy8gYChnbG9iYWxUaGlzLkhUTUxFbGVtZW50ID8/IEhUTUxFbGVtZW50KWAuXG4gIC8vXG4gIC8vIFRoaXMgd2F5LCB3ZSB3aWxsIGZpcnN0IHByZWZlciBhbnkgZ2xvYmFsIGBIVE1MRWxlbWVudGAgcG9seWZpbGwgdGhhdCB0aGVcbiAgLy8gdXNlciBoYXMgYXNzaWduZWQsIGFuZCB0aGVuIGZhbGwgYmFjayB0byB0aGUgYEhUTUxFbGVtZW50YCBzaGltIHdoaWNoIGhhc1xuICAvLyBiZWVuIGltcG9ydGVkIChzZWUgbm90ZSBhdCB0aGUgdG9wIG9mIHRoaXMgZmlsZSBhYm91dCBob3cgdGhpcyBpbXBvcnQgaXNcbiAgLy8gZ2VuZXJhdGVkIGJ5IFJvbGx1cCkuIE5vdGUgdGhhdCB0aGUgYEhUTUxFbGVtZW50YCB2YXJpYWJsZSBoYXMgYmVlblxuICAvLyBzaGFkb3dlZCBieSB0aGlzIGltcG9ydCwgc28gaXQgbm8gbG9uZ2VyIHJlZmVycyB0byB0aGUgZ2xvYmFsLlxuICBleHRlbmRzIEhUTUxFbGVtZW50XG4gIGltcGxlbWVudHMgUmVhY3RpdmVDb250cm9sbGVySG9zdFxue1xuICAvLyBOb3RlOiB0aGVzZSBhcmUgcGF0Y2hlZCBpbiBvbmx5IGluIERFVl9NT0RFLlxuICAvKipcbiAgICogUmVhZCBvciBzZXQgYWxsIHRoZSBlbmFibGVkIHdhcm5pbmcgY2F0ZWdvcmllcyBmb3IgdGhpcyBjbGFzcy5cbiAgICpcbiAgICogVGhpcyBwcm9wZXJ0eSBpcyBvbmx5IHVzZWQgaW4gZGV2ZWxvcG1lbnQgYnVpbGRzLlxuICAgKlxuICAgKiBAbm9jb2xsYXBzZVxuICAgKiBAY2F0ZWdvcnkgZGV2LW1vZGVcbiAgICovXG4gIHN0YXRpYyBlbmFibGVkV2FybmluZ3M/OiBXYXJuaW5nS2luZFtdO1xuXG4gIC8qKlxuICAgKiBFbmFibGUgdGhlIGdpdmVuIHdhcm5pbmcgY2F0ZWdvcnkgZm9yIHRoaXMgY2xhc3MuXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIG9ubHkgZXhpc3RzIGluIGRldmVsb3BtZW50IGJ1aWxkcywgc28gaXQgc2hvdWxkIGJlIGFjY2Vzc2VkXG4gICAqIHdpdGggYSBndWFyZCBsaWtlOlxuICAgKlxuICAgKiBgYGB0c1xuICAgKiAvLyBFbmFibGUgZm9yIGFsbCBSZWFjdGl2ZUVsZW1lbnQgc3ViY2xhc3Nlc1xuICAgKiBSZWFjdGl2ZUVsZW1lbnQuZW5hYmxlV2FybmluZz8uKCdtaWdyYXRpb24nKTtcbiAgICpcbiAgICogLy8gRW5hYmxlIGZvciBvbmx5IE15RWxlbWVudCBhbmQgc3ViY2xhc3Nlc1xuICAgKiBNeUVsZW1lbnQuZW5hYmxlV2FybmluZz8uKCdtaWdyYXRpb24nKTtcbiAgICogYGBgXG4gICAqXG4gICAqIEBub2NvbGxhcHNlXG4gICAqIEBjYXRlZ29yeSBkZXYtbW9kZVxuICAgKi9cbiAgc3RhdGljIGVuYWJsZVdhcm5pbmc/OiAod2FybmluZ0tpbmQ6IFdhcm5pbmdLaW5kKSA9PiB2b2lkO1xuXG4gIC8qKlxuICAgKiBEaXNhYmxlIHRoZSBnaXZlbiB3YXJuaW5nIGNhdGVnb3J5IGZvciB0aGlzIGNsYXNzLlxuICAgKlxuICAgKiBUaGlzIG1ldGhvZCBvbmx5IGV4aXN0cyBpbiBkZXZlbG9wbWVudCBidWlsZHMsIHNvIGl0IHNob3VsZCBiZSBhY2Nlc3NlZFxuICAgKiB3aXRoIGEgZ3VhcmQgbGlrZTpcbiAgICpcbiAgICogYGBgdHNcbiAgICogLy8gRGlzYWJsZSBmb3IgYWxsIFJlYWN0aXZlRWxlbWVudCBzdWJjbGFzc2VzXG4gICAqIFJlYWN0aXZlRWxlbWVudC5kaXNhYmxlV2FybmluZz8uKCdtaWdyYXRpb24nKTtcbiAgICpcbiAgICogLy8gRGlzYWJsZSBmb3Igb25seSBNeUVsZW1lbnQgYW5kIHN1YmNsYXNzZXNcbiAgICogTXlFbGVtZW50LmRpc2FibGVXYXJuaW5nPy4oJ21pZ3JhdGlvbicpO1xuICAgKiBgYGBcbiAgICpcbiAgICogQG5vY29sbGFwc2VcbiAgICogQGNhdGVnb3J5IGRldi1tb2RlXG4gICAqL1xuICBzdGF0aWMgZGlzYWJsZVdhcm5pbmc/OiAod2FybmluZ0tpbmQ6IFdhcm5pbmdLaW5kKSA9PiB2b2lkO1xuXG4gIC8qKlxuICAgKiBBZGRzIGFuIGluaXRpYWxpemVyIGZ1bmN0aW9uIHRvIHRoZSBjbGFzcyB0aGF0IGlzIGNhbGxlZCBkdXJpbmcgaW5zdGFuY2VcbiAgICogY29uc3RydWN0aW9uLlxuICAgKlxuICAgKiBUaGlzIGlzIHVzZWZ1bCBmb3IgY29kZSB0aGF0IHJ1bnMgYWdhaW5zdCBhIGBSZWFjdGl2ZUVsZW1lbnRgXG4gICAqIHN1YmNsYXNzLCBzdWNoIGFzIGEgZGVjb3JhdG9yLCB0aGF0IG5lZWRzIHRvIGRvIHdvcmsgZm9yIGVhY2hcbiAgICogaW5zdGFuY2UsIHN1Y2ggYXMgc2V0dGluZyB1cCBhIGBSZWFjdGl2ZUNvbnRyb2xsZXJgLlxuICAgKlxuICAgKiBgYGB0c1xuICAgKiBjb25zdCBteURlY29yYXRvciA9ICh0YXJnZXQ6IHR5cGVvZiBSZWFjdGl2ZUVsZW1lbnQsIGtleTogc3RyaW5nKSA9PiB7XG4gICAqICAgdGFyZ2V0LmFkZEluaXRpYWxpemVyKChpbnN0YW5jZTogUmVhY3RpdmVFbGVtZW50KSA9PiB7XG4gICAqICAgICAvLyBUaGlzIGlzIHJ1biBkdXJpbmcgY29uc3RydWN0aW9uIG9mIHRoZSBlbGVtZW50XG4gICAqICAgICBuZXcgTXlDb250cm9sbGVyKGluc3RhbmNlKTtcbiAgICogICB9KTtcbiAgICogfVxuICAgKiBgYGBcbiAgICpcbiAgICogRGVjb3JhdGluZyBhIGZpZWxkIHdpbGwgdGhlbiBjYXVzZSBlYWNoIGluc3RhbmNlIHRvIHJ1biBhbiBpbml0aWFsaXplclxuICAgKiB0aGF0IGFkZHMgYSBjb250cm9sbGVyOlxuICAgKlxuICAgKiBgYGB0c1xuICAgKiBjbGFzcyBNeUVsZW1lbnQgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgICogICBAbXlEZWNvcmF0b3IgZm9vO1xuICAgKiB9XG4gICAqIGBgYFxuICAgKlxuICAgKiBJbml0aWFsaXplcnMgYXJlIHN0b3JlZCBwZXItY29uc3RydWN0b3IuIEFkZGluZyBhbiBpbml0aWFsaXplciB0byBhXG4gICAqIHN1YmNsYXNzIGRvZXMgbm90IGFkZCBpdCB0byBhIHN1cGVyY2xhc3MuIFNpbmNlIGluaXRpYWxpemVycyBhcmUgcnVuIGluXG4gICAqIGNvbnN0cnVjdG9ycywgaW5pdGlhbGl6ZXJzIHdpbGwgcnVuIGluIG9yZGVyIG9mIHRoZSBjbGFzcyBoaWVyYXJjaHksXG4gICAqIHN0YXJ0aW5nIHdpdGggc3VwZXJjbGFzc2VzIGFuZCBwcm9ncmVzc2luZyB0byB0aGUgaW5zdGFuY2UncyBjbGFzcy5cbiAgICpcbiAgICogQG5vY29sbGFwc2VcbiAgICovXG4gIHN0YXRpYyBhZGRJbml0aWFsaXplcihpbml0aWFsaXplcjogSW5pdGlhbGl6ZXIpIHtcbiAgICB0aGlzLl9fcHJlcGFyZSgpO1xuICAgICh0aGlzLl9pbml0aWFsaXplcnMgPz89IFtdKS5wdXNoKGluaXRpYWxpemVyKTtcbiAgfVxuXG4gIHN0YXRpYyBfaW5pdGlhbGl6ZXJzPzogSW5pdGlhbGl6ZXJbXTtcblxuICAvKlxuICAgKiBEdWUgdG8gY2xvc3VyZSBjb21waWxlciBFUzYgY29tcGlsYXRpb24gYnVncywgQG5vY29sbGFwc2UgaXMgcmVxdWlyZWQgb25cbiAgICogYWxsIHN0YXRpYyBtZXRob2RzIGFuZCBwcm9wZXJ0aWVzIHdpdGggaW5pdGlhbGl6ZXJzLiAgUmVmZXJlbmNlOlxuICAgKiAtIGh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvY2xvc3VyZS1jb21waWxlci9pc3N1ZXMvMTc3NlxuICAgKi9cblxuICAvKipcbiAgICogTWFwcyBhdHRyaWJ1dGUgbmFtZXMgdG8gcHJvcGVydGllczsgZm9yIGV4YW1wbGUgYGZvb2JhcmAgYXR0cmlidXRlIHRvXG4gICAqIGBmb29CYXJgIHByb3BlcnR5LiBDcmVhdGVkIGxhemlseSBvbiB1c2VyIHN1YmNsYXNzZXMgd2hlbiBmaW5hbGl6aW5nIHRoZVxuICAgKiBjbGFzcy5cbiAgICogQG5vY29sbGFwc2VcbiAgICovXG4gIHByaXZhdGUgc3RhdGljIF9fYXR0cmlidXRlVG9Qcm9wZXJ0eU1hcDogQXR0cmlidXRlTWFwO1xuXG4gIC8qKlxuICAgKiBNYXJrcyBjbGFzcyBhcyBoYXZpbmcgYmVlbiBmaW5hbGl6ZWQsIHdoaWNoIGluY2x1ZGVzIGNyZWF0aW5nIHByb3BlcnRpZXNcbiAgICogZnJvbSBgc3RhdGljIHByb3BlcnRpZXNgLCBidXQgZG9lcyAqbm90KiBpbmNsdWRlIGFsbCBwcm9wZXJ0aWVzIGNyZWF0ZWRcbiAgICogZnJvbSBkZWNvcmF0b3JzLlxuICAgKiBAbm9jb2xsYXBzZVxuICAgKi9cbiAgcHJvdGVjdGVkIHN0YXRpYyBmaW5hbGl6ZWQ6IHRydWUgfCB1bmRlZmluZWQ7XG5cbiAgLyoqXG4gICAqIE1lbW9pemVkIGxpc3Qgb2YgYWxsIGVsZW1lbnQgcHJvcGVydGllcywgaW5jbHVkaW5nIGFueSBzdXBlcmNsYXNzXG4gICAqIHByb3BlcnRpZXMuIENyZWF0ZWQgbGF6aWx5IG9uIHVzZXIgc3ViY2xhc3NlcyB3aGVuIGZpbmFsaXppbmcgdGhlIGNsYXNzLlxuICAgKlxuICAgKiBAbm9jb2xsYXBzZVxuICAgKiBAY2F0ZWdvcnkgcHJvcGVydGllc1xuICAgKi9cbiAgc3RhdGljIGVsZW1lbnRQcm9wZXJ0aWVzOiBQcm9wZXJ0eURlY2xhcmF0aW9uTWFwO1xuXG4gIC8qKlxuICAgKiBVc2VyLXN1cHBsaWVkIG9iamVjdCB0aGF0IG1hcHMgcHJvcGVydHkgbmFtZXMgdG8gYFByb3BlcnR5RGVjbGFyYXRpb25gXG4gICAqIG9iamVjdHMgY29udGFpbmluZyBvcHRpb25zIGZvciBjb25maWd1cmluZyByZWFjdGl2ZSBwcm9wZXJ0aWVzLiBXaGVuXG4gICAqIGEgcmVhY3RpdmUgcHJvcGVydHkgaXMgc2V0IHRoZSBlbGVtZW50IHdpbGwgdXBkYXRlIGFuZCByZW5kZXIuXG4gICAqXG4gICAqIEJ5IGRlZmF1bHQgcHJvcGVydGllcyBhcmUgcHVibGljIGZpZWxkcywgYW5kIGFzIHN1Y2gsIHRoZXkgc2hvdWxkIGJlXG4gICAqIGNvbnNpZGVyZWQgYXMgcHJpbWFyaWx5IHNldHRhYmxlIGJ5IGVsZW1lbnQgdXNlcnMsIGVpdGhlciB2aWEgYXR0cmlidXRlIG9yXG4gICAqIHRoZSBwcm9wZXJ0eSBpdHNlbGYuXG4gICAqXG4gICAqIEdlbmVyYWxseSwgcHJvcGVydGllcyB0aGF0IGFyZSBjaGFuZ2VkIGJ5IHRoZSBlbGVtZW50IHNob3VsZCBiZSBwcml2YXRlIG9yXG4gICAqIHByb3RlY3RlZCBmaWVsZHMgYW5kIHNob3VsZCB1c2UgdGhlIGBzdGF0ZTogdHJ1ZWAgb3B0aW9uLiBQcm9wZXJ0aWVzXG4gICAqIG1hcmtlZCBhcyBgc3RhdGVgIGRvIG5vdCByZWZsZWN0IGZyb20gdGhlIGNvcnJlc3BvbmRpbmcgYXR0cmlidXRlXG4gICAqXG4gICAqIEhvd2V2ZXIsIHNvbWV0aW1lcyBlbGVtZW50IGNvZGUgZG9lcyBuZWVkIHRvIHNldCBhIHB1YmxpYyBwcm9wZXJ0eS4gVGhpc1xuICAgKiBzaG91bGQgdHlwaWNhbGx5IG9ubHkgYmUgZG9uZSBpbiByZXNwb25zZSB0byB1c2VyIGludGVyYWN0aW9uLCBhbmQgYW4gZXZlbnRcbiAgICogc2hvdWxkIGJlIGZpcmVkIGluZm9ybWluZyB0aGUgdXNlcjsgZm9yIGV4YW1wbGUsIGEgY2hlY2tib3ggc2V0cyBpdHNcbiAgICogYGNoZWNrZWRgIHByb3BlcnR5IHdoZW4gY2xpY2tlZCBhbmQgZmlyZXMgYSBgY2hhbmdlZGAgZXZlbnQuIE11dGF0aW5nXG4gICAqIHB1YmxpYyBwcm9wZXJ0aWVzIHNob3VsZCB0eXBpY2FsbHkgbm90IGJlIGRvbmUgZm9yIG5vbi1wcmltaXRpdmUgKG9iamVjdCBvclxuICAgKiBhcnJheSkgcHJvcGVydGllcy4gSW4gb3RoZXIgY2FzZXMgd2hlbiBhbiBlbGVtZW50IG5lZWRzIHRvIG1hbmFnZSBzdGF0ZSwgYVxuICAgKiBwcml2YXRlIHByb3BlcnR5IHNldCB3aXRoIHRoZSBgc3RhdGU6IHRydWVgIG9wdGlvbiBzaG91bGQgYmUgdXNlZC4gV2hlblxuICAgKiBuZWVkZWQsIHN0YXRlIHByb3BlcnRpZXMgY2FuIGJlIGluaXRpYWxpemVkIHZpYSBwdWJsaWMgcHJvcGVydGllcyB0b1xuICAgKiBmYWNpbGl0YXRlIGNvbXBsZXggaW50ZXJhY3Rpb25zLlxuICAgKiBAbm9jb2xsYXBzZVxuICAgKiBAY2F0ZWdvcnkgcHJvcGVydGllc1xuICAgKi9cbiAgc3RhdGljIHByb3BlcnRpZXM6IFByb3BlcnR5RGVjbGFyYXRpb25zO1xuXG4gIC8qKlxuICAgKiBNZW1vaXplZCBsaXN0IG9mIGFsbCBlbGVtZW50IHN0eWxlcy5cbiAgICogQ3JlYXRlZCBsYXppbHkgb24gdXNlciBzdWJjbGFzc2VzIHdoZW4gZmluYWxpemluZyB0aGUgY2xhc3MuXG4gICAqIEBub2NvbGxhcHNlXG4gICAqIEBjYXRlZ29yeSBzdHlsZXNcbiAgICovXG4gIHN0YXRpYyBlbGVtZW50U3R5bGVzOiBBcnJheTxDU1NSZXN1bHRPck5hdGl2ZT4gPSBbXTtcblxuICAvKipcbiAgICogQXJyYXkgb2Ygc3R5bGVzIHRvIGFwcGx5IHRvIHRoZSBlbGVtZW50LiBUaGUgc3R5bGVzIHNob3VsZCBiZSBkZWZpbmVkXG4gICAqIHVzaW5nIHRoZSB7QGxpbmtjb2RlIGNzc30gdGFnIGZ1bmN0aW9uLCB2aWEgY29uc3RydWN0aWJsZSBzdHlsZXNoZWV0cywgb3JcbiAgICogaW1wb3J0ZWQgZnJvbSBuYXRpdmUgQ1NTIG1vZHVsZSBzY3JpcHRzLlxuICAgKlxuICAgKiBOb3RlIG9uIENvbnRlbnQgU2VjdXJpdHkgUG9saWN5OlxuICAgKlxuICAgKiBFbGVtZW50IHN0eWxlcyBhcmUgaW1wbGVtZW50ZWQgd2l0aCBgPHN0eWxlPmAgdGFncyB3aGVuIHRoZSBicm93c2VyIGRvZXNuJ3RcbiAgICogc3VwcG9ydCBhZG9wdGVkIFN0eWxlU2hlZXRzLiBUbyB1c2Ugc3VjaCBgPHN0eWxlPmAgdGFncyB3aXRoIHRoZSBzdHlsZS1zcmNcbiAgICogQ1NQIGRpcmVjdGl2ZSwgdGhlIHN0eWxlLXNyYyB2YWx1ZSBtdXN0IGVpdGhlciBpbmNsdWRlICd1bnNhZmUtaW5saW5lJyBvclxuICAgKiBgbm9uY2UtPGJhc2U2NC12YWx1ZT5gIHdpdGggYDxiYXNlNjQtdmFsdWU+YCByZXBsYWNlZCBiZSBhIHNlcnZlci1nZW5lcmF0ZWRcbiAgICogbm9uY2UuXG4gICAqXG4gICAqIFRvIHByb3ZpZGUgYSBub25jZSB0byB1c2Ugb24gZ2VuZXJhdGVkIGA8c3R5bGU+YCBlbGVtZW50cywgc2V0XG4gICAqIGB3aW5kb3cubGl0Tm9uY2VgIHRvIGEgc2VydmVyLWdlbmVyYXRlZCBub25jZSBpbiB5b3VyIHBhZ2UncyBIVE1MLCBiZWZvcmVcbiAgICogbG9hZGluZyBhcHBsaWNhdGlvbiBjb2RlOlxuICAgKlxuICAgKiBgYGBodG1sXG4gICAqIDxzY3JpcHQ+XG4gICAqICAgLy8gR2VuZXJhdGVkIGFuZCB1bmlxdWUgcGVyIHJlcXVlc3Q6XG4gICAqICAgd2luZG93LmxpdE5vbmNlID0gJ2ExYjJjM2Q0JztcbiAgICogPC9zY3JpcHQ+XG4gICAqIGBgYFxuICAgKiBAbm9jb2xsYXBzZVxuICAgKiBAY2F0ZWdvcnkgc3R5bGVzXG4gICAqL1xuICBzdGF0aWMgc3R5bGVzPzogQ1NTUmVzdWx0R3JvdXA7XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBsaXN0IG9mIGF0dHJpYnV0ZXMgY29ycmVzcG9uZGluZyB0byB0aGUgcmVnaXN0ZXJlZCBwcm9wZXJ0aWVzLlxuICAgKiBAbm9jb2xsYXBzZVxuICAgKiBAY2F0ZWdvcnkgYXR0cmlidXRlc1xuICAgKi9cbiAgc3RhdGljIGdldCBvYnNlcnZlZEF0dHJpYnV0ZXMoKSB7XG4gICAgLy8gRW5zdXJlIHdlJ3ZlIGNyZWF0ZWQgYWxsIHByb3BlcnRpZXNcbiAgICB0aGlzLmZpbmFsaXplKCk7XG4gICAgLy8gdGhpcy5fX2F0dHJpYnV0ZVRvUHJvcGVydHlNYXAgaXMgb25seSB1bmRlZmluZWQgYWZ0ZXIgZmluYWxpemUoKSBpblxuICAgIC8vIFJlYWN0aXZlRWxlbWVudCBpdHNlbGYuIFJlYWN0aXZlRWxlbWVudC5vYnNlcnZlZEF0dHJpYnV0ZXMgaXMgb25seVxuICAgIC8vIGFjY2Vzc2VkIHdpdGggUmVhY3RpdmVFbGVtZW50IGFzIHRoZSByZWNlaXZlciB3aGVuIGEgc3ViY2xhc3Mgb3IgbWl4aW5cbiAgICAvLyBjYWxscyBzdXBlci5vYnNlcnZlZEF0dHJpYnV0ZXNcbiAgICByZXR1cm4gKFxuICAgICAgdGhpcy5fX2F0dHJpYnV0ZVRvUHJvcGVydHlNYXAgJiYgWy4uLnRoaXMuX19hdHRyaWJ1dGVUb1Byb3BlcnR5TWFwLmtleXMoKV1cbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBfX2luc3RhbmNlUHJvcGVydGllcz86IFByb3BlcnR5VmFsdWVzID0gdW5kZWZpbmVkO1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgcHJvcGVydHkgYWNjZXNzb3Igb24gdGhlIGVsZW1lbnQgcHJvdG90eXBlIGlmIG9uZSBkb2VzIG5vdCBleGlzdFxuICAgKiBhbmQgc3RvcmVzIGEge0BsaW5rY29kZSBQcm9wZXJ0eURlY2xhcmF0aW9ufSBmb3IgdGhlIHByb3BlcnR5IHdpdGggdGhlXG4gICAqIGdpdmVuIG9wdGlvbnMuIFRoZSBwcm9wZXJ0eSBzZXR0ZXIgY2FsbHMgdGhlIHByb3BlcnR5J3MgYGhhc0NoYW5nZWRgXG4gICAqIHByb3BlcnR5IG9wdGlvbiBvciB1c2VzIGEgc3RyaWN0IGlkZW50aXR5IGNoZWNrIHRvIGRldGVybWluZSB3aGV0aGVyIG9yIG5vdFxuICAgKiB0byByZXF1ZXN0IGFuIHVwZGF0ZS5cbiAgICpcbiAgICogVGhpcyBtZXRob2QgbWF5IGJlIG92ZXJyaWRkZW4gdG8gY3VzdG9taXplIHByb3BlcnRpZXM7IGhvd2V2ZXIsXG4gICAqIHdoZW4gZG9pbmcgc28sIGl0J3MgaW1wb3J0YW50IHRvIGNhbGwgYHN1cGVyLmNyZWF0ZVByb3BlcnR5YCB0byBlbnN1cmVcbiAgICogdGhlIHByb3BlcnR5IGlzIHNldHVwIGNvcnJlY3RseS4gVGhpcyBtZXRob2QgY2FsbHNcbiAgICogYGdldFByb3BlcnR5RGVzY3JpcHRvcmAgaW50ZXJuYWxseSB0byBnZXQgYSBkZXNjcmlwdG9yIHRvIGluc3RhbGwuXG4gICAqIFRvIGN1c3RvbWl6ZSB3aGF0IHByb3BlcnRpZXMgZG8gd2hlbiB0aGV5IGFyZSBnZXQgb3Igc2V0LCBvdmVycmlkZVxuICAgKiBgZ2V0UHJvcGVydHlEZXNjcmlwdG9yYC4gVG8gY3VzdG9taXplIHRoZSBvcHRpb25zIGZvciBhIHByb3BlcnR5LFxuICAgKiBpbXBsZW1lbnQgYGNyZWF0ZVByb3BlcnR5YCBsaWtlIHRoaXM6XG4gICAqXG4gICAqIGBgYHRzXG4gICAqIHN0YXRpYyBjcmVhdGVQcm9wZXJ0eShuYW1lLCBvcHRpb25zKSB7XG4gICAqICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24ob3B0aW9ucywge215T3B0aW9uOiB0cnVlfSk7XG4gICAqICAgc3VwZXIuY3JlYXRlUHJvcGVydHkobmFtZSwgb3B0aW9ucyk7XG4gICAqIH1cbiAgICogYGBgXG4gICAqXG4gICAqIEBub2NvbGxhcHNlXG4gICAqIEBjYXRlZ29yeSBwcm9wZXJ0aWVzXG4gICAqL1xuICBzdGF0aWMgY3JlYXRlUHJvcGVydHkoXG4gICAgbmFtZTogUHJvcGVydHlLZXksXG4gICAgb3B0aW9uczogUHJvcGVydHlEZWNsYXJhdGlvbiA9IGRlZmF1bHRQcm9wZXJ0eURlY2xhcmF0aW9uXG4gICkge1xuICAgIC8vIElmIHRoaXMgaXMgYSBzdGF0ZSBwcm9wZXJ0eSwgZm9yY2UgdGhlIGF0dHJpYnV0ZSB0byBmYWxzZS5cbiAgICBpZiAob3B0aW9ucy5zdGF0ZSkge1xuICAgICAgKG9wdGlvbnMgYXMgTXV0YWJsZTxQcm9wZXJ0eURlY2xhcmF0aW9uLCAnYXR0cmlidXRlJz4pLmF0dHJpYnV0ZSA9IGZhbHNlO1xuICAgIH1cbiAgICB0aGlzLl9fcHJlcGFyZSgpO1xuICAgIC8vIFdoZXRoZXIgdGhpcyBwcm9wZXJ0eSBpcyB3cmFwcGluZyBhY2Nlc3NvcnMuXG4gICAgLy8gSGVscHMgY29udHJvbCB0aGUgaW5pdGlhbCB2YWx1ZSBjaGFuZ2UgYW5kIHJlZmxlY3Rpb24gbG9naWMuXG4gICAgaWYgKHRoaXMucHJvdG90eXBlLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICBvcHRpb25zID0gT2JqZWN0LmNyZWF0ZShvcHRpb25zKTtcbiAgICAgIG9wdGlvbnMud3JhcHBlZCA9IHRydWU7XG4gICAgfVxuICAgIHRoaXMuZWxlbWVudFByb3BlcnRpZXMuc2V0KG5hbWUsIG9wdGlvbnMpO1xuICAgIGlmICghb3B0aW9ucy5ub0FjY2Vzc29yKSB7XG4gICAgICBjb25zdCBrZXkgPSBERVZfTU9ERVxuICAgICAgICA/IC8vIFVzZSBTeW1ib2wuZm9yIGluIGRldiBtb2RlIHRvIG1ha2UgaXQgZWFzaWVyIHRvIG1haW50YWluIHN0YXRlXG4gICAgICAgICAgLy8gd2hlbiBkb2luZyBITVIuXG4gICAgICAgICAgU3ltYm9sLmZvcihgJHtTdHJpbmcobmFtZSl9IChAcHJvcGVydHkoKSBjYWNoZSlgKVxuICAgICAgICA6IFN5bWJvbCgpO1xuICAgICAgY29uc3QgZGVzY3JpcHRvciA9IHRoaXMuZ2V0UHJvcGVydHlEZXNjcmlwdG9yKG5hbWUsIGtleSwgb3B0aW9ucyk7XG4gICAgICBpZiAoZGVzY3JpcHRvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGRlZmluZVByb3BlcnR5KHRoaXMucHJvdG90eXBlLCBuYW1lLCBkZXNjcmlwdG9yKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhIHByb3BlcnR5IGRlc2NyaXB0b3IgdG8gYmUgZGVmaW5lZCBvbiB0aGUgZ2l2ZW4gbmFtZWQgcHJvcGVydHkuXG4gICAqIElmIG5vIGRlc2NyaXB0b3IgaXMgcmV0dXJuZWQsIHRoZSBwcm9wZXJ0eSB3aWxsIG5vdCBiZWNvbWUgYW4gYWNjZXNzb3IuXG4gICAqIEZvciBleGFtcGxlLFxuICAgKlxuICAgKiBgYGB0c1xuICAgKiBjbGFzcyBNeUVsZW1lbnQgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgICogICBzdGF0aWMgZ2V0UHJvcGVydHlEZXNjcmlwdG9yKG5hbWUsIGtleSwgb3B0aW9ucykge1xuICAgKiAgICAgY29uc3QgZGVmYXVsdERlc2NyaXB0b3IgPVxuICAgKiAgICAgICAgIHN1cGVyLmdldFByb3BlcnR5RGVzY3JpcHRvcihuYW1lLCBrZXksIG9wdGlvbnMpO1xuICAgKiAgICAgY29uc3Qgc2V0dGVyID0gZGVmYXVsdERlc2NyaXB0b3Iuc2V0O1xuICAgKiAgICAgcmV0dXJuIHtcbiAgICogICAgICAgZ2V0OiBkZWZhdWx0RGVzY3JpcHRvci5nZXQsXG4gICAqICAgICAgIHNldCh2YWx1ZSkge1xuICAgKiAgICAgICAgIHNldHRlci5jYWxsKHRoaXMsIHZhbHVlKTtcbiAgICogICAgICAgICAvLyBjdXN0b20gYWN0aW9uLlxuICAgKiAgICAgICB9LFxuICAgKiAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAqICAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICogICAgIH1cbiAgICogICB9XG4gICAqIH1cbiAgICogYGBgXG4gICAqXG4gICAqIEBub2NvbGxhcHNlXG4gICAqIEBjYXRlZ29yeSBwcm9wZXJ0aWVzXG4gICAqL1xuICBwcm90ZWN0ZWQgc3RhdGljIGdldFByb3BlcnR5RGVzY3JpcHRvcihcbiAgICBuYW1lOiBQcm9wZXJ0eUtleSxcbiAgICBrZXk6IHN0cmluZyB8IHN5bWJvbCxcbiAgICBvcHRpb25zOiBQcm9wZXJ0eURlY2xhcmF0aW9uXG4gICk6IFByb3BlcnR5RGVzY3JpcHRvciB8IHVuZGVmaW5lZCB7XG4gICAgY29uc3Qge2dldCwgc2V0fSA9IGdldE93blByb3BlcnR5RGVzY3JpcHRvcih0aGlzLnByb3RvdHlwZSwgbmFtZSkgPz8ge1xuICAgICAgZ2V0KHRoaXM6IFJlYWN0aXZlRWxlbWVudCkge1xuICAgICAgICByZXR1cm4gdGhpc1trZXkgYXMga2V5b2YgdHlwZW9mIHRoaXNdO1xuICAgICAgfSxcbiAgICAgIHNldCh0aGlzOiBSZWFjdGl2ZUVsZW1lbnQsIHY6IHVua25vd24pIHtcbiAgICAgICAgKHRoaXMgYXMgdW5rbm93biBhcyBSZWNvcmQ8c3RyaW5nIHwgc3ltYm9sLCB1bmtub3duPilba2V5XSA9IHY7XG4gICAgICB9LFxuICAgIH07XG4gICAgaWYgKERFVl9NT0RFICYmIGdldCA9PSBudWxsKSB7XG4gICAgICBpZiAoJ3ZhbHVlJyBpbiAoZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRoaXMucHJvdG90eXBlLCBuYW1lKSA/PyB7fSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIGBGaWVsZCAke0pTT04uc3RyaW5naWZ5KFN0cmluZyhuYW1lKSl9IG9uIGAgK1xuICAgICAgICAgICAgYCR7dGhpcy5uYW1lfSB3YXMgZGVjbGFyZWQgYXMgYSByZWFjdGl2ZSBwcm9wZXJ0eSBgICtcbiAgICAgICAgICAgIGBidXQgaXQncyBhY3R1YWxseSBkZWNsYXJlZCBhcyBhIHZhbHVlIG9uIHRoZSBwcm90b3R5cGUuIGAgK1xuICAgICAgICAgICAgYFVzdWFsbHkgdGhpcyBpcyBkdWUgdG8gdXNpbmcgQHByb3BlcnR5IG9yIEBzdGF0ZSBvbiBhIG1ldGhvZC5gXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBpc3N1ZVdhcm5pbmcoXG4gICAgICAgICdyZWFjdGl2ZS1wcm9wZXJ0eS13aXRob3V0LWdldHRlcicsXG4gICAgICAgIGBGaWVsZCAke0pTT04uc3RyaW5naWZ5KFN0cmluZyhuYW1lKSl9IG9uIGAgK1xuICAgICAgICAgIGAke3RoaXMubmFtZX0gd2FzIGRlY2xhcmVkIGFzIGEgcmVhY3RpdmUgcHJvcGVydHkgYCArXG4gICAgICAgICAgYGJ1dCBpdCBkb2VzIG5vdCBoYXZlIGEgZ2V0dGVyLiBUaGlzIHdpbGwgYmUgYW4gZXJyb3IgaW4gYSBgICtcbiAgICAgICAgICBgZnV0dXJlIHZlcnNpb24gb2YgTGl0LmBcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBnZXQsXG4gICAgICBzZXQodGhpczogUmVhY3RpdmVFbGVtZW50LCB2YWx1ZTogdW5rbm93bikge1xuICAgICAgICBjb25zdCBvbGRWYWx1ZSA9IGdldD8uY2FsbCh0aGlzKTtcbiAgICAgICAgc2V0Py5jYWxsKHRoaXMsIHZhbHVlKTtcbiAgICAgICAgdGhpcy5yZXF1ZXN0VXBkYXRlKG5hbWUsIG9sZFZhbHVlLCBvcHRpb25zKTtcbiAgICAgIH0sXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgcHJvcGVydHkgb3B0aW9ucyBhc3NvY2lhdGVkIHdpdGggdGhlIGdpdmVuIHByb3BlcnR5LlxuICAgKiBUaGVzZSBvcHRpb25zIGFyZSBkZWZpbmVkIHdpdGggYSBgUHJvcGVydHlEZWNsYXJhdGlvbmAgdmlhIHRoZSBgcHJvcGVydGllc2BcbiAgICogb2JqZWN0IG9yIHRoZSBgQHByb3BlcnR5YCBkZWNvcmF0b3IgYW5kIGFyZSByZWdpc3RlcmVkIGluXG4gICAqIGBjcmVhdGVQcm9wZXJ0eSguLi4pYC5cbiAgICpcbiAgICogTm90ZSwgdGhpcyBtZXRob2Qgc2hvdWxkIGJlIGNvbnNpZGVyZWQgXCJmaW5hbFwiIGFuZCBub3Qgb3ZlcnJpZGRlbi4gVG9cbiAgICogY3VzdG9taXplIHRoZSBvcHRpb25zIGZvciBhIGdpdmVuIHByb3BlcnR5LCBvdmVycmlkZVxuICAgKiB7QGxpbmtjb2RlIGNyZWF0ZVByb3BlcnR5fS5cbiAgICpcbiAgICogQG5vY29sbGFwc2VcbiAgICogQGZpbmFsXG4gICAqIEBjYXRlZ29yeSBwcm9wZXJ0aWVzXG4gICAqL1xuICBzdGF0aWMgZ2V0UHJvcGVydHlPcHRpb25zKG5hbWU6IFByb3BlcnR5S2V5KSB7XG4gICAgcmV0dXJuIHRoaXMuZWxlbWVudFByb3BlcnRpZXMuZ2V0KG5hbWUpID8/IGRlZmF1bHRQcm9wZXJ0eURlY2xhcmF0aW9uO1xuICB9XG5cbiAgLy8gVGVtcG9yYXJ5LCB1bnRpbCBnb29nbGUzIGlzIG9uIFR5cGVTY3JpcHQgNS4yXG4gIGRlY2xhcmUgc3RhdGljIFtTeW1ib2wubWV0YWRhdGFdOiBvYmplY3QgJiBSZWNvcmQ8UHJvcGVydHlLZXksIHVua25vd24+O1xuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyBzdGF0aWMgb3duIHByb3BlcnRpZXMgb2YgdGhlIGNsYXNzIHVzZWQgaW4gYm9va2tlZXBpbmdcbiAgICogZm9yIGVsZW1lbnQgcHJvcGVydGllcywgaW5pdGlhbGl6ZXJzLCBldGMuXG4gICAqXG4gICAqIENhbiBiZSBjYWxsZWQgbXVsdGlwbGUgdGltZXMgYnkgY29kZSB0aGF0IG5lZWRzIHRvIGVuc3VyZSB0aGVzZVxuICAgKiBwcm9wZXJ0aWVzIGV4aXN0IGJlZm9yZSB1c2luZyB0aGVtLlxuICAgKlxuICAgKiBUaGlzIG1ldGhvZCBlbnN1cmVzIHRoZSBzdXBlcmNsYXNzIGlzIGZpbmFsaXplZCBzbyB0aGF0IGluaGVyaXRlZFxuICAgKiBwcm9wZXJ0eSBtZXRhZGF0YSBjYW4gYmUgY29waWVkIGRvd24uXG4gICAqIEBub2NvbGxhcHNlXG4gICAqL1xuICBwcml2YXRlIHN0YXRpYyBfX3ByZXBhcmUoKSB7XG4gICAgaWYgKFxuICAgICAgdGhpcy5oYXNPd25Qcm9wZXJ0eShKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KCdlbGVtZW50UHJvcGVydGllcycsIHRoaXMpKVxuICAgICkge1xuICAgICAgLy8gQWxyZWFkeSBwcmVwYXJlZFxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBGaW5hbGl6ZSBhbnkgc3VwZXJjbGFzc2VzXG4gICAgY29uc3Qgc3VwZXJDdG9yID0gZ2V0UHJvdG90eXBlT2YodGhpcykgYXMgdHlwZW9mIFJlYWN0aXZlRWxlbWVudDtcbiAgICBzdXBlckN0b3IuZmluYWxpemUoKTtcblxuICAgIC8vIENyZWF0ZSBvd24gc2V0IG9mIGluaXRpYWxpemVycyBmb3IgdGhpcyBjbGFzcyBpZiBhbnkgZXhpc3Qgb24gdGhlXG4gICAgLy8gc3VwZXJjbGFzcyBhbmQgY29weSB0aGVtIGRvd24uIE5vdGUsIGZvciBhIHNtYWxsIHBlcmYgYm9vc3QsIGF2b2lkXG4gICAgLy8gY3JlYXRpbmcgaW5pdGlhbGl6ZXJzIHVubGVzcyBuZWVkZWQuXG4gICAgaWYgKHN1cGVyQ3Rvci5faW5pdGlhbGl6ZXJzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuX2luaXRpYWxpemVycyA9IFsuLi5zdXBlckN0b3IuX2luaXRpYWxpemVyc107XG4gICAgfVxuICAgIC8vIEluaXRpYWxpemUgZWxlbWVudFByb3BlcnRpZXMgZnJvbSB0aGUgc3VwZXJjbGFzc1xuICAgIHRoaXMuZWxlbWVudFByb3BlcnRpZXMgPSBuZXcgTWFwKHN1cGVyQ3Rvci5lbGVtZW50UHJvcGVydGllcyk7XG4gIH1cblxuICAvKipcbiAgICogRmluaXNoZXMgc2V0dGluZyB1cCB0aGUgY2xhc3Mgc28gdGhhdCBpdCdzIHJlYWR5IHRvIGJlIHJlZ2lzdGVyZWRcbiAgICogYXMgYSBjdXN0b20gZWxlbWVudCBhbmQgaW5zdGFudGlhdGVkLlxuICAgKlxuICAgKiBUaGlzIG1ldGhvZCBpcyBjYWxsZWQgYnkgdGhlIFJlYWN0aXZlRWxlbWVudC5vYnNlcnZlZEF0dHJpYnV0ZXMgZ2V0dGVyLlxuICAgKiBJZiB5b3Ugb3ZlcnJpZGUgdGhlIG9ic2VydmVkQXR0cmlidXRlcyBnZXR0ZXIsIHlvdSBtdXN0IGVpdGhlciBjYWxsXG4gICAqIHN1cGVyLm9ic2VydmVkQXR0cmlidXRlcyB0byB0cmlnZ2VyIGZpbmFsaXphdGlvbiwgb3IgY2FsbCBmaW5hbGl6ZSgpXG4gICAqIHlvdXJzZWxmLlxuICAgKlxuICAgKiBAbm9jb2xsYXBzZVxuICAgKi9cbiAgcHJvdGVjdGVkIHN0YXRpYyBmaW5hbGl6ZSgpIHtcbiAgICBpZiAodGhpcy5oYXNPd25Qcm9wZXJ0eShKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KCdmaW5hbGl6ZWQnLCB0aGlzKSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5maW5hbGl6ZWQgPSB0cnVlO1xuICAgIHRoaXMuX19wcmVwYXJlKCk7XG5cbiAgICAvLyBDcmVhdGUgcHJvcGVydGllcyBmcm9tIHRoZSBzdGF0aWMgcHJvcGVydGllcyBibG9jazpcbiAgICBpZiAodGhpcy5oYXNPd25Qcm9wZXJ0eShKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KCdwcm9wZXJ0aWVzJywgdGhpcykpKSB7XG4gICAgICBjb25zdCBwcm9wcyA9IHRoaXMucHJvcGVydGllcztcbiAgICAgIGNvbnN0IHByb3BLZXlzID0gW1xuICAgICAgICAuLi5nZXRPd25Qcm9wZXJ0eU5hbWVzKHByb3BzKSxcbiAgICAgICAgLi4uZ2V0T3duUHJvcGVydHlTeW1ib2xzKHByb3BzKSxcbiAgICAgIF0gYXMgQXJyYXk8a2V5b2YgdHlwZW9mIHByb3BzPjtcbiAgICAgIGZvciAoY29uc3QgcCBvZiBwcm9wS2V5cykge1xuICAgICAgICB0aGlzLmNyZWF0ZVByb3BlcnR5KHAsIHByb3BzW3BdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBDcmVhdGUgcHJvcGVydGllcyBmcm9tIHN0YW5kYXJkIGRlY29yYXRvciBtZXRhZGF0YTpcbiAgICBjb25zdCBtZXRhZGF0YSA9IHRoaXNbU3ltYm9sLm1ldGFkYXRhXTtcbiAgICBpZiAobWV0YWRhdGEgIT09IG51bGwpIHtcbiAgICAgIGNvbnN0IHByb3BlcnRpZXMgPSBsaXRQcm9wZXJ0eU1ldGFkYXRhLmdldChtZXRhZGF0YSk7XG4gICAgICBpZiAocHJvcGVydGllcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGZvciAoY29uc3QgW3AsIG9wdGlvbnNdIG9mIHByb3BlcnRpZXMpIHtcbiAgICAgICAgICB0aGlzLmVsZW1lbnRQcm9wZXJ0aWVzLnNldChwLCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIENyZWF0ZSB0aGUgYXR0cmlidXRlLXRvLXByb3BlcnR5IG1hcFxuICAgIHRoaXMuX19hdHRyaWJ1dGVUb1Byb3BlcnR5TWFwID0gbmV3IE1hcCgpO1xuICAgIGZvciAoY29uc3QgW3AsIG9wdGlvbnNdIG9mIHRoaXMuZWxlbWVudFByb3BlcnRpZXMpIHtcbiAgICAgIGNvbnN0IGF0dHIgPSB0aGlzLl9fYXR0cmlidXRlTmFtZUZvclByb3BlcnR5KHAsIG9wdGlvbnMpO1xuICAgICAgaWYgKGF0dHIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLl9fYXR0cmlidXRlVG9Qcm9wZXJ0eU1hcC5zZXQoYXR0ciwgcCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5lbGVtZW50U3R5bGVzID0gdGhpcy5maW5hbGl6ZVN0eWxlcyh0aGlzLnN0eWxlcyk7XG5cbiAgICBpZiAoREVWX01PREUpIHtcbiAgICAgIGlmICh0aGlzLmhhc093blByb3BlcnR5KCdjcmVhdGVQcm9wZXJ0eScpKSB7XG4gICAgICAgIGlzc3VlV2FybmluZyhcbiAgICAgICAgICAnbm8tb3ZlcnJpZGUtY3JlYXRlLXByb3BlcnR5JyxcbiAgICAgICAgICAnT3ZlcnJpZGluZyBSZWFjdGl2ZUVsZW1lbnQuY3JlYXRlUHJvcGVydHkoKSBpcyBkZXByZWNhdGVkLiAnICtcbiAgICAgICAgICAgICdUaGUgb3ZlcnJpZGUgd2lsbCBub3QgYmUgY2FsbGVkIHdpdGggc3RhbmRhcmQgZGVjb3JhdG9ycydcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmhhc093blByb3BlcnR5KCdnZXRQcm9wZXJ0eURlc2NyaXB0b3InKSkge1xuICAgICAgICBpc3N1ZVdhcm5pbmcoXG4gICAgICAgICAgJ25vLW92ZXJyaWRlLWdldC1wcm9wZXJ0eS1kZXNjcmlwdG9yJyxcbiAgICAgICAgICAnT3ZlcnJpZGluZyBSZWFjdGl2ZUVsZW1lbnQuZ2V0UHJvcGVydHlEZXNjcmlwdG9yKCkgaXMgZGVwcmVjYXRlZC4gJyArXG4gICAgICAgICAgICAnVGhlIG92ZXJyaWRlIHdpbGwgbm90IGJlIGNhbGxlZCB3aXRoIHN0YW5kYXJkIGRlY29yYXRvcnMnXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIE9wdGlvbnMgdXNlZCB3aGVuIGNhbGxpbmcgYGF0dGFjaFNoYWRvd2AuIFNldCB0aGlzIHByb3BlcnR5IHRvIGN1c3RvbWl6ZVxuICAgKiB0aGUgb3B0aW9ucyBmb3IgdGhlIHNoYWRvd1Jvb3Q7IGZvciBleGFtcGxlLCB0byBjcmVhdGUgYSBjbG9zZWRcbiAgICogc2hhZG93Um9vdDogYHttb2RlOiAnY2xvc2VkJ31gLlxuICAgKlxuICAgKiBOb3RlLCB0aGVzZSBvcHRpb25zIGFyZSB1c2VkIGluIGBjcmVhdGVSZW5kZXJSb290YC4gSWYgdGhpcyBtZXRob2RcbiAgICogaXMgY3VzdG9taXplZCwgb3B0aW9ucyBzaG91bGQgYmUgcmVzcGVjdGVkIGlmIHBvc3NpYmxlLlxuICAgKiBAbm9jb2xsYXBzZVxuICAgKiBAY2F0ZWdvcnkgcmVuZGVyaW5nXG4gICAqL1xuICBzdGF0aWMgc2hhZG93Um9vdE9wdGlvbnM6IFNoYWRvd1Jvb3RJbml0ID0ge21vZGU6ICdvcGVuJ307XG5cbiAgLyoqXG4gICAqIFRha2VzIHRoZSBzdHlsZXMgdGhlIHVzZXIgc3VwcGxpZWQgdmlhIHRoZSBgc3RhdGljIHN0eWxlc2AgcHJvcGVydHkgYW5kXG4gICAqIHJldHVybnMgdGhlIGFycmF5IG9mIHN0eWxlcyB0byBhcHBseSB0byB0aGUgZWxlbWVudC5cbiAgICogT3ZlcnJpZGUgdGhpcyBtZXRob2QgdG8gaW50ZWdyYXRlIGludG8gYSBzdHlsZSBtYW5hZ2VtZW50IHN5c3RlbS5cbiAgICpcbiAgICogU3R5bGVzIGFyZSBkZWR1cGxpY2F0ZWQgcHJlc2VydmluZyB0aGUgX2xhc3RfIGluc3RhbmNlIGluIHRoZSBsaXN0LiBUaGlzXG4gICAqIGlzIGEgcGVyZm9ybWFuY2Ugb3B0aW1pemF0aW9uIHRvIGF2b2lkIGR1cGxpY2F0ZWQgc3R5bGVzIHRoYXQgY2FuIG9jY3VyXG4gICAqIGVzcGVjaWFsbHkgd2hlbiBjb21wb3NpbmcgdmlhIHN1YmNsYXNzaW5nLiBUaGUgbGFzdCBpdGVtIGlzIGtlcHQgdG8gdHJ5XG4gICAqIHRvIHByZXNlcnZlIHRoZSBjYXNjYWRlIG9yZGVyIHdpdGggdGhlIGFzc3VtcHRpb24gdGhhdCBpdCdzIG1vc3QgaW1wb3J0YW50XG4gICAqIHRoYXQgbGFzdCBhZGRlZCBzdHlsZXMgb3ZlcnJpZGUgcHJldmlvdXMgc3R5bGVzLlxuICAgKlxuICAgKiBAbm9jb2xsYXBzZVxuICAgKiBAY2F0ZWdvcnkgc3R5bGVzXG4gICAqL1xuICBwcm90ZWN0ZWQgc3RhdGljIGZpbmFsaXplU3R5bGVzKFxuICAgIHN0eWxlcz86IENTU1Jlc3VsdEdyb3VwXG4gICk6IEFycmF5PENTU1Jlc3VsdE9yTmF0aXZlPiB7XG4gICAgY29uc3QgZWxlbWVudFN0eWxlcyA9IFtdO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHN0eWxlcykpIHtcbiAgICAgIC8vIERlZHVwZSB0aGUgZmxhdHRlbmVkIGFycmF5IGluIHJldmVyc2Ugb3JkZXIgdG8gcHJlc2VydmUgdGhlIGxhc3QgaXRlbXMuXG4gICAgICAvLyBDYXN0aW5nIHRvIEFycmF5PHVua25vd24+IHdvcmtzIGFyb3VuZCBUUyBlcnJvciB0aGF0XG4gICAgICAvLyBhcHBlYXJzIHRvIGNvbWUgZnJvbSB0cnlpbmcgdG8gZmxhdHRlbiBhIHR5cGUgQ1NTUmVzdWx0QXJyYXkuXG4gICAgICBjb25zdCBzZXQgPSBuZXcgU2V0KChzdHlsZXMgYXMgQXJyYXk8dW5rbm93bj4pLmZsYXQoSW5maW5pdHkpLnJldmVyc2UoKSk7XG4gICAgICAvLyBUaGVuIHByZXNlcnZlIG9yaWdpbmFsIG9yZGVyIGJ5IGFkZGluZyB0aGUgc2V0IGl0ZW1zIGluIHJldmVyc2Ugb3JkZXIuXG4gICAgICBmb3IgKGNvbnN0IHMgb2Ygc2V0KSB7XG4gICAgICAgIGVsZW1lbnRTdHlsZXMudW5zaGlmdChnZXRDb21wYXRpYmxlU3R5bGUocyBhcyBDU1NSZXN1bHRPck5hdGl2ZSkpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoc3R5bGVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGVsZW1lbnRTdHlsZXMucHVzaChnZXRDb21wYXRpYmxlU3R5bGUoc3R5bGVzKSk7XG4gICAgfVxuICAgIHJldHVybiBlbGVtZW50U3R5bGVzO1xuICB9XG5cbiAgLyoqXG4gICAqIE5vZGUgb3IgU2hhZG93Um9vdCBpbnRvIHdoaWNoIGVsZW1lbnQgRE9NIHNob3VsZCBiZSByZW5kZXJlZC4gRGVmYXVsdHNcbiAgICogdG8gYW4gb3BlbiBzaGFkb3dSb290LlxuICAgKiBAY2F0ZWdvcnkgcmVuZGVyaW5nXG4gICAqL1xuICByZWFkb25seSByZW5kZXJSb290ITogSFRNTEVsZW1lbnQgfCBEb2N1bWVudEZyYWdtZW50O1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBwcm9wZXJ0eSBuYW1lIGZvciB0aGUgZ2l2ZW4gYXR0cmlidXRlIGBuYW1lYC5cbiAgICogQG5vY29sbGFwc2VcbiAgICovXG4gIHByaXZhdGUgc3RhdGljIF9fYXR0cmlidXRlTmFtZUZvclByb3BlcnR5KFxuICAgIG5hbWU6IFByb3BlcnR5S2V5LFxuICAgIG9wdGlvbnM6IFByb3BlcnR5RGVjbGFyYXRpb25cbiAgKSB7XG4gICAgY29uc3QgYXR0cmlidXRlID0gb3B0aW9ucy5hdHRyaWJ1dGU7XG4gICAgcmV0dXJuIGF0dHJpYnV0ZSA9PT0gZmFsc2VcbiAgICAgID8gdW5kZWZpbmVkXG4gICAgICA6IHR5cGVvZiBhdHRyaWJ1dGUgPT09ICdzdHJpbmcnXG4gICAgICAgID8gYXR0cmlidXRlXG4gICAgICAgIDogdHlwZW9mIG5hbWUgPT09ICdzdHJpbmcnXG4gICAgICAgICAgPyBuYW1lLnRvTG93ZXJDYXNlKClcbiAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgfVxuXG4gIC8vIEluaXRpYWxpemUgdG8gYW4gdW5yZXNvbHZlZCBQcm9taXNlIHNvIHdlIGNhbiBtYWtlIHN1cmUgdGhlIGVsZW1lbnQgaGFzXG4gIC8vIGNvbm5lY3RlZCBiZWZvcmUgZmlyc3QgdXBkYXRlLlxuICBwcml2YXRlIF9fdXBkYXRlUHJvbWlzZSE6IFByb21pc2U8Ym9vbGVhbj47XG5cbiAgLyoqXG4gICAqIFRydWUgaWYgdGhlcmUgaXMgYSBwZW5kaW5nIHVwZGF0ZSBhcyBhIHJlc3VsdCBvZiBjYWxsaW5nIGByZXF1ZXN0VXBkYXRlKClgLlxuICAgKiBTaG91bGQgb25seSBiZSByZWFkLlxuICAgKiBAY2F0ZWdvcnkgdXBkYXRlc1xuICAgKi9cbiAgaXNVcGRhdGVQZW5kaW5nID0gZmFsc2U7XG5cbiAgLyoqXG4gICAqIElzIHNldCB0byBgdHJ1ZWAgYWZ0ZXIgdGhlIGZpcnN0IHVwZGF0ZS4gVGhlIGVsZW1lbnQgY29kZSBjYW5ub3QgYXNzdW1lXG4gICAqIHRoYXQgYHJlbmRlclJvb3RgIGV4aXN0cyBiZWZvcmUgdGhlIGVsZW1lbnQgYGhhc1VwZGF0ZWRgLlxuICAgKiBAY2F0ZWdvcnkgdXBkYXRlc1xuICAgKi9cbiAgaGFzVXBkYXRlZCA9IGZhbHNlO1xuXG4gIC8qKlxuICAgKiBNYXAgd2l0aCBrZXlzIGZvciBhbnkgcHJvcGVydGllcyB0aGF0IGhhdmUgY2hhbmdlZCBzaW5jZSB0aGUgbGFzdFxuICAgKiB1cGRhdGUgY3ljbGUgd2l0aCBwcmV2aW91cyB2YWx1ZXMuXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgXyRjaGFuZ2VkUHJvcGVydGllcyE6IFByb3BlcnR5VmFsdWVzO1xuXG4gIC8qKlxuICAgKiBSZWNvcmRzIHByb3BlcnR5IGRlZmF1bHQgdmFsdWVzIHdoZW4gdGhlXG4gICAqIGB1c2VEZWZhdWx0YCBvcHRpb24gaXMgdXNlZC5cbiAgICovXG4gIHByaXZhdGUgX19kZWZhdWx0VmFsdWVzPzogTWFwPFByb3BlcnR5S2V5LCB1bmtub3duPjtcblxuICAvKipcbiAgICogUHJvcGVydGllcyB0aGF0IHNob3VsZCBiZSByZWZsZWN0ZWQgd2hlbiB1cGRhdGVkLlxuICAgKi9cbiAgcHJpdmF0ZSBfX3JlZmxlY3RpbmdQcm9wZXJ0aWVzPzogU2V0PFByb3BlcnR5S2V5PjtcblxuICAvKipcbiAgICogTmFtZSBvZiBjdXJyZW50bHkgcmVmbGVjdGluZyBwcm9wZXJ0eVxuICAgKi9cbiAgcHJpdmF0ZSBfX3JlZmxlY3RpbmdQcm9wZXJ0eTogUHJvcGVydHlLZXkgfCBudWxsID0gbnVsbDtcblxuICAvKipcbiAgICogU2V0IG9mIGNvbnRyb2xsZXJzLlxuICAgKi9cbiAgcHJpdmF0ZSBfX2NvbnRyb2xsZXJzPzogU2V0PFJlYWN0aXZlQ29udHJvbGxlcj47XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9faW5pdGlhbGl6ZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEludGVybmFsIG9ubHkgb3ZlcnJpZGUgcG9pbnQgZm9yIGN1c3RvbWl6aW5nIHdvcmsgZG9uZSB3aGVuIGVsZW1lbnRzXG4gICAqIGFyZSBjb25zdHJ1Y3RlZC5cbiAgICovXG4gIHByaXZhdGUgX19pbml0aWFsaXplKCkge1xuICAgIHRoaXMuX191cGRhdGVQcm9taXNlID0gbmV3IFByb21pc2U8Ym9vbGVhbj4oXG4gICAgICAocmVzKSA9PiAodGhpcy5lbmFibGVVcGRhdGluZyA9IHJlcylcbiAgICApO1xuICAgIHRoaXMuXyRjaGFuZ2VkUHJvcGVydGllcyA9IG5ldyBNYXAoKTtcbiAgICAvLyBUaGlzIGVucXVldWVzIGEgbWljcm90YXNrIHRoYXQgbXVzdCBydW4gYmVmb3JlIHRoZSBmaXJzdCB1cGRhdGUsIHNvIGl0XG4gICAgLy8gbXVzdCBiZSBjYWxsZWQgYmVmb3JlIHJlcXVlc3RVcGRhdGUoKVxuICAgIHRoaXMuX19zYXZlSW5zdGFuY2VQcm9wZXJ0aWVzKCk7XG4gICAgLy8gZW5zdXJlcyBmaXJzdCB1cGRhdGUgd2lsbCBiZSBjYXVnaHQgYnkgYW4gZWFybHkgYWNjZXNzIG9mXG4gICAgLy8gYHVwZGF0ZUNvbXBsZXRlYFxuICAgIHRoaXMucmVxdWVzdFVwZGF0ZSgpO1xuICAgICh0aGlzLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBSZWFjdGl2ZUVsZW1lbnQpLl9pbml0aWFsaXplcnM/LmZvckVhY2goKGkpID0+XG4gICAgICBpKHRoaXMpXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWdpc3RlcnMgYSBgUmVhY3RpdmVDb250cm9sbGVyYCB0byBwYXJ0aWNpcGF0ZSBpbiB0aGUgZWxlbWVudCdzIHJlYWN0aXZlXG4gICAqIHVwZGF0ZSBjeWNsZS4gVGhlIGVsZW1lbnQgYXV0b21hdGljYWxseSBjYWxscyBpbnRvIGFueSByZWdpc3RlcmVkXG4gICAqIGNvbnRyb2xsZXJzIGR1cmluZyBpdHMgbGlmZWN5Y2xlIGNhbGxiYWNrcy5cbiAgICpcbiAgICogSWYgdGhlIGVsZW1lbnQgaXMgY29ubmVjdGVkIHdoZW4gYGFkZENvbnRyb2xsZXIoKWAgaXMgY2FsbGVkLCB0aGVcbiAgICogY29udHJvbGxlcidzIGBob3N0Q29ubmVjdGVkKClgIGNhbGxiYWNrIHdpbGwgYmUgaW1tZWRpYXRlbHkgY2FsbGVkLlxuICAgKiBAY2F0ZWdvcnkgY29udHJvbGxlcnNcbiAgICovXG4gIGFkZENvbnRyb2xsZXIoY29udHJvbGxlcjogUmVhY3RpdmVDb250cm9sbGVyKSB7XG4gICAgKHRoaXMuX19jb250cm9sbGVycyA/Pz0gbmV3IFNldCgpKS5hZGQoY29udHJvbGxlcik7XG4gICAgLy8gSWYgYSBjb250cm9sbGVyIGlzIGFkZGVkIGFmdGVyIHRoZSBlbGVtZW50IGhhcyBiZWVuIGNvbm5lY3RlZCxcbiAgICAvLyBjYWxsIGhvc3RDb25uZWN0ZWQuIE5vdGUsIHJlLXVzaW5nIGV4aXN0ZW5jZSBvZiBgcmVuZGVyUm9vdGAgaGVyZVxuICAgIC8vICh3aGljaCBpcyBzZXQgaW4gY29ubmVjdGVkQ2FsbGJhY2spIHRvIGF2b2lkIHRoZSBuZWVkIHRvIHRyYWNrIGFcbiAgICAvLyBmaXJzdCBjb25uZWN0ZWQgc3RhdGUuXG4gICAgaWYgKHRoaXMucmVuZGVyUm9vdCAhPT0gdW5kZWZpbmVkICYmIHRoaXMuaXNDb25uZWN0ZWQpIHtcbiAgICAgIGNvbnRyb2xsZXIuaG9zdENvbm5lY3RlZD8uKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgYSBgUmVhY3RpdmVDb250cm9sbGVyYCBmcm9tIHRoZSBlbGVtZW50LlxuICAgKiBAY2F0ZWdvcnkgY29udHJvbGxlcnNcbiAgICovXG4gIHJlbW92ZUNvbnRyb2xsZXIoY29udHJvbGxlcjogUmVhY3RpdmVDb250cm9sbGVyKSB7XG4gICAgdGhpcy5fX2NvbnRyb2xsZXJzPy5kZWxldGUoY29udHJvbGxlcik7XG4gIH1cblxuICAvKipcbiAgICogRml4ZXMgYW55IHByb3BlcnRpZXMgc2V0IG9uIHRoZSBpbnN0YW5jZSBiZWZvcmUgdXBncmFkZSB0aW1lLlxuICAgKiBPdGhlcndpc2UgdGhlc2Ugd291bGQgc2hhZG93IHRoZSBhY2Nlc3NvciBhbmQgYnJlYWsgdGhlc2UgcHJvcGVydGllcy5cbiAgICogVGhlIHByb3BlcnRpZXMgYXJlIHN0b3JlZCBpbiBhIE1hcCB3aGljaCBpcyBwbGF5ZWQgYmFjayBhZnRlciB0aGVcbiAgICogY29uc3RydWN0b3IgcnVucy5cbiAgICovXG4gIHByaXZhdGUgX19zYXZlSW5zdGFuY2VQcm9wZXJ0aWVzKCkge1xuICAgIGNvbnN0IGluc3RhbmNlUHJvcGVydGllcyA9IG5ldyBNYXA8UHJvcGVydHlLZXksIHVua25vd24+KCk7XG4gICAgY29uc3QgZWxlbWVudFByb3BlcnRpZXMgPSAodGhpcy5jb25zdHJ1Y3RvciBhcyB0eXBlb2YgUmVhY3RpdmVFbGVtZW50KVxuICAgICAgLmVsZW1lbnRQcm9wZXJ0aWVzO1xuICAgIGZvciAoY29uc3QgcCBvZiBlbGVtZW50UHJvcGVydGllcy5rZXlzKCkgYXMgSXRlcmFibGVJdGVyYXRvcjxrZXlvZiB0aGlzPikge1xuICAgICAgaWYgKHRoaXMuaGFzT3duUHJvcGVydHkocCkpIHtcbiAgICAgICAgaW5zdGFuY2VQcm9wZXJ0aWVzLnNldChwLCB0aGlzW3BdKTtcbiAgICAgICAgZGVsZXRlIHRoaXNbcF07XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChpbnN0YW5jZVByb3BlcnRpZXMuc2l6ZSA+IDApIHtcbiAgICAgIHRoaXMuX19pbnN0YW5jZVByb3BlcnRpZXMgPSBpbnN0YW5jZVByb3BlcnRpZXM7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIG5vZGUgaW50byB3aGljaCB0aGUgZWxlbWVudCBzaG91bGQgcmVuZGVyIGFuZCBieSBkZWZhdWx0XG4gICAqIGNyZWF0ZXMgYW5kIHJldHVybnMgYW4gb3BlbiBzaGFkb3dSb290LiBJbXBsZW1lbnQgdG8gY3VzdG9taXplIHdoZXJlIHRoZVxuICAgKiBlbGVtZW50J3MgRE9NIGlzIHJlbmRlcmVkLiBGb3IgZXhhbXBsZSwgdG8gcmVuZGVyIGludG8gdGhlIGVsZW1lbnQnc1xuICAgKiBjaGlsZE5vZGVzLCByZXR1cm4gYHRoaXNgLlxuICAgKlxuICAgKiBAcmV0dXJuIFJldHVybnMgYSBub2RlIGludG8gd2hpY2ggdG8gcmVuZGVyLlxuICAgKiBAY2F0ZWdvcnkgcmVuZGVyaW5nXG4gICAqL1xuICBwcm90ZWN0ZWQgY3JlYXRlUmVuZGVyUm9vdCgpOiBIVE1MRWxlbWVudCB8IERvY3VtZW50RnJhZ21lbnQge1xuICAgIGNvbnN0IHJlbmRlclJvb3QgPVxuICAgICAgdGhpcy5zaGFkb3dSb290ID8/XG4gICAgICB0aGlzLmF0dGFjaFNoYWRvdyhcbiAgICAgICAgKHRoaXMuY29uc3RydWN0b3IgYXMgdHlwZW9mIFJlYWN0aXZlRWxlbWVudCkuc2hhZG93Um9vdE9wdGlvbnNcbiAgICAgICk7XG4gICAgYWRvcHRTdHlsZXMoXG4gICAgICByZW5kZXJSb290LFxuICAgICAgKHRoaXMuY29uc3RydWN0b3IgYXMgdHlwZW9mIFJlYWN0aXZlRWxlbWVudCkuZWxlbWVudFN0eWxlc1xuICAgICk7XG4gICAgcmV0dXJuIHJlbmRlclJvb3Q7XG4gIH1cblxuICAvKipcbiAgICogT24gZmlyc3QgY29ubmVjdGlvbiwgY3JlYXRlcyB0aGUgZWxlbWVudCdzIHJlbmRlclJvb3QsIHNldHMgdXBcbiAgICogZWxlbWVudCBzdHlsaW5nLCBhbmQgZW5hYmxlcyB1cGRhdGluZy5cbiAgICogQGNhdGVnb3J5IGxpZmVjeWNsZVxuICAgKi9cbiAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgLy8gQ3JlYXRlIHJlbmRlclJvb3QgYmVmb3JlIGNvbnRyb2xsZXJzIGBob3N0Q29ubmVjdGVkYFxuICAgICh0aGlzIGFzIE11dGFibGU8dHlwZW9mIHRoaXMsICdyZW5kZXJSb290Jz4pLnJlbmRlclJvb3QgPz89XG4gICAgICB0aGlzLmNyZWF0ZVJlbmRlclJvb3QoKTtcbiAgICB0aGlzLmVuYWJsZVVwZGF0aW5nKHRydWUpO1xuICAgIHRoaXMuX19jb250cm9sbGVycz8uZm9yRWFjaCgoYykgPT4gYy5ob3N0Q29ubmVjdGVkPy4oKSk7XG4gIH1cblxuICAvKipcbiAgICogTm90ZSwgdGhpcyBtZXRob2Qgc2hvdWxkIGJlIGNvbnNpZGVyZWQgZmluYWwgYW5kIG5vdCBvdmVycmlkZGVuLiBJdCBpc1xuICAgKiBvdmVycmlkZGVuIG9uIHRoZSBlbGVtZW50IGluc3RhbmNlIHdpdGggYSBmdW5jdGlvbiB0aGF0IHRyaWdnZXJzIHRoZSBmaXJzdFxuICAgKiB1cGRhdGUuXG4gICAqIEBjYXRlZ29yeSB1cGRhdGVzXG4gICAqL1xuICBwcm90ZWN0ZWQgZW5hYmxlVXBkYXRpbmcoX3JlcXVlc3RlZFVwZGF0ZTogYm9vbGVhbikge31cblxuICAvKipcbiAgICogQWxsb3dzIGZvciBgc3VwZXIuZGlzY29ubmVjdGVkQ2FsbGJhY2soKWAgaW4gZXh0ZW5zaW9ucyB3aGlsZVxuICAgKiByZXNlcnZpbmcgdGhlIHBvc3NpYmlsaXR5IG9mIG1ha2luZyBub24tYnJlYWtpbmcgZmVhdHVyZSBhZGRpdGlvbnNcbiAgICogd2hlbiBkaXNjb25uZWN0aW5nIGF0IHNvbWUgcG9pbnQgaW4gdGhlIGZ1dHVyZS5cbiAgICogQGNhdGVnb3J5IGxpZmVjeWNsZVxuICAgKi9cbiAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgdGhpcy5fX2NvbnRyb2xsZXJzPy5mb3JFYWNoKChjKSA9PiBjLmhvc3REaXNjb25uZWN0ZWQ/LigpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTeW5jaHJvbml6ZXMgcHJvcGVydHkgdmFsdWVzIHdoZW4gYXR0cmlidXRlcyBjaGFuZ2UuXG4gICAqXG4gICAqIFNwZWNpZmljYWxseSwgd2hlbiBhbiBhdHRyaWJ1dGUgaXMgc2V0LCB0aGUgY29ycmVzcG9uZGluZyBwcm9wZXJ0eSBpcyBzZXQuXG4gICAqIFlvdSBzaG91bGQgcmFyZWx5IG5lZWQgdG8gaW1wbGVtZW50IHRoaXMgY2FsbGJhY2suIElmIHRoaXMgbWV0aG9kIGlzXG4gICAqIG92ZXJyaWRkZW4sIGBzdXBlci5hdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2sobmFtZSwgX29sZCwgdmFsdWUpYCBtdXN0IGJlXG4gICAqIGNhbGxlZC5cbiAgICpcbiAgICogU2VlIFtyZXNwb25kaW5nIHRvIGF0dHJpYnV0ZSBjaGFuZ2VzXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvV2ViX2NvbXBvbmVudHMvVXNpbmdfY3VzdG9tX2VsZW1lbnRzI3Jlc3BvbmRpbmdfdG9fYXR0cmlidXRlX2NoYW5nZXMpXG4gICAqIG9uIE1ETiBmb3IgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCB0aGUgYGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFja2AuXG4gICAqIEBjYXRlZ29yeSBhdHRyaWJ1dGVzXG4gICAqL1xuICBhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2soXG4gICAgbmFtZTogc3RyaW5nLFxuICAgIF9vbGQ6IHN0cmluZyB8IG51bGwsXG4gICAgdmFsdWU6IHN0cmluZyB8IG51bGxcbiAgKSB7XG4gICAgdGhpcy5fJGF0dHJpYnV0ZVRvUHJvcGVydHkobmFtZSwgdmFsdWUpO1xuICB9XG5cbiAgcHJpdmF0ZSBfX3Byb3BlcnR5VG9BdHRyaWJ1dGUobmFtZTogUHJvcGVydHlLZXksIHZhbHVlOiB1bmtub3duKSB7XG4gICAgY29uc3QgZWxlbVByb3BlcnRpZXM6IFByb3BlcnR5RGVjbGFyYXRpb25NYXAgPSAoXG4gICAgICB0aGlzLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBSZWFjdGl2ZUVsZW1lbnRcbiAgICApLmVsZW1lbnRQcm9wZXJ0aWVzO1xuICAgIGNvbnN0IG9wdGlvbnMgPSBlbGVtUHJvcGVydGllcy5nZXQobmFtZSkhO1xuICAgIGNvbnN0IGF0dHIgPSAoXG4gICAgICB0aGlzLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBSZWFjdGl2ZUVsZW1lbnRcbiAgICApLl9fYXR0cmlidXRlTmFtZUZvclByb3BlcnR5KG5hbWUsIG9wdGlvbnMpO1xuICAgIGlmIChhdHRyICE9PSB1bmRlZmluZWQgJiYgb3B0aW9ucy5yZWZsZWN0ID09PSB0cnVlKSB7XG4gICAgICBjb25zdCBjb252ZXJ0ZXIgPVxuICAgICAgICAob3B0aW9ucy5jb252ZXJ0ZXIgYXMgQ29tcGxleEF0dHJpYnV0ZUNvbnZlcnRlcik/LnRvQXR0cmlidXRlICE9PVxuICAgICAgICB1bmRlZmluZWRcbiAgICAgICAgICA/IChvcHRpb25zLmNvbnZlcnRlciBhcyBDb21wbGV4QXR0cmlidXRlQ29udmVydGVyKVxuICAgICAgICAgIDogZGVmYXVsdENvbnZlcnRlcjtcbiAgICAgIGNvbnN0IGF0dHJWYWx1ZSA9IGNvbnZlcnRlci50b0F0dHJpYnV0ZSEodmFsdWUsIG9wdGlvbnMudHlwZSk7XG4gICAgICBpZiAoXG4gICAgICAgIERFVl9NT0RFICYmXG4gICAgICAgICh0aGlzLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBSZWFjdGl2ZUVsZW1lbnQpLmVuYWJsZWRXYXJuaW5ncyEuaW5jbHVkZXMoXG4gICAgICAgICAgJ21pZ3JhdGlvbidcbiAgICAgICAgKSAmJlxuICAgICAgICBhdHRyVmFsdWUgPT09IHVuZGVmaW5lZFxuICAgICAgKSB7XG4gICAgICAgIGlzc3VlV2FybmluZyhcbiAgICAgICAgICAndW5kZWZpbmVkLWF0dHJpYnV0ZS12YWx1ZScsXG4gICAgICAgICAgYFRoZSBhdHRyaWJ1dGUgdmFsdWUgZm9yIHRoZSAke25hbWUgYXMgc3RyaW5nfSBwcm9wZXJ0eSBpcyBgICtcbiAgICAgICAgICAgIGB1bmRlZmluZWQgb24gZWxlbWVudCAke3RoaXMubG9jYWxOYW1lfS4gVGhlIGF0dHJpYnV0ZSB3aWxsIGJlIGAgK1xuICAgICAgICAgICAgYHJlbW92ZWQsIGJ1dCBpbiB0aGUgcHJldmlvdXMgdmVyc2lvbiBvZiBcXGBSZWFjdGl2ZUVsZW1lbnRcXGAsIGAgK1xuICAgICAgICAgICAgYHRoZSBhdHRyaWJ1dGUgd291bGQgbm90IGhhdmUgY2hhbmdlZC5gXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICAvLyBUcmFjayBpZiB0aGUgcHJvcGVydHkgaXMgYmVpbmcgcmVmbGVjdGVkIHRvIGF2b2lkXG4gICAgICAvLyBzZXR0aW5nIHRoZSBwcm9wZXJ0eSBhZ2FpbiB2aWEgYGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFja2AuIE5vdGU6XG4gICAgICAvLyAxLiB0aGlzIHRha2VzIGFkdmFudGFnZSBvZiB0aGUgZmFjdCB0aGF0IHRoZSBjYWxsYmFjayBpcyBzeW5jaHJvbm91cy5cbiAgICAgIC8vIDIuIHdpbGwgYmVoYXZlIGluY29ycmVjdGx5IGlmIG11bHRpcGxlIGF0dHJpYnV0ZXMgYXJlIGluIHRoZSByZWFjdGlvblxuICAgICAgLy8gc3RhY2sgYXQgdGltZSBvZiBjYWxsaW5nLiBIb3dldmVyLCBzaW5jZSB3ZSBwcm9jZXNzIGF0dHJpYnV0ZXNcbiAgICAgIC8vIGluIGB1cGRhdGVgIHRoaXMgc2hvdWxkIG5vdCBiZSBwb3NzaWJsZSAob3IgYW4gZXh0cmVtZSBjb3JuZXIgY2FzZVxuICAgICAgLy8gdGhhdCB3ZSdkIGxpa2UgdG8gZGlzY292ZXIpLlxuICAgICAgLy8gbWFyayBzdGF0ZSByZWZsZWN0aW5nXG4gICAgICB0aGlzLl9fcmVmbGVjdGluZ1Byb3BlcnR5ID0gbmFtZTtcbiAgICAgIGlmIChhdHRyVmFsdWUgPT0gbnVsbCkge1xuICAgICAgICB0aGlzLnJlbW92ZUF0dHJpYnV0ZShhdHRyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKGF0dHIsIGF0dHJWYWx1ZSBhcyBzdHJpbmcpO1xuICAgICAgfVxuICAgICAgLy8gbWFyayBzdGF0ZSBub3QgcmVmbGVjdGluZ1xuICAgICAgdGhpcy5fX3JlZmxlY3RpbmdQcm9wZXJ0eSA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfJGF0dHJpYnV0ZVRvUHJvcGVydHkobmFtZTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nIHwgbnVsbCkge1xuICAgIGNvbnN0IGN0b3IgPSB0aGlzLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBSZWFjdGl2ZUVsZW1lbnQ7XG4gICAgLy8gTm90ZSwgaGludCB0aGlzIGFzIGFuIGBBdHRyaWJ1dGVNYXBgIHNvIGNsb3N1cmUgY2xlYXJseSB1bmRlcnN0YW5kc1xuICAgIC8vIHRoZSB0eXBlOyBpdCBoYXMgaXNzdWVzIHdpdGggdHJhY2tpbmcgdHlwZXMgdGhyb3VnaCBzdGF0aWNzXG4gICAgY29uc3QgcHJvcE5hbWUgPSAoY3Rvci5fX2F0dHJpYnV0ZVRvUHJvcGVydHlNYXAgYXMgQXR0cmlidXRlTWFwKS5nZXQobmFtZSk7XG4gICAgLy8gVXNlIHRyYWNraW5nIGluZm8gdG8gYXZvaWQgcmVmbGVjdGluZyBhIHByb3BlcnR5IHZhbHVlIHRvIGFuIGF0dHJpYnV0ZVxuICAgIC8vIGlmIGl0IHdhcyBqdXN0IHNldCBiZWNhdXNlIHRoZSBhdHRyaWJ1dGUgY2hhbmdlZC5cbiAgICBpZiAocHJvcE5hbWUgIT09IHVuZGVmaW5lZCAmJiB0aGlzLl9fcmVmbGVjdGluZ1Byb3BlcnR5ICE9PSBwcm9wTmFtZSkge1xuICAgICAgY29uc3Qgb3B0aW9ucyA9IGN0b3IuZ2V0UHJvcGVydHlPcHRpb25zKHByb3BOYW1lKTtcbiAgICAgIGNvbnN0IGNvbnZlcnRlciA9XG4gICAgICAgIHR5cGVvZiBvcHRpb25zLmNvbnZlcnRlciA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICAgID8ge2Zyb21BdHRyaWJ1dGU6IG9wdGlvbnMuY29udmVydGVyfVxuICAgICAgICAgIDogb3B0aW9ucy5jb252ZXJ0ZXI/LmZyb21BdHRyaWJ1dGUgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyBvcHRpb25zLmNvbnZlcnRlclxuICAgICAgICAgICAgOiBkZWZhdWx0Q29udmVydGVyO1xuICAgICAgLy8gbWFyayBzdGF0ZSByZWZsZWN0aW5nXG4gICAgICB0aGlzLl9fcmVmbGVjdGluZ1Byb3BlcnR5ID0gcHJvcE5hbWU7XG4gICAgICB0aGlzW3Byb3BOYW1lIGFzIGtleW9mIHRoaXNdID1cbiAgICAgICAgY29udmVydGVyLmZyb21BdHRyaWJ1dGUhKHZhbHVlLCBvcHRpb25zLnR5cGUpID8/XG4gICAgICAgIHRoaXMuX19kZWZhdWx0VmFsdWVzPy5nZXQocHJvcE5hbWUpID8/XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgIChudWxsIGFzIGFueSk7XG4gICAgICAvLyBtYXJrIHN0YXRlIG5vdCByZWZsZWN0aW5nXG4gICAgICB0aGlzLl9fcmVmbGVjdGluZ1Byb3BlcnR5ID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVxdWVzdHMgYW4gdXBkYXRlIHdoaWNoIGlzIHByb2Nlc3NlZCBhc3luY2hyb25vdXNseS4gVGhpcyBzaG91bGQgYmUgY2FsbGVkXG4gICAqIHdoZW4gYW4gZWxlbWVudCBzaG91bGQgdXBkYXRlIGJhc2VkIG9uIHNvbWUgc3RhdGUgbm90IHRyaWdnZXJlZCBieSBzZXR0aW5nXG4gICAqIGEgcmVhY3RpdmUgcHJvcGVydHkuIEluIHRoaXMgY2FzZSwgcGFzcyBubyBhcmd1bWVudHMuIEl0IHNob3VsZCBhbHNvIGJlXG4gICAqIGNhbGxlZCB3aGVuIG1hbnVhbGx5IGltcGxlbWVudGluZyBhIHByb3BlcnR5IHNldHRlci4gSW4gdGhpcyBjYXNlLCBwYXNzIHRoZVxuICAgKiBwcm9wZXJ0eSBgbmFtZWAgYW5kIGBvbGRWYWx1ZWAgdG8gZW5zdXJlIHRoYXQgYW55IGNvbmZpZ3VyZWQgcHJvcGVydHlcbiAgICogb3B0aW9ucyBhcmUgaG9ub3JlZC5cbiAgICpcbiAgICogQHBhcmFtIG5hbWUgbmFtZSBvZiByZXF1ZXN0aW5nIHByb3BlcnR5XG4gICAqIEBwYXJhbSBvbGRWYWx1ZSBvbGQgdmFsdWUgb2YgcmVxdWVzdGluZyBwcm9wZXJ0eVxuICAgKiBAcGFyYW0gb3B0aW9ucyBwcm9wZXJ0eSBvcHRpb25zIHRvIHVzZSBpbnN0ZWFkIG9mIHRoZSBwcmV2aW91c2x5XG4gICAqICAgICBjb25maWd1cmVkIG9wdGlvbnNcbiAgICogQGNhdGVnb3J5IHVwZGF0ZXNcbiAgICovXG4gIHJlcXVlc3RVcGRhdGUoXG4gICAgbmFtZT86IFByb3BlcnR5S2V5LFxuICAgIG9sZFZhbHVlPzogdW5rbm93bixcbiAgICBvcHRpb25zPzogUHJvcGVydHlEZWNsYXJhdGlvblxuICApOiB2b2lkIHtcbiAgICAvLyBJZiB3ZSBoYXZlIGEgcHJvcGVydHkga2V5LCBwZXJmb3JtIHByb3BlcnR5IHVwZGF0ZSBzdGVwcy5cbiAgICBpZiAobmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBpZiAoREVWX01PREUgJiYgKG5hbWUgYXMgdW5rbm93bikgaW5zdGFuY2VvZiBFdmVudCkge1xuICAgICAgICBpc3N1ZVdhcm5pbmcoXG4gICAgICAgICAgYGAsXG4gICAgICAgICAgYFRoZSByZXF1ZXN0VXBkYXRlKCkgbWV0aG9kIHdhcyBjYWxsZWQgd2l0aCBhbiBFdmVudCBhcyB0aGUgcHJvcGVydHkgbmFtZS4gVGhpcyBpcyBwcm9iYWJseSBhIG1pc3Rha2UgY2F1c2VkIGJ5IGJpbmRpbmcgdGhpcy5yZXF1ZXN0VXBkYXRlIGFzIGFuIGV2ZW50IGxpc3RlbmVyLiBJbnN0ZWFkIGJpbmQgYSBmdW5jdGlvbiB0aGF0IHdpbGwgY2FsbCBpdCB3aXRoIG5vIGFyZ3VtZW50czogKCkgPT4gdGhpcy5yZXF1ZXN0VXBkYXRlKClgXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBjb25zdCBjdG9yID0gdGhpcy5jb25zdHJ1Y3RvciBhcyB0eXBlb2YgUmVhY3RpdmVFbGVtZW50O1xuICAgICAgY29uc3QgbmV3VmFsdWUgPSB0aGlzW25hbWUgYXMga2V5b2YgdGhpc107XG4gICAgICBvcHRpb25zID8/PSBjdG9yLmdldFByb3BlcnR5T3B0aW9ucyhuYW1lKTtcbiAgICAgIGNvbnN0IGNoYW5nZWQgPVxuICAgICAgICAob3B0aW9ucy5oYXNDaGFuZ2VkID8/IG5vdEVxdWFsKShuZXdWYWx1ZSwgb2xkVmFsdWUpIHx8XG4gICAgICAgIC8vIFdoZW4gdGhlcmUgaXMgbm8gY2hhbmdlLCBjaGVjayBhIGNvcm5lciBjYXNlIHRoYXQgY2FuIG9jY3VyIHdoZW5cbiAgICAgICAgLy8gMS4gdGhlcmUncyBhIGluaXRpYWwgdmFsdWUgd2hpY2ggd2FzIG5vdCByZWZsZWN0ZWRcbiAgICAgICAgLy8gMi4gdGhlIHByb3BlcnR5IGlzIHN1YnNlcXVlbnRseSBzZXQgdG8gdGhpcyB2YWx1ZS5cbiAgICAgICAgLy8gRm9yIGV4YW1wbGUsIGBwcm9wOiB7dXNlRGVmYXVsdDogdHJ1ZSwgcmVmbGVjdDogdHJ1ZX1gXG4gICAgICAgIC8vIGFuZCBlbC5wcm9wID0gJ2ZvbycuIFRoaXMgc2hvdWxkIGJlIGNvbnNpZGVyZWQgYSBjaGFuZ2UgaWYgdGhlXG4gICAgICAgIC8vIGF0dHJpYnV0ZSBpcyBub3Qgc2V0IGJlY2F1c2Ugd2Ugd2lsbCBub3cgcmVmbGVjdCB0aGUgcHJvcGVydHkgdG8gdGhlIGF0dHJpYnV0ZS5cbiAgICAgICAgKG9wdGlvbnMudXNlRGVmYXVsdCAmJlxuICAgICAgICAgIG9wdGlvbnMucmVmbGVjdCAmJlxuICAgICAgICAgIG5ld1ZhbHVlID09PSB0aGlzLl9fZGVmYXVsdFZhbHVlcz8uZ2V0KG5hbWUpICYmXG4gICAgICAgICAgIXRoaXMuaGFzQXR0cmlidXRlKGN0b3IuX19hdHRyaWJ1dGVOYW1lRm9yUHJvcGVydHkobmFtZSwgb3B0aW9ucykhKSk7XG4gICAgICBpZiAoY2hhbmdlZCkge1xuICAgICAgICB0aGlzLl8kY2hhbmdlUHJvcGVydHkobmFtZSwgb2xkVmFsdWUsIG9wdGlvbnMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQWJvcnQgdGhlIHJlcXVlc3QgaWYgdGhlIHByb3BlcnR5IHNob3VsZCBub3QgYmUgY29uc2lkZXJlZCBjaGFuZ2VkLlxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0aGlzLmlzVXBkYXRlUGVuZGluZyA9PT0gZmFsc2UpIHtcbiAgICAgIHRoaXMuX191cGRhdGVQcm9taXNlID0gdGhpcy5fX2VucXVldWVVcGRhdGUoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqL1xuICBfJGNoYW5nZVByb3BlcnR5KFxuICAgIG5hbWU6IFByb3BlcnR5S2V5LFxuICAgIG9sZFZhbHVlOiB1bmtub3duLFxuICAgIHt1c2VEZWZhdWx0LCByZWZsZWN0LCB3cmFwcGVkfTogUHJvcGVydHlEZWNsYXJhdGlvbixcbiAgICBpbml0aWFsaXplVmFsdWU/OiB1bmtub3duXG4gICkge1xuICAgIC8vIFJlY29yZCBkZWZhdWx0IHZhbHVlIHdoZW4gdXNlRGVmYXVsdCBpcyB1c2VkLiBUaGlzIGFsbG93cyB1cyB0b1xuICAgIC8vIHJlc3RvcmUgdGhpcyB2YWx1ZSB3aGVuIHRoZSBhdHRyaWJ1dGUgaXMgcmVtb3ZlZC5cbiAgICBpZiAodXNlRGVmYXVsdCAmJiAhKHRoaXMuX19kZWZhdWx0VmFsdWVzID8/PSBuZXcgTWFwKCkpLmhhcyhuYW1lKSkge1xuICAgICAgdGhpcy5fX2RlZmF1bHRWYWx1ZXMuc2V0KFxuICAgICAgICBuYW1lLFxuICAgICAgICBpbml0aWFsaXplVmFsdWUgPz8gb2xkVmFsdWUgPz8gdGhpc1tuYW1lIGFzIGtleW9mIHRoaXNdXG4gICAgICApO1xuICAgICAgLy8gaWYgdGhpcyBpcyBub3Qgd3JhcHBpbmcgYW4gYWNjZXNzb3IsIGl0IG11c3QgYmUgYW4gaW5pdGlhbCBzZXR0aW5nXG4gICAgICAvLyBhbmQgaW4gdGhpcyBjYXNlIHdlIGRvIG5vdCB3YW50IHRvIHJlY29yZCB0aGUgY2hhbmdlIG9yIHJlZmxlY3QuXG4gICAgICBpZiAod3JhcHBlZCAhPT0gdHJ1ZSB8fCBpbml0aWFsaXplVmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIC8vIFRPRE8gKGp1c3RpbmZhZ25hbmkpOiBDcmVhdGUgYSBiZW5jaG1hcmsgb2YgTWFwLmhhcygpICsgTWFwLnNldChcbiAgICAvLyB2cyBqdXN0IE1hcC5zZXQoKVxuICAgIGlmICghdGhpcy5fJGNoYW5nZWRQcm9wZXJ0aWVzLmhhcyhuYW1lKSkge1xuICAgICAgLy8gT24gdGhlIGluaXRpYWwgY2hhbmdlLCB0aGUgb2xkIHZhbHVlIHNob3VsZCBiZSBgdW5kZWZpbmVkYCwgZXhjZXB0XG4gICAgICAvLyB3aXRoIGB1c2VEZWZhdWx0YFxuICAgICAgaWYgKCF0aGlzLmhhc1VwZGF0ZWQgJiYgIXVzZURlZmF1bHQpIHtcbiAgICAgICAgb2xkVmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICB0aGlzLl8kY2hhbmdlZFByb3BlcnRpZXMuc2V0KG5hbWUsIG9sZFZhbHVlKTtcbiAgICB9XG4gICAgLy8gQWRkIHRvIHJlZmxlY3RpbmcgcHJvcGVydGllcyBzZXQuXG4gICAgLy8gTm90ZSwgaXQncyBpbXBvcnRhbnQgdGhhdCBldmVyeSBjaGFuZ2UgaGFzIGEgY2hhbmNlIHRvIGFkZCB0aGVcbiAgICAvLyBwcm9wZXJ0eSB0byBgX19yZWZsZWN0aW5nUHJvcGVydGllc2AuIFRoaXMgZW5zdXJlcyBzZXR0aW5nXG4gICAgLy8gYXR0cmlidXRlICsgcHJvcGVydHkgcmVmbGVjdHMgY29ycmVjdGx5LlxuICAgIGlmIChyZWZsZWN0ID09PSB0cnVlICYmIHRoaXMuX19yZWZsZWN0aW5nUHJvcGVydHkgIT09IG5hbWUpIHtcbiAgICAgICh0aGlzLl9fcmVmbGVjdGluZ1Byb3BlcnRpZXMgPz89IG5ldyBTZXQ8UHJvcGVydHlLZXk+KCkpLmFkZChuYW1lKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB1cCB0aGUgZWxlbWVudCB0byBhc3luY2hyb25vdXNseSB1cGRhdGUuXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIF9fZW5xdWV1ZVVwZGF0ZSgpIHtcbiAgICB0aGlzLmlzVXBkYXRlUGVuZGluZyA9IHRydWU7XG4gICAgdHJ5IHtcbiAgICAgIC8vIEVuc3VyZSBhbnkgcHJldmlvdXMgdXBkYXRlIGhhcyByZXNvbHZlZCBiZWZvcmUgdXBkYXRpbmcuXG4gICAgICAvLyBUaGlzIGBhd2FpdGAgYWxzbyBlbnN1cmVzIHRoYXQgcHJvcGVydHkgY2hhbmdlcyBhcmUgYmF0Y2hlZC5cbiAgICAgIGF3YWl0IHRoaXMuX191cGRhdGVQcm9taXNlO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIFJlZmlyZSBhbnkgcHJldmlvdXMgZXJyb3JzIGFzeW5jIHNvIHRoZXkgZG8gbm90IGRpc3J1cHQgdGhlIHVwZGF0ZVxuICAgICAgLy8gY3ljbGUuIEVycm9ycyBhcmUgcmVmaXJlZCBzbyBkZXZlbG9wZXJzIGhhdmUgYSBjaGFuY2UgdG8gb2JzZXJ2ZVxuICAgICAgLy8gdGhlbSwgYW5kIHRoaXMgY2FuIGJlIGRvbmUgYnkgaW1wbGVtZW50aW5nXG4gICAgICAvLyBgd2luZG93Lm9udW5oYW5kbGVkcmVqZWN0aW9uYC5cbiAgICAgIFByb21pc2UucmVqZWN0KGUpO1xuICAgIH1cbiAgICBjb25zdCByZXN1bHQgPSB0aGlzLnNjaGVkdWxlVXBkYXRlKCk7XG4gICAgLy8gSWYgYHNjaGVkdWxlVXBkYXRlYCByZXR1cm5zIGEgUHJvbWlzZSwgd2UgYXdhaXQgaXQuIFRoaXMgaXMgZG9uZSB0b1xuICAgIC8vIGVuYWJsZSBjb29yZGluYXRpbmcgdXBkYXRlcyB3aXRoIGEgc2NoZWR1bGVyLiBOb3RlLCB0aGUgcmVzdWx0IGlzXG4gICAgLy8gY2hlY2tlZCB0byBhdm9pZCBkZWxheWluZyBhbiBhZGRpdGlvbmFsIG1pY3JvdGFzayB1bmxlc3Mgd2UgbmVlZCB0by5cbiAgICBpZiAocmVzdWx0ICE9IG51bGwpIHtcbiAgICAgIGF3YWl0IHJlc3VsdDtcbiAgICB9XG4gICAgcmV0dXJuICF0aGlzLmlzVXBkYXRlUGVuZGluZztcbiAgfVxuXG4gIC8qKlxuICAgKiBTY2hlZHVsZXMgYW4gZWxlbWVudCB1cGRhdGUuIFlvdSBjYW4gb3ZlcnJpZGUgdGhpcyBtZXRob2QgdG8gY2hhbmdlIHRoZVxuICAgKiB0aW1pbmcgb2YgdXBkYXRlcyBieSByZXR1cm5pbmcgYSBQcm9taXNlLiBUaGUgdXBkYXRlIHdpbGwgYXdhaXQgdGhlXG4gICAqIHJldHVybmVkIFByb21pc2UsIGFuZCB5b3Ugc2hvdWxkIHJlc29sdmUgdGhlIFByb21pc2UgdG8gYWxsb3cgdGhlIHVwZGF0ZVxuICAgKiB0byBwcm9jZWVkLiBJZiB0aGlzIG1ldGhvZCBpcyBvdmVycmlkZGVuLCBgc3VwZXIuc2NoZWR1bGVVcGRhdGUoKWBcbiAgICogbXVzdCBiZSBjYWxsZWQuXG4gICAqXG4gICAqIEZvciBpbnN0YW5jZSwgdG8gc2NoZWR1bGUgdXBkYXRlcyB0byBvY2N1ciBqdXN0IGJlZm9yZSB0aGUgbmV4dCBmcmFtZTpcbiAgICpcbiAgICogYGBgdHNcbiAgICogb3ZlcnJpZGUgcHJvdGVjdGVkIGFzeW5jIHNjaGVkdWxlVXBkYXRlKCk6IFByb21pc2U8dW5rbm93bj4ge1xuICAgKiAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gcmVzb2x2ZSgpKSk7XG4gICAqICAgc3VwZXIuc2NoZWR1bGVVcGRhdGUoKTtcbiAgICogfVxuICAgKiBgYGBcbiAgICogQGNhdGVnb3J5IHVwZGF0ZXNcbiAgICovXG4gIHByb3RlY3RlZCBzY2hlZHVsZVVwZGF0ZSgpOiB2b2lkIHwgUHJvbWlzZTx1bmtub3duPiB7XG4gICAgY29uc3QgcmVzdWx0ID0gdGhpcy5wZXJmb3JtVXBkYXRlKCk7XG4gICAgaWYgKFxuICAgICAgREVWX01PREUgJiZcbiAgICAgICh0aGlzLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBSZWFjdGl2ZUVsZW1lbnQpLmVuYWJsZWRXYXJuaW5ncyEuaW5jbHVkZXMoXG4gICAgICAgICdhc3luYy1wZXJmb3JtLXVwZGF0ZSdcbiAgICAgICkgJiZcbiAgICAgIHR5cGVvZiAocmVzdWx0IGFzIHVua25vd24gYXMgUHJvbWlzZTx1bmtub3duPiB8IHVuZGVmaW5lZCk/LnRoZW4gPT09XG4gICAgICAgICdmdW5jdGlvbidcbiAgICApIHtcbiAgICAgIGlzc3VlV2FybmluZyhcbiAgICAgICAgJ2FzeW5jLXBlcmZvcm0tdXBkYXRlJyxcbiAgICAgICAgYEVsZW1lbnQgJHt0aGlzLmxvY2FsTmFtZX0gcmV0dXJuZWQgYSBQcm9taXNlIGZyb20gcGVyZm9ybVVwZGF0ZSgpLiBgICtcbiAgICAgICAgICBgVGhpcyBiZWhhdmlvciBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gYSBmdXR1cmUgYCArXG4gICAgICAgICAgYHZlcnNpb24gb2YgUmVhY3RpdmVFbGVtZW50LmBcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogUGVyZm9ybXMgYW4gZWxlbWVudCB1cGRhdGUuIE5vdGUsIGlmIGFuIGV4Y2VwdGlvbiBpcyB0aHJvd24gZHVyaW5nIHRoZVxuICAgKiB1cGRhdGUsIGBmaXJzdFVwZGF0ZWRgIGFuZCBgdXBkYXRlZGAgd2lsbCBub3QgYmUgY2FsbGVkLlxuICAgKlxuICAgKiBDYWxsIGBwZXJmb3JtVXBkYXRlKClgIHRvIGltbWVkaWF0ZWx5IHByb2Nlc3MgYSBwZW5kaW5nIHVwZGF0ZS4gVGhpcyBzaG91bGRcbiAgICogZ2VuZXJhbGx5IG5vdCBiZSBuZWVkZWQsIGJ1dCBpdCBjYW4gYmUgZG9uZSBpbiByYXJlIGNhc2VzIHdoZW4geW91IG5lZWQgdG9cbiAgICogdXBkYXRlIHN5bmNocm9ub3VzbHkuXG4gICAqXG4gICAqIEBjYXRlZ29yeSB1cGRhdGVzXG4gICAqL1xuICBwcm90ZWN0ZWQgcGVyZm9ybVVwZGF0ZSgpOiB2b2lkIHtcbiAgICAvLyBBYm9ydCBhbnkgdXBkYXRlIGlmIG9uZSBpcyBub3QgcGVuZGluZyB3aGVuIHRoaXMgaXMgY2FsbGVkLlxuICAgIC8vIFRoaXMgY2FuIGhhcHBlbiBpZiBgcGVyZm9ybVVwZGF0ZWAgaXMgY2FsbGVkIGVhcmx5IHRvIFwiZmx1c2hcIlxuICAgIC8vIHRoZSB1cGRhdGUuXG4gICAgaWYgKCF0aGlzLmlzVXBkYXRlUGVuZGluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkZWJ1Z0xvZ0V2ZW50Py4oe2tpbmQ6ICd1cGRhdGUnfSk7XG4gICAgaWYgKCF0aGlzLmhhc1VwZGF0ZWQpIHtcbiAgICAgIC8vIENyZWF0ZSByZW5kZXJSb290IGJlZm9yZSBmaXJzdCB1cGRhdGUuIFRoaXMgb2NjdXJzIGluIGBjb25uZWN0ZWRDYWxsYmFja2BcbiAgICAgIC8vIGJ1dCBpcyBkb25lIGhlcmUgdG8gc3VwcG9ydCBvdXQgb2YgdHJlZSBjYWxscyB0byBgZW5hYmxlVXBkYXRpbmdgL2BwZXJmb3JtVXBkYXRlYC5cbiAgICAgICh0aGlzIGFzIE11dGFibGU8dHlwZW9mIHRoaXMsICdyZW5kZXJSb290Jz4pLnJlbmRlclJvb3QgPz89XG4gICAgICAgIHRoaXMuY3JlYXRlUmVuZGVyUm9vdCgpO1xuICAgICAgaWYgKERFVl9NT0RFKSB7XG4gICAgICAgIC8vIFByb2R1Y2Ugd2FybmluZyBpZiBhbnkgcmVhY3RpdmUgcHJvcGVydGllcyBvbiB0aGUgcHJvdG90eXBlIGFyZVxuICAgICAgICAvLyBzaGFkb3dlZCBieSBjbGFzcyBmaWVsZHMuIEluc3RhbmNlIGZpZWxkcyBzZXQgYmVmb3JlIHVwZ3JhZGUgYXJlXG4gICAgICAgIC8vIGRlbGV0ZWQgYnkgdGhpcyBwb2ludCwgc28gYW55IG93biBwcm9wZXJ0eSBpcyBjYXVzZWQgYnkgY2xhc3MgZmllbGRcbiAgICAgICAgLy8gaW5pdGlhbGl6YXRpb24gaW4gdGhlIGNvbnN0cnVjdG9yLlxuICAgICAgICBjb25zdCBjdG9yID0gdGhpcy5jb25zdHJ1Y3RvciBhcyB0eXBlb2YgUmVhY3RpdmVFbGVtZW50O1xuICAgICAgICBjb25zdCBzaGFkb3dlZFByb3BlcnRpZXMgPSBbLi4uY3Rvci5lbGVtZW50UHJvcGVydGllcy5rZXlzKCldLmZpbHRlcihcbiAgICAgICAgICAocCkgPT4gdGhpcy5oYXNPd25Qcm9wZXJ0eShwKSAmJiBwIGluIGdldFByb3RvdHlwZU9mKHRoaXMpXG4gICAgICAgICk7XG4gICAgICAgIGlmIChzaGFkb3dlZFByb3BlcnRpZXMubGVuZ3RoKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgYFRoZSBmb2xsb3dpbmcgcHJvcGVydGllcyBvbiBlbGVtZW50ICR7dGhpcy5sb2NhbE5hbWV9IHdpbGwgbm90IGAgK1xuICAgICAgICAgICAgICBgdHJpZ2dlciB1cGRhdGVzIGFzIGV4cGVjdGVkIGJlY2F1c2UgdGhleSBhcmUgc2V0IHVzaW5nIGNsYXNzIGAgK1xuICAgICAgICAgICAgICBgZmllbGRzOiAke3NoYWRvd2VkUHJvcGVydGllcy5qb2luKCcsICcpfS4gYCArXG4gICAgICAgICAgICAgIGBOYXRpdmUgY2xhc3MgZmllbGRzIGFuZCBzb21lIGNvbXBpbGVkIG91dHB1dCB3aWxsIG92ZXJ3cml0ZSBgICtcbiAgICAgICAgICAgICAgYGFjY2Vzc29ycyB1c2VkIGZvciBkZXRlY3RpbmcgY2hhbmdlcy4gU2VlIGAgK1xuICAgICAgICAgICAgICBgaHR0cHM6Ly9saXQuZGV2L21zZy9jbGFzcy1maWVsZC1zaGFkb3dpbmcgYCArXG4gICAgICAgICAgICAgIGBmb3IgbW9yZSBpbmZvcm1hdGlvbi5gXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gTWl4aW4gaW5zdGFuY2UgcHJvcGVydGllcyBvbmNlLCBpZiB0aGV5IGV4aXN0LlxuICAgICAgaWYgKHRoaXMuX19pbnN0YW5jZVByb3BlcnRpZXMpIHtcbiAgICAgICAgLy8gVE9ETyAoanVzdGluZmFnbmFuaSk6IHNob3VsZCB3ZSB1c2UgdGhlIHN0b3JlZCB2YWx1ZT8gQ291bGQgYSBuZXcgdmFsdWVcbiAgICAgICAgLy8gaGF2ZSBiZWVuIHNldCBzaW5jZSB3ZSBzdG9yZWQgdGhlIG93biBwcm9wZXJ0eSB2YWx1ZT9cbiAgICAgICAgZm9yIChjb25zdCBbcCwgdmFsdWVdIG9mIHRoaXMuX19pbnN0YW5jZVByb3BlcnRpZXMpIHtcbiAgICAgICAgICB0aGlzW3AgYXMga2V5b2YgdGhpc10gPSB2YWx1ZSBhcyB0aGlzW2tleW9mIHRoaXNdO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX19pbnN0YW5jZVByb3BlcnRpZXMgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICAvLyBUcmlnZ2VyIGluaXRpYWwgdmFsdWUgcmVmbGVjdGlvbiBhbmQgcG9wdWxhdGUgdGhlIGluaXRpYWxcbiAgICAgIC8vIGBjaGFuZ2VkUHJvcGVydGllc2AgbWFwLCBidXQgb25seSBmb3IgdGhlIGNhc2Ugb2YgcHJvcGVydGllcyBjcmVhdGVkXG4gICAgICAvLyB2aWEgYGNyZWF0ZVByb3BlcnR5YCBvbiBhY2Nlc3NvcnMsIHdoaWNoIHdpbGwgbm90IGhhdmUgYWxyZWFkeVxuICAgICAgLy8gcG9wdWxhdGVkIHRoZSBgY2hhbmdlZFByb3BlcnRpZXNgIG1hcCBzaW5jZSB0aGV5IGFyZSBub3Qgc2V0LlxuICAgICAgLy8gV2UgY2FuJ3Qga25vdyBpZiB0aGVzZSBhY2Nlc3NvcnMgaGFkIGluaXRpYWxpemVycywgc28gd2UganVzdCBzZXRcbiAgICAgIC8vIHRoZW0gYW55d2F5IC0gYSBkaWZmZXJlbmNlIGZyb20gZXhwZXJpbWVudGFsIGRlY29yYXRvcnMgb24gZmllbGRzIGFuZFxuICAgICAgLy8gc3RhbmRhcmQgZGVjb3JhdG9ycyBvbiBhdXRvLWFjY2Vzc29ycy5cbiAgICAgIC8vIEZvciBjb250ZXh0IHNlZTpcbiAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9saXQvbGl0L3B1bGwvNDE4MyNpc3N1ZWNvbW1lbnQtMTcxMTk1OTYzNVxuICAgICAgY29uc3QgZWxlbWVudFByb3BlcnRpZXMgPSAodGhpcy5jb25zdHJ1Y3RvciBhcyB0eXBlb2YgUmVhY3RpdmVFbGVtZW50KVxuICAgICAgICAuZWxlbWVudFByb3BlcnRpZXM7XG4gICAgICBpZiAoZWxlbWVudFByb3BlcnRpZXMuc2l6ZSA+IDApIHtcbiAgICAgICAgZm9yIChjb25zdCBbcCwgb3B0aW9uc10gb2YgZWxlbWVudFByb3BlcnRpZXMpIHtcbiAgICAgICAgICBjb25zdCB7d3JhcHBlZH0gPSBvcHRpb25zO1xuICAgICAgICAgIGNvbnN0IHZhbHVlID0gdGhpc1twIGFzIGtleW9mIHRoaXNdO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIHdyYXBwZWQgPT09IHRydWUgJiZcbiAgICAgICAgICAgICF0aGlzLl8kY2hhbmdlZFByb3BlcnRpZXMuaGFzKHApICYmXG4gICAgICAgICAgICB2YWx1ZSAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICB0aGlzLl8kY2hhbmdlUHJvcGVydHkocCwgdW5kZWZpbmVkLCBvcHRpb25zLCB2YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGxldCBzaG91bGRVcGRhdGUgPSBmYWxzZTtcbiAgICBjb25zdCBjaGFuZ2VkUHJvcGVydGllcyA9IHRoaXMuXyRjaGFuZ2VkUHJvcGVydGllcztcbiAgICB0cnkge1xuICAgICAgc2hvdWxkVXBkYXRlID0gdGhpcy5zaG91bGRVcGRhdGUoY2hhbmdlZFByb3BlcnRpZXMpO1xuICAgICAgaWYgKHNob3VsZFVwZGF0ZSkge1xuICAgICAgICB0aGlzLndpbGxVcGRhdGUoY2hhbmdlZFByb3BlcnRpZXMpO1xuICAgICAgICB0aGlzLl9fY29udHJvbGxlcnM/LmZvckVhY2goKGMpID0+IGMuaG9zdFVwZGF0ZT8uKCkpO1xuICAgICAgICB0aGlzLnVwZGF0ZShjaGFuZ2VkUHJvcGVydGllcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9fbWFya1VwZGF0ZWQoKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAvLyBQcmV2ZW50IGBmaXJzdFVwZGF0ZWRgIGFuZCBgdXBkYXRlZGAgZnJvbSBydW5uaW5nIHdoZW4gdGhlcmUncyBhblxuICAgICAgLy8gdXBkYXRlIGV4Y2VwdGlvbi5cbiAgICAgIHNob3VsZFVwZGF0ZSA9IGZhbHNlO1xuICAgICAgLy8gRW5zdXJlIGVsZW1lbnQgY2FuIGFjY2VwdCBhZGRpdGlvbmFsIHVwZGF0ZXMgYWZ0ZXIgYW4gZXhjZXB0aW9uLlxuICAgICAgdGhpcy5fX21hcmtVcGRhdGVkKCk7XG4gICAgICB0aHJvdyBlO1xuICAgIH1cbiAgICAvLyBUaGUgdXBkYXRlIGlzIG5vIGxvbmdlciBjb25zaWRlcmVkIHBlbmRpbmcgYW5kIGZ1cnRoZXIgdXBkYXRlcyBhcmUgbm93IGFsbG93ZWQuXG4gICAgaWYgKHNob3VsZFVwZGF0ZSkge1xuICAgICAgdGhpcy5fJGRpZFVwZGF0ZShjaGFuZ2VkUHJvcGVydGllcyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEludm9rZWQgYmVmb3JlIGB1cGRhdGUoKWAgdG8gY29tcHV0ZSB2YWx1ZXMgbmVlZGVkIGR1cmluZyB0aGUgdXBkYXRlLlxuICAgKlxuICAgKiBJbXBsZW1lbnQgYHdpbGxVcGRhdGVgIHRvIGNvbXB1dGUgcHJvcGVydHkgdmFsdWVzIHRoYXQgZGVwZW5kIG9uIG90aGVyXG4gICAqIHByb3BlcnRpZXMgYW5kIGFyZSB1c2VkIGluIHRoZSByZXN0IG9mIHRoZSB1cGRhdGUgcHJvY2Vzcy5cbiAgICpcbiAgICogYGBgdHNcbiAgICogd2lsbFVwZGF0ZShjaGFuZ2VkUHJvcGVydGllcykge1xuICAgKiAgIC8vIG9ubHkgbmVlZCB0byBjaGVjayBjaGFuZ2VkIHByb3BlcnRpZXMgZm9yIGFuIGV4cGVuc2l2ZSBjb21wdXRhdGlvbi5cbiAgICogICBpZiAoY2hhbmdlZFByb3BlcnRpZXMuaGFzKCdmaXJzdE5hbWUnKSB8fCBjaGFuZ2VkUHJvcGVydGllcy5oYXMoJ2xhc3ROYW1lJykpIHtcbiAgICogICAgIHRoaXMuc2hhID0gY29tcHV0ZVNIQShgJHt0aGlzLmZpcnN0TmFtZX0gJHt0aGlzLmxhc3ROYW1lfWApO1xuICAgKiAgIH1cbiAgICogfVxuICAgKlxuICAgKiByZW5kZXIoKSB7XG4gICAqICAgcmV0dXJuIGh0bWxgU0hBOiAke3RoaXMuc2hhfWA7XG4gICAqIH1cbiAgICogYGBgXG4gICAqXG4gICAqIEBjYXRlZ29yeSB1cGRhdGVzXG4gICAqL1xuICBwcm90ZWN0ZWQgd2lsbFVwZGF0ZShfY2hhbmdlZFByb3BlcnRpZXM6IFByb3BlcnR5VmFsdWVzKTogdm9pZCB7fVxuXG4gIC8vIE5vdGUsIHRoaXMgaXMgYW4gb3ZlcnJpZGUgcG9pbnQgZm9yIHBvbHlmaWxsLXN1cHBvcnQuXG4gIC8vIEBpbnRlcm5hbFxuICBfJGRpZFVwZGF0ZShjaGFuZ2VkUHJvcGVydGllczogUHJvcGVydHlWYWx1ZXMpIHtcbiAgICB0aGlzLl9fY29udHJvbGxlcnM/LmZvckVhY2goKGMpID0+IGMuaG9zdFVwZGF0ZWQ/LigpKTtcbiAgICBpZiAoIXRoaXMuaGFzVXBkYXRlZCkge1xuICAgICAgdGhpcy5oYXNVcGRhdGVkID0gdHJ1ZTtcbiAgICAgIHRoaXMuZmlyc3RVcGRhdGVkKGNoYW5nZWRQcm9wZXJ0aWVzKTtcbiAgICB9XG4gICAgdGhpcy51cGRhdGVkKGNoYW5nZWRQcm9wZXJ0aWVzKTtcbiAgICBpZiAoXG4gICAgICBERVZfTU9ERSAmJlxuICAgICAgdGhpcy5pc1VwZGF0ZVBlbmRpbmcgJiZcbiAgICAgICh0aGlzLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBSZWFjdGl2ZUVsZW1lbnQpLmVuYWJsZWRXYXJuaW5ncyEuaW5jbHVkZXMoXG4gICAgICAgICdjaGFuZ2UtaW4tdXBkYXRlJ1xuICAgICAgKVxuICAgICkge1xuICAgICAgaXNzdWVXYXJuaW5nKFxuICAgICAgICAnY2hhbmdlLWluLXVwZGF0ZScsXG4gICAgICAgIGBFbGVtZW50ICR7dGhpcy5sb2NhbE5hbWV9IHNjaGVkdWxlZCBhbiB1cGRhdGUgYCArXG4gICAgICAgICAgYChnZW5lcmFsbHkgYmVjYXVzZSBhIHByb3BlcnR5IHdhcyBzZXQpIGAgK1xuICAgICAgICAgIGBhZnRlciBhbiB1cGRhdGUgY29tcGxldGVkLCBjYXVzaW5nIGEgbmV3IHVwZGF0ZSB0byBiZSBzY2hlZHVsZWQuIGAgK1xuICAgICAgICAgIGBUaGlzIGlzIGluZWZmaWNpZW50IGFuZCBzaG91bGQgYmUgYXZvaWRlZCB1bmxlc3MgdGhlIG5leHQgdXBkYXRlIGAgK1xuICAgICAgICAgIGBjYW4gb25seSBiZSBzY2hlZHVsZWQgYXMgYSBzaWRlIGVmZmVjdCBvZiB0aGUgcHJldmlvdXMgdXBkYXRlLmBcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBfX21hcmtVcGRhdGVkKCkge1xuICAgIHRoaXMuXyRjaGFuZ2VkUHJvcGVydGllcyA9IG5ldyBNYXAoKTtcbiAgICB0aGlzLmlzVXBkYXRlUGVuZGluZyA9IGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiB0aGUgZWxlbWVudCBoYXMgY29tcGxldGVkIHVwZGF0aW5nLlxuICAgKiBUaGUgUHJvbWlzZSB2YWx1ZSBpcyBhIGJvb2xlYW4gdGhhdCBpcyBgdHJ1ZWAgaWYgdGhlIGVsZW1lbnQgY29tcGxldGVkIHRoZVxuICAgKiB1cGRhdGUgd2l0aG91dCB0cmlnZ2VyaW5nIGFub3RoZXIgdXBkYXRlLiBUaGUgUHJvbWlzZSByZXN1bHQgaXMgYGZhbHNlYCBpZlxuICAgKiBhIHByb3BlcnR5IHdhcyBzZXQgaW5zaWRlIGB1cGRhdGVkKClgLiBJZiB0aGUgUHJvbWlzZSBpcyByZWplY3RlZCwgYW5cbiAgICogZXhjZXB0aW9uIHdhcyB0aHJvd24gZHVyaW5nIHRoZSB1cGRhdGUuXG4gICAqXG4gICAqIFRvIGF3YWl0IGFkZGl0aW9uYWwgYXN5bmNocm9ub3VzIHdvcmssIG92ZXJyaWRlIHRoZSBgZ2V0VXBkYXRlQ29tcGxldGVgXG4gICAqIG1ldGhvZC4gRm9yIGV4YW1wbGUsIGl0IGlzIHNvbWV0aW1lcyB1c2VmdWwgdG8gYXdhaXQgYSByZW5kZXJlZCBlbGVtZW50XG4gICAqIGJlZm9yZSBmdWxmaWxsaW5nIHRoaXMgUHJvbWlzZS4gVG8gZG8gdGhpcywgZmlyc3QgYXdhaXRcbiAgICogYHN1cGVyLmdldFVwZGF0ZUNvbXBsZXRlKClgLCB0aGVuIGFueSBzdWJzZXF1ZW50IHN0YXRlLlxuICAgKlxuICAgKiBAcmV0dXJuIEEgcHJvbWlzZSBvZiBhIGJvb2xlYW4gdGhhdCByZXNvbHZlcyB0byB0cnVlIGlmIHRoZSB1cGRhdGUgY29tcGxldGVkXG4gICAqICAgICB3aXRob3V0IHRyaWdnZXJpbmcgYW5vdGhlciB1cGRhdGUuXG4gICAqIEBjYXRlZ29yeSB1cGRhdGVzXG4gICAqL1xuICBnZXQgdXBkYXRlQ29tcGxldGUoKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0VXBkYXRlQ29tcGxldGUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBPdmVycmlkZSBwb2ludCBmb3IgdGhlIGB1cGRhdGVDb21wbGV0ZWAgcHJvbWlzZS5cbiAgICpcbiAgICogSXQgaXMgbm90IHNhZmUgdG8gb3ZlcnJpZGUgdGhlIGB1cGRhdGVDb21wbGV0ZWAgZ2V0dGVyIGRpcmVjdGx5IGR1ZSB0byBhXG4gICAqIGxpbWl0YXRpb24gaW4gVHlwZVNjcmlwdCB3aGljaCBtZWFucyBpdCBpcyBub3QgcG9zc2libGUgdG8gY2FsbCBhXG4gICAqIHN1cGVyY2xhc3MgZ2V0dGVyIChlLmcuIGBzdXBlci51cGRhdGVDb21wbGV0ZS50aGVuKC4uLilgKSB3aGVuIHRoZSB0YXJnZXRcbiAgICogbGFuZ3VhZ2UgaXMgRVM1IChodHRwczovL2dpdGh1Yi5jb20vbWljcm9zb2Z0L1R5cGVTY3JpcHQvaXNzdWVzLzMzOCkuXG4gICAqIFRoaXMgbWV0aG9kIHNob3VsZCBiZSBvdmVycmlkZGVuIGluc3RlYWQuIEZvciBleGFtcGxlOlxuICAgKlxuICAgKiBgYGB0c1xuICAgKiBjbGFzcyBNeUVsZW1lbnQgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgICogICBvdmVycmlkZSBhc3luYyBnZXRVcGRhdGVDb21wbGV0ZSgpIHtcbiAgICogICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHN1cGVyLmdldFVwZGF0ZUNvbXBsZXRlKCk7XG4gICAqICAgICBhd2FpdCB0aGlzLl9teUNoaWxkLnVwZGF0ZUNvbXBsZXRlO1xuICAgKiAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICogICB9XG4gICAqIH1cbiAgICogYGBgXG4gICAqXG4gICAqIEByZXR1cm4gQSBwcm9taXNlIG9mIGEgYm9vbGVhbiB0aGF0IHJlc29sdmVzIHRvIHRydWUgaWYgdGhlIHVwZGF0ZSBjb21wbGV0ZWRcbiAgICogICAgIHdpdGhvdXQgdHJpZ2dlcmluZyBhbm90aGVyIHVwZGF0ZS5cbiAgICogQGNhdGVnb3J5IHVwZGF0ZXNcbiAgICovXG4gIHByb3RlY3RlZCBnZXRVcGRhdGVDb21wbGV0ZSgpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICByZXR1cm4gdGhpcy5fX3VwZGF0ZVByb21pc2U7XG4gIH1cblxuICAvKipcbiAgICogQ29udHJvbHMgd2hldGhlciBvciBub3QgYHVwZGF0ZSgpYCBzaG91bGQgYmUgY2FsbGVkIHdoZW4gdGhlIGVsZW1lbnQgcmVxdWVzdHNcbiAgICogYW4gdXBkYXRlLiBCeSBkZWZhdWx0LCB0aGlzIG1ldGhvZCBhbHdheXMgcmV0dXJucyBgdHJ1ZWAsIGJ1dCB0aGlzIGNhbiBiZVxuICAgKiBjdXN0b21pemVkIHRvIGNvbnRyb2wgd2hlbiB0byB1cGRhdGUuXG4gICAqXG4gICAqIEBwYXJhbSBfY2hhbmdlZFByb3BlcnRpZXMgTWFwIG9mIGNoYW5nZWQgcHJvcGVydGllcyB3aXRoIG9sZCB2YWx1ZXNcbiAgICogQGNhdGVnb3J5IHVwZGF0ZXNcbiAgICovXG4gIHByb3RlY3RlZCBzaG91bGRVcGRhdGUoX2NoYW5nZWRQcm9wZXJ0aWVzOiBQcm9wZXJ0eVZhbHVlcyk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIGVsZW1lbnQuIFRoaXMgbWV0aG9kIHJlZmxlY3RzIHByb3BlcnR5IHZhbHVlcyB0byBhdHRyaWJ1dGVzLlxuICAgKiBJdCBjYW4gYmUgb3ZlcnJpZGRlbiB0byByZW5kZXIgYW5kIGtlZXAgdXBkYXRlZCBlbGVtZW50IERPTS5cbiAgICogU2V0dGluZyBwcm9wZXJ0aWVzIGluc2lkZSB0aGlzIG1ldGhvZCB3aWxsICpub3QqIHRyaWdnZXJcbiAgICogYW5vdGhlciB1cGRhdGUuXG4gICAqXG4gICAqIEBwYXJhbSBfY2hhbmdlZFByb3BlcnRpZXMgTWFwIG9mIGNoYW5nZWQgcHJvcGVydGllcyB3aXRoIG9sZCB2YWx1ZXNcbiAgICogQGNhdGVnb3J5IHVwZGF0ZXNcbiAgICovXG4gIHByb3RlY3RlZCB1cGRhdGUoX2NoYW5nZWRQcm9wZXJ0aWVzOiBQcm9wZXJ0eVZhbHVlcykge1xuICAgIC8vIFRoZSBmb3JFYWNoKCkgZXhwcmVzc2lvbiB3aWxsIG9ubHkgcnVuIHdoZW4gX19yZWZsZWN0aW5nUHJvcGVydGllcyBpc1xuICAgIC8vIGRlZmluZWQsIGFuZCBpdCByZXR1cm5zIHVuZGVmaW5lZCwgc2V0dGluZyBfX3JlZmxlY3RpbmdQcm9wZXJ0aWVzIHRvXG4gICAgLy8gdW5kZWZpbmVkXG4gICAgdGhpcy5fX3JlZmxlY3RpbmdQcm9wZXJ0aWVzICYmPSB0aGlzLl9fcmVmbGVjdGluZ1Byb3BlcnRpZXMuZm9yRWFjaCgocCkgPT5cbiAgICAgIHRoaXMuX19wcm9wZXJ0eVRvQXR0cmlidXRlKHAsIHRoaXNbcCBhcyBrZXlvZiB0aGlzXSlcbiAgICApIGFzIHVuZGVmaW5lZDtcbiAgICB0aGlzLl9fbWFya1VwZGF0ZWQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbnZva2VkIHdoZW5ldmVyIHRoZSBlbGVtZW50IGlzIHVwZGF0ZWQuIEltcGxlbWVudCB0byBwZXJmb3JtXG4gICAqIHBvc3QtdXBkYXRpbmcgdGFza3MgdmlhIERPTSBBUElzLCBmb3IgZXhhbXBsZSwgZm9jdXNpbmcgYW4gZWxlbWVudC5cbiAgICpcbiAgICogU2V0dGluZyBwcm9wZXJ0aWVzIGluc2lkZSB0aGlzIG1ldGhvZCB3aWxsIHRyaWdnZXIgdGhlIGVsZW1lbnQgdG8gdXBkYXRlXG4gICAqIGFnYWluIGFmdGVyIHRoaXMgdXBkYXRlIGN5Y2xlIGNvbXBsZXRlcy5cbiAgICpcbiAgICogQHBhcmFtIF9jaGFuZ2VkUHJvcGVydGllcyBNYXAgb2YgY2hhbmdlZCBwcm9wZXJ0aWVzIHdpdGggb2xkIHZhbHVlc1xuICAgKiBAY2F0ZWdvcnkgdXBkYXRlc1xuICAgKi9cbiAgcHJvdGVjdGVkIHVwZGF0ZWQoX2NoYW5nZWRQcm9wZXJ0aWVzOiBQcm9wZXJ0eVZhbHVlcykge31cblxuICAvKipcbiAgICogSW52b2tlZCB3aGVuIHRoZSBlbGVtZW50IGlzIGZpcnN0IHVwZGF0ZWQuIEltcGxlbWVudCB0byBwZXJmb3JtIG9uZSB0aW1lXG4gICAqIHdvcmsgb24gdGhlIGVsZW1lbnQgYWZ0ZXIgdXBkYXRlLlxuICAgKlxuICAgKiBgYGB0c1xuICAgKiBmaXJzdFVwZGF0ZWQoKSB7XG4gICAqICAgdGhpcy5yZW5kZXJSb290LmdldEVsZW1lbnRCeUlkKCdteS10ZXh0LWFyZWEnKS5mb2N1cygpO1xuICAgKiB9XG4gICAqIGBgYFxuICAgKlxuICAgKiBTZXR0aW5nIHByb3BlcnRpZXMgaW5zaWRlIHRoaXMgbWV0aG9kIHdpbGwgdHJpZ2dlciB0aGUgZWxlbWVudCB0byB1cGRhdGVcbiAgICogYWdhaW4gYWZ0ZXIgdGhpcyB1cGRhdGUgY3ljbGUgY29tcGxldGVzLlxuICAgKlxuICAgKiBAcGFyYW0gX2NoYW5nZWRQcm9wZXJ0aWVzIE1hcCBvZiBjaGFuZ2VkIHByb3BlcnRpZXMgd2l0aCBvbGQgdmFsdWVzXG4gICAqIEBjYXRlZ29yeSB1cGRhdGVzXG4gICAqL1xuICBwcm90ZWN0ZWQgZmlyc3RVcGRhdGVkKF9jaGFuZ2VkUHJvcGVydGllczogUHJvcGVydHlWYWx1ZXMpIHt9XG59XG4vLyBBc3NpZ25lZCBoZXJlIHRvIHdvcmsgYXJvdW5kIGEganNjb21waWxlciBidWcgd2l0aCBzdGF0aWMgZmllbGRzXG4vLyB3aGVuIGNvbXBpbGluZyB0byBFUzUuXG4vLyBodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlL2Nsb3N1cmUtY29tcGlsZXIvaXNzdWVzLzMxNzdcbihSZWFjdGl2ZUVsZW1lbnQgYXMgdW5rbm93biBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPilbXG4gIEpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkoJ2VsZW1lbnRQcm9wZXJ0aWVzJywgUmVhY3RpdmVFbGVtZW50KVxuXSA9IG5ldyBNYXAoKTtcbihSZWFjdGl2ZUVsZW1lbnQgYXMgdW5rbm93biBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPilbXG4gIEpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkoJ2ZpbmFsaXplZCcsIFJlYWN0aXZlRWxlbWVudClcbl0gPSBuZXcgTWFwKCk7XG5cbi8vIEFwcGx5IHBvbHlmaWxscyBpZiBhdmFpbGFibGVcbnBvbHlmaWxsU3VwcG9ydD8uKHtSZWFjdGl2ZUVsZW1lbnR9KTtcblxuLy8gRGV2IG1vZGUgd2FybmluZ3MuLi5cbmlmIChERVZfTU9ERSkge1xuICAvLyBEZWZhdWx0IHdhcm5pbmcgc2V0LlxuICBSZWFjdGl2ZUVsZW1lbnQuZW5hYmxlZFdhcm5pbmdzID0gW1xuICAgICdjaGFuZ2UtaW4tdXBkYXRlJyxcbiAgICAnYXN5bmMtcGVyZm9ybS11cGRhdGUnLFxuICBdO1xuICBjb25zdCBlbnN1cmVPd25XYXJuaW5ncyA9IGZ1bmN0aW9uIChjdG9yOiB0eXBlb2YgUmVhY3RpdmVFbGVtZW50KSB7XG4gICAgaWYgKFxuICAgICAgIWN0b3IuaGFzT3duUHJvcGVydHkoSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSgnZW5hYmxlZFdhcm5pbmdzJywgY3RvcikpXG4gICAgKSB7XG4gICAgICBjdG9yLmVuYWJsZWRXYXJuaW5ncyA9IGN0b3IuZW5hYmxlZFdhcm5pbmdzIS5zbGljZSgpO1xuICAgIH1cbiAgfTtcbiAgUmVhY3RpdmVFbGVtZW50LmVuYWJsZVdhcm5pbmcgPSBmdW5jdGlvbiAoXG4gICAgdGhpczogdHlwZW9mIFJlYWN0aXZlRWxlbWVudCxcbiAgICB3YXJuaW5nOiBXYXJuaW5nS2luZFxuICApIHtcbiAgICBlbnN1cmVPd25XYXJuaW5ncyh0aGlzKTtcbiAgICBpZiAoIXRoaXMuZW5hYmxlZFdhcm5pbmdzIS5pbmNsdWRlcyh3YXJuaW5nKSkge1xuICAgICAgdGhpcy5lbmFibGVkV2FybmluZ3MhLnB1c2god2FybmluZyk7XG4gICAgfVxuICB9O1xuICBSZWFjdGl2ZUVsZW1lbnQuZGlzYWJsZVdhcm5pbmcgPSBmdW5jdGlvbiAoXG4gICAgdGhpczogdHlwZW9mIFJlYWN0aXZlRWxlbWVudCxcbiAgICB3YXJuaW5nOiBXYXJuaW5nS2luZFxuICApIHtcbiAgICBlbnN1cmVPd25XYXJuaW5ncyh0aGlzKTtcbiAgICBjb25zdCBpID0gdGhpcy5lbmFibGVkV2FybmluZ3MhLmluZGV4T2Yod2FybmluZyk7XG4gICAgaWYgKGkgPj0gMCkge1xuICAgICAgdGhpcy5lbmFibGVkV2FybmluZ3MhLnNwbGljZShpLCAxKTtcbiAgICB9XG4gIH07XG59XG5cbi8vIElNUE9SVEFOVDogZG8gbm90IGNoYW5nZSB0aGUgcHJvcGVydHkgbmFtZSBvciB0aGUgYXNzaWdubWVudCBleHByZXNzaW9uLlxuLy8gVGhpcyBsaW5lIHdpbGwgYmUgdXNlZCBpbiByZWdleGVzIHRvIHNlYXJjaCBmb3IgUmVhY3RpdmVFbGVtZW50IHVzYWdlLlxuKGdsb2JhbC5yZWFjdGl2ZUVsZW1lbnRWZXJzaW9ucyA/Pz0gW10pLnB1c2goJzIuMS4wJyk7XG5pZiAoREVWX01PREUgJiYgZ2xvYmFsLnJlYWN0aXZlRWxlbWVudFZlcnNpb25zLmxlbmd0aCA+IDEpIHtcbiAgcXVldWVNaWNyb3Rhc2soKCkgPT4ge1xuICAgIGlzc3VlV2FybmluZyEoXG4gICAgICAnbXVsdGlwbGUtdmVyc2lvbnMnLFxuICAgICAgYE11bHRpcGxlIHZlcnNpb25zIG9mIExpdCBsb2FkZWQuIExvYWRpbmcgbXVsdGlwbGUgdmVyc2lvbnMgYCArXG4gICAgICAgIGBpcyBub3QgcmVjb21tZW5kZWQuYFxuICAgICk7XG4gIH0pO1xufVxuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEJTRC0zLUNsYXVzZVxuICovXG5jb25zdCB0PWdsb2JhbFRoaXMsZT10LlNoYWRvd1Jvb3QmJih2b2lkIDA9PT10LlNoYWR5Q1NTfHx0LlNoYWR5Q1NTLm5hdGl2ZVNoYWRvdykmJlwiYWRvcHRlZFN0eWxlU2hlZXRzXCJpbiBEb2N1bWVudC5wcm90b3R5cGUmJlwicmVwbGFjZVwiaW4gQ1NTU3R5bGVTaGVldC5wcm90b3R5cGUscz1TeW1ib2woKSxvPW5ldyBXZWFrTWFwO2NsYXNzIG57Y29uc3RydWN0b3IodCxlLG8pe2lmKHRoaXMuXyRjc3NSZXN1bHQkPSEwLG8hPT1zKXRocm93IEVycm9yKFwiQ1NTUmVzdWx0IGlzIG5vdCBjb25zdHJ1Y3RhYmxlLiBVc2UgYHVuc2FmZUNTU2Agb3IgYGNzc2AgaW5zdGVhZC5cIik7dGhpcy5jc3NUZXh0PXQsdGhpcy50PWV9Z2V0IHN0eWxlU2hlZXQoKXtsZXQgdD10aGlzLm87Y29uc3Qgcz10aGlzLnQ7aWYoZSYmdm9pZCAwPT09dCl7Y29uc3QgZT12b2lkIDAhPT1zJiYxPT09cy5sZW5ndGg7ZSYmKHQ9by5nZXQocykpLHZvaWQgMD09PXQmJigodGhpcy5vPXQ9bmV3IENTU1N0eWxlU2hlZXQpLnJlcGxhY2VTeW5jKHRoaXMuY3NzVGV4dCksZSYmby5zZXQocyx0KSl9cmV0dXJuIHR9dG9TdHJpbmcoKXtyZXR1cm4gdGhpcy5jc3NUZXh0fX1jb25zdCByPXQ9Pm5ldyBuKFwic3RyaW5nXCI9PXR5cGVvZiB0P3Q6dCtcIlwiLHZvaWQgMCxzKSxpPSh0LC4uLmUpPT57Y29uc3Qgbz0xPT09dC5sZW5ndGg/dFswXTplLnJlZHVjZSgoKGUscyxvKT0+ZSsodD0+e2lmKCEwPT09dC5fJGNzc1Jlc3VsdCQpcmV0dXJuIHQuY3NzVGV4dDtpZihcIm51bWJlclwiPT10eXBlb2YgdClyZXR1cm4gdDt0aHJvdyBFcnJvcihcIlZhbHVlIHBhc3NlZCB0byAnY3NzJyBmdW5jdGlvbiBtdXN0IGJlIGEgJ2NzcycgZnVuY3Rpb24gcmVzdWx0OiBcIit0K1wiLiBVc2UgJ3Vuc2FmZUNTUycgdG8gcGFzcyBub24tbGl0ZXJhbCB2YWx1ZXMsIGJ1dCB0YWtlIGNhcmUgdG8gZW5zdXJlIHBhZ2Ugc2VjdXJpdHkuXCIpfSkocykrdFtvKzFdKSx0WzBdKTtyZXR1cm4gbmV3IG4obyx0LHMpfSxTPShzLG8pPT57aWYoZSlzLmFkb3B0ZWRTdHlsZVNoZWV0cz1vLm1hcCgodD0+dCBpbnN0YW5jZW9mIENTU1N0eWxlU2hlZXQ/dDp0LnN0eWxlU2hlZXQpKTtlbHNlIGZvcihjb25zdCBlIG9mIG8pe2NvbnN0IG89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpLG49dC5saXROb25jZTt2b2lkIDAhPT1uJiZvLnNldEF0dHJpYnV0ZShcIm5vbmNlXCIsbiksby50ZXh0Q29udGVudD1lLmNzc1RleHQscy5hcHBlbmRDaGlsZChvKX19LGM9ZT90PT50OnQ9PnQgaW5zdGFuY2VvZiBDU1NTdHlsZVNoZWV0Pyh0PT57bGV0IGU9XCJcIjtmb3IoY29uc3QgcyBvZiB0LmNzc1J1bGVzKWUrPXMuY3NzVGV4dDtyZXR1cm4gcihlKX0pKHQpOnQ7ZXhwb3J0e24gYXMgQ1NTUmVzdWx0LFMgYXMgYWRvcHRTdHlsZXMsaSBhcyBjc3MsYyBhcyBnZXRDb21wYXRpYmxlU3R5bGUsZSBhcyBzdXBwb3J0c0Fkb3B0aW5nU3R5bGVTaGVldHMsciBhcyB1bnNhZmVDU1N9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y3NzLXRhZy5qcy5tYXBcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBCU0QtMy1DbGF1c2VcbiAqL1xuXG5jb25zdCBOT0RFX01PREUgPSBmYWxzZTtcblxuLy8gQWxsb3dzIG1pbmlmaWVycyB0byByZW5hbWUgcmVmZXJlbmNlcyB0byBnbG9iYWxUaGlzXG5jb25zdCBnbG9iYWwgPSBnbG9iYWxUaGlzO1xuXG4vKipcbiAqIFdoZXRoZXIgdGhlIGN1cnJlbnQgYnJvd3NlciBzdXBwb3J0cyBgYWRvcHRlZFN0eWxlU2hlZXRzYC5cbiAqL1xuZXhwb3J0IGNvbnN0IHN1cHBvcnRzQWRvcHRpbmdTdHlsZVNoZWV0czogYm9vbGVhbiA9XG4gIGdsb2JhbC5TaGFkb3dSb290ICYmXG4gIChnbG9iYWwuU2hhZHlDU1MgPT09IHVuZGVmaW5lZCB8fCBnbG9iYWwuU2hhZHlDU1MubmF0aXZlU2hhZG93KSAmJlxuICAnYWRvcHRlZFN0eWxlU2hlZXRzJyBpbiBEb2N1bWVudC5wcm90b3R5cGUgJiZcbiAgJ3JlcGxhY2UnIGluIENTU1N0eWxlU2hlZXQucHJvdG90eXBlO1xuXG4vKipcbiAqIEEgQ1NTUmVzdWx0IG9yIG5hdGl2ZSBDU1NTdHlsZVNoZWV0LlxuICpcbiAqIEluIGJyb3dzZXJzIHRoYXQgc3VwcG9ydCBjb25zdHJ1Y3RpYmxlIENTUyBzdHlsZSBzaGVldHMsIENTU1N0eWxlU2hlZXRcbiAqIG9iamVjdCBjYW4gYmUgdXNlZCBmb3Igc3R5bGluZyBhbG9uZyBzaWRlIENTU1Jlc3VsdCBmcm9tIHRoZSBgY3NzYFxuICogdGVtcGxhdGUgdGFnLlxuICovXG5leHBvcnQgdHlwZSBDU1NSZXN1bHRPck5hdGl2ZSA9IENTU1Jlc3VsdCB8IENTU1N0eWxlU2hlZXQ7XG5cbmV4cG9ydCB0eXBlIENTU1Jlc3VsdEFycmF5ID0gQXJyYXk8Q1NTUmVzdWx0T3JOYXRpdmUgfCBDU1NSZXN1bHRBcnJheT47XG5cbi8qKlxuICogQSBzaW5nbGUgQ1NTUmVzdWx0LCBDU1NTdHlsZVNoZWV0LCBvciBhbiBhcnJheSBvciBuZXN0ZWQgYXJyYXlzIG9mIHRob3NlLlxuICovXG5leHBvcnQgdHlwZSBDU1NSZXN1bHRHcm91cCA9IENTU1Jlc3VsdE9yTmF0aXZlIHwgQ1NTUmVzdWx0QXJyYXk7XG5cbmNvbnN0IGNvbnN0cnVjdGlvblRva2VuID0gU3ltYm9sKCk7XG5cbmNvbnN0IGNzc1RhZ0NhY2hlID0gbmV3IFdlYWtNYXA8VGVtcGxhdGVTdHJpbmdzQXJyYXksIENTU1N0eWxlU2hlZXQ+KCk7XG5cbi8qKlxuICogQSBjb250YWluZXIgZm9yIGEgc3RyaW5nIG9mIENTUyB0ZXh0LCB0aGF0IG1heSBiZSB1c2VkIHRvIGNyZWF0ZSBhIENTU1N0eWxlU2hlZXQuXG4gKlxuICogQ1NTUmVzdWx0IGlzIHRoZSByZXR1cm4gdmFsdWUgb2YgYGNzc2AtdGFnZ2VkIHRlbXBsYXRlIGxpdGVyYWxzIGFuZFxuICogYHVuc2FmZUNTUygpYC4gSW4gb3JkZXIgdG8gZW5zdXJlIHRoYXQgQ1NTUmVzdWx0cyBhcmUgb25seSBjcmVhdGVkIHZpYSB0aGVcbiAqIGBjc3NgIHRhZyBhbmQgYHVuc2FmZUNTUygpYCwgQ1NTUmVzdWx0IGNhbm5vdCBiZSBjb25zdHJ1Y3RlZCBkaXJlY3RseS5cbiAqL1xuZXhwb3J0IGNsYXNzIENTU1Jlc3VsdCB7XG4gIC8vIFRoaXMgcHJvcGVydHkgbmVlZHMgdG8gcmVtYWluIHVubWluaWZpZWQuXG4gIFsnXyRjc3NSZXN1bHQkJ10gPSB0cnVlO1xuICByZWFkb25seSBjc3NUZXh0OiBzdHJpbmc7XG4gIHByaXZhdGUgX3N0eWxlU2hlZXQ/OiBDU1NTdHlsZVNoZWV0O1xuICBwcml2YXRlIF9zdHJpbmdzOiBUZW1wbGF0ZVN0cmluZ3NBcnJheSB8IHVuZGVmaW5lZDtcblxuICBwcml2YXRlIGNvbnN0cnVjdG9yKFxuICAgIGNzc1RleHQ6IHN0cmluZyxcbiAgICBzdHJpbmdzOiBUZW1wbGF0ZVN0cmluZ3NBcnJheSB8IHVuZGVmaW5lZCxcbiAgICBzYWZlVG9rZW46IHN5bWJvbFxuICApIHtcbiAgICBpZiAoc2FmZVRva2VuICE9PSBjb25zdHJ1Y3Rpb25Ub2tlbikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnQ1NTUmVzdWx0IGlzIG5vdCBjb25zdHJ1Y3RhYmxlLiBVc2UgYHVuc2FmZUNTU2Agb3IgYGNzc2AgaW5zdGVhZC4nXG4gICAgICApO1xuICAgIH1cbiAgICB0aGlzLmNzc1RleHQgPSBjc3NUZXh0O1xuICAgIHRoaXMuX3N0cmluZ3MgPSBzdHJpbmdzO1xuICB9XG5cbiAgLy8gVGhpcyBpcyBhIGdldHRlciBzbyB0aGF0IGl0J3MgbGF6eS4gSW4gcHJhY3RpY2UsIHRoaXMgbWVhbnMgc3R5bGVzaGVldHNcbiAgLy8gYXJlIG5vdCBjcmVhdGVkIHVudGlsIHRoZSBmaXJzdCBlbGVtZW50IGluc3RhbmNlIGlzIG1hZGUuXG4gIGdldCBzdHlsZVNoZWV0KCk6IENTU1N0eWxlU2hlZXQgfCB1bmRlZmluZWQge1xuICAgIC8vIElmIGBzdXBwb3J0c0Fkb3B0aW5nU3R5bGVTaGVldHNgIGlzIHRydWUgdGhlbiB3ZSBhc3N1bWUgQ1NTU3R5bGVTaGVldCBpc1xuICAgIC8vIGNvbnN0cnVjdGFibGUuXG4gICAgbGV0IHN0eWxlU2hlZXQgPSB0aGlzLl9zdHlsZVNoZWV0O1xuICAgIGNvbnN0IHN0cmluZ3MgPSB0aGlzLl9zdHJpbmdzO1xuICAgIGlmIChzdXBwb3J0c0Fkb3B0aW5nU3R5bGVTaGVldHMgJiYgc3R5bGVTaGVldCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb25zdCBjYWNoZWFibGUgPSBzdHJpbmdzICE9PSB1bmRlZmluZWQgJiYgc3RyaW5ncy5sZW5ndGggPT09IDE7XG4gICAgICBpZiAoY2FjaGVhYmxlKSB7XG4gICAgICAgIHN0eWxlU2hlZXQgPSBjc3NUYWdDYWNoZS5nZXQoc3RyaW5ncyk7XG4gICAgICB9XG4gICAgICBpZiAoc3R5bGVTaGVldCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICh0aGlzLl9zdHlsZVNoZWV0ID0gc3R5bGVTaGVldCA9IG5ldyBDU1NTdHlsZVNoZWV0KCkpLnJlcGxhY2VTeW5jKFxuICAgICAgICAgIHRoaXMuY3NzVGV4dFxuICAgICAgICApO1xuICAgICAgICBpZiAoY2FjaGVhYmxlKSB7XG4gICAgICAgICAgY3NzVGFnQ2FjaGUuc2V0KHN0cmluZ3MsIHN0eWxlU2hlZXQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzdHlsZVNoZWV0O1xuICB9XG5cbiAgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5jc3NUZXh0O1xuICB9XG59XG5cbnR5cGUgQ29uc3RydWN0YWJsZUNTU1Jlc3VsdCA9IENTU1Jlc3VsdCAmIHtcbiAgbmV3IChcbiAgICBjc3NUZXh0OiBzdHJpbmcsXG4gICAgc3RyaW5nczogVGVtcGxhdGVTdHJpbmdzQXJyYXkgfCB1bmRlZmluZWQsXG4gICAgc2FmZVRva2VuOiBzeW1ib2xcbiAgKTogQ1NTUmVzdWx0O1xufTtcblxuY29uc3QgdGV4dEZyb21DU1NSZXN1bHQgPSAodmFsdWU6IENTU1Jlc3VsdEdyb3VwIHwgbnVtYmVyKSA9PiB7XG4gIC8vIFRoaXMgcHJvcGVydHkgbmVlZHMgdG8gcmVtYWluIHVubWluaWZpZWQuXG4gIGlmICgodmFsdWUgYXMgQ1NTUmVzdWx0KVsnXyRjc3NSZXN1bHQkJ10gPT09IHRydWUpIHtcbiAgICByZXR1cm4gKHZhbHVlIGFzIENTU1Jlc3VsdCkuY3NzVGV4dDtcbiAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGBWYWx1ZSBwYXNzZWQgdG8gJ2NzcycgZnVuY3Rpb24gbXVzdCBiZSBhICdjc3MnIGZ1bmN0aW9uIHJlc3VsdDogYCArXG4gICAgICAgIGAke3ZhbHVlfS4gVXNlICd1bnNhZmVDU1MnIHRvIHBhc3Mgbm9uLWxpdGVyYWwgdmFsdWVzLCBidXQgdGFrZSBjYXJlIGAgK1xuICAgICAgICBgdG8gZW5zdXJlIHBhZ2Ugc2VjdXJpdHkuYFxuICAgICk7XG4gIH1cbn07XG5cbi8qKlxuICogV3JhcCBhIHZhbHVlIGZvciBpbnRlcnBvbGF0aW9uIGluIGEge0BsaW5rY29kZSBjc3N9IHRhZ2dlZCB0ZW1wbGF0ZSBsaXRlcmFsLlxuICpcbiAqIFRoaXMgaXMgdW5zYWZlIGJlY2F1c2UgdW50cnVzdGVkIENTUyB0ZXh0IGNhbiBiZSB1c2VkIHRvIHBob25lIGhvbWVcbiAqIG9yIGV4ZmlsdHJhdGUgZGF0YSB0byBhbiBhdHRhY2tlciBjb250cm9sbGVkIHNpdGUuIFRha2UgY2FyZSB0byBvbmx5IHVzZVxuICogdGhpcyB3aXRoIHRydXN0ZWQgaW5wdXQuXG4gKi9cbmV4cG9ydCBjb25zdCB1bnNhZmVDU1MgPSAodmFsdWU6IHVua25vd24pID0+XG4gIG5ldyAoQ1NTUmVzdWx0IGFzIENvbnN0cnVjdGFibGVDU1NSZXN1bHQpKFxuICAgIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgPyB2YWx1ZSA6IFN0cmluZyh2YWx1ZSksXG4gICAgdW5kZWZpbmVkLFxuICAgIGNvbnN0cnVjdGlvblRva2VuXG4gICk7XG5cbi8qKlxuICogQSB0ZW1wbGF0ZSBsaXRlcmFsIHRhZyB3aGljaCBjYW4gYmUgdXNlZCB3aXRoIExpdEVsZW1lbnQnc1xuICoge0BsaW5rY29kZSBMaXRFbGVtZW50LnN0eWxlc30gcHJvcGVydHkgdG8gc2V0IGVsZW1lbnQgc3R5bGVzLlxuICpcbiAqIEZvciBzZWN1cml0eSByZWFzb25zLCBvbmx5IGxpdGVyYWwgc3RyaW5nIHZhbHVlcyBhbmQgbnVtYmVyIG1heSBiZSB1c2VkIGluXG4gKiBlbWJlZGRlZCBleHByZXNzaW9ucy4gVG8gaW5jb3Jwb3JhdGUgbm9uLWxpdGVyYWwgdmFsdWVzIHtAbGlua2NvZGUgdW5zYWZlQ1NTfVxuICogbWF5IGJlIHVzZWQgaW5zaWRlIGFuIGV4cHJlc3Npb24uXG4gKi9cbmV4cG9ydCBjb25zdCBjc3MgPSAoXG4gIHN0cmluZ3M6IFRlbXBsYXRlU3RyaW5nc0FycmF5LFxuICAuLi52YWx1ZXM6IChDU1NSZXN1bHRHcm91cCB8IG51bWJlcilbXVxuKTogQ1NTUmVzdWx0ID0+IHtcbiAgY29uc3QgY3NzVGV4dCA9XG4gICAgc3RyaW5ncy5sZW5ndGggPT09IDFcbiAgICAgID8gc3RyaW5nc1swXVxuICAgICAgOiB2YWx1ZXMucmVkdWNlKFxuICAgICAgICAgIChhY2MsIHYsIGlkeCkgPT4gYWNjICsgdGV4dEZyb21DU1NSZXN1bHQodikgKyBzdHJpbmdzW2lkeCArIDFdLFxuICAgICAgICAgIHN0cmluZ3NbMF1cbiAgICAgICAgKTtcbiAgcmV0dXJuIG5ldyAoQ1NTUmVzdWx0IGFzIENvbnN0cnVjdGFibGVDU1NSZXN1bHQpKFxuICAgIGNzc1RleHQsXG4gICAgc3RyaW5ncyxcbiAgICBjb25zdHJ1Y3Rpb25Ub2tlblxuICApO1xufTtcblxuLyoqXG4gKiBBcHBsaWVzIHRoZSBnaXZlbiBzdHlsZXMgdG8gYSBgc2hhZG93Um9vdGAuIFdoZW4gU2hhZG93IERPTSBpc1xuICogYXZhaWxhYmxlIGJ1dCBgYWRvcHRlZFN0eWxlU2hlZXRzYCBpcyBub3QsIHN0eWxlcyBhcmUgYXBwZW5kZWQgdG8gdGhlXG4gKiBgc2hhZG93Um9vdGAgdG8gW21pbWljIHRoZSBuYXRpdmUgZmVhdHVyZV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1NoYWRvd1Jvb3QvYWRvcHRlZFN0eWxlU2hlZXRzKS5cbiAqIE5vdGUsIHdoZW4gc2hpbW1pbmcgaXMgdXNlZCwgYW55IHN0eWxlcyB0aGF0IGFyZSBzdWJzZXF1ZW50bHkgcGxhY2VkIGludG9cbiAqIHRoZSBzaGFkb3dSb290IHNob3VsZCBiZSBwbGFjZWQgKmJlZm9yZSogYW55IHNoaW1tZWQgYWRvcHRlZCBzdHlsZXMuIFRoaXNcbiAqIHdpbGwgbWF0Y2ggc3BlYyBiZWhhdmlvciB0aGF0IGdpdmVzIGFkb3B0ZWQgc2hlZXRzIHByZWNlZGVuY2Ugb3ZlciBzdHlsZXMgaW5cbiAqIHNoYWRvd1Jvb3QuXG4gKi9cbmV4cG9ydCBjb25zdCBhZG9wdFN0eWxlcyA9IChcbiAgcmVuZGVyUm9vdDogU2hhZG93Um9vdCxcbiAgc3R5bGVzOiBBcnJheTxDU1NSZXN1bHRPck5hdGl2ZT5cbikgPT4ge1xuICBpZiAoc3VwcG9ydHNBZG9wdGluZ1N0eWxlU2hlZXRzKSB7XG4gICAgKHJlbmRlclJvb3QgYXMgU2hhZG93Um9vdCkuYWRvcHRlZFN0eWxlU2hlZXRzID0gc3R5bGVzLm1hcCgocykgPT5cbiAgICAgIHMgaW5zdGFuY2VvZiBDU1NTdHlsZVNoZWV0ID8gcyA6IHMuc3R5bGVTaGVldCFcbiAgICApO1xuICB9IGVsc2Uge1xuICAgIGZvciAoY29uc3QgcyBvZiBzdHlsZXMpIHtcbiAgICAgIGNvbnN0IHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICBjb25zdCBub25jZSA9IChnbG9iYWwgYXMgYW55KVsnbGl0Tm9uY2UnXTtcbiAgICAgIGlmIChub25jZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHN0eWxlLnNldEF0dHJpYnV0ZSgnbm9uY2UnLCBub25jZSk7XG4gICAgICB9XG4gICAgICBzdHlsZS50ZXh0Q29udGVudCA9IChzIGFzIENTU1Jlc3VsdCkuY3NzVGV4dDtcbiAgICAgIHJlbmRlclJvb3QuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICAgIH1cbiAgfVxufTtcblxuY29uc3QgY3NzUmVzdWx0RnJvbVN0eWxlU2hlZXQgPSAoc2hlZXQ6IENTU1N0eWxlU2hlZXQpID0+IHtcbiAgbGV0IGNzc1RleHQgPSAnJztcbiAgZm9yIChjb25zdCBydWxlIG9mIHNoZWV0LmNzc1J1bGVzKSB7XG4gICAgY3NzVGV4dCArPSBydWxlLmNzc1RleHQ7XG4gIH1cbiAgcmV0dXJuIHVuc2FmZUNTUyhjc3NUZXh0KTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRDb21wYXRpYmxlU3R5bGUgPVxuICBzdXBwb3J0c0Fkb3B0aW5nU3R5bGVTaGVldHMgfHxcbiAgKE5PREVfTU9ERSAmJiBnbG9iYWwuQ1NTU3R5bGVTaGVldCA9PT0gdW5kZWZpbmVkKVxuICAgID8gKHM6IENTU1Jlc3VsdE9yTmF0aXZlKSA9PiBzXG4gICAgOiAoczogQ1NTUmVzdWx0T3JOYXRpdmUpID0+XG4gICAgICAgIHMgaW5zdGFuY2VvZiBDU1NTdHlsZVNoZWV0ID8gY3NzUmVzdWx0RnJvbVN0eWxlU2hlZXQocykgOiBzO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEJTRC0zLUNsYXVzZVxuICovXG5jb25zdCB0PWdsb2JhbFRoaXMsaT10LnRydXN0ZWRUeXBlcyxzPWk/aS5jcmVhdGVQb2xpY3koXCJsaXQtaHRtbFwiLHtjcmVhdGVIVE1MOnQ9PnR9KTp2b2lkIDAsZT1cIiRsaXQkXCIsaD1gbGl0JCR7TWF0aC5yYW5kb20oKS50b0ZpeGVkKDkpLnNsaWNlKDIpfSRgLG89XCI/XCIraCxuPWA8JHtvfT5gLHI9ZG9jdW1lbnQsbD0oKT0+ci5jcmVhdGVDb21tZW50KFwiXCIpLGM9dD0+bnVsbD09PXR8fFwib2JqZWN0XCIhPXR5cGVvZiB0JiZcImZ1bmN0aW9uXCIhPXR5cGVvZiB0LGE9QXJyYXkuaXNBcnJheSx1PXQ9PmEodCl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/LltTeW1ib2wuaXRlcmF0b3JdLGQ9XCJbIFxcdFxcblxcZlxccl1cIixmPS88KD86KCEtLXxcXC9bXmEtekEtWl0pfChcXC8/W2EtekEtWl1bXj5cXHNdKil8KFxcLz8kKSkvZyx2PS8tLT4vZyxfPS8+L2csbT1SZWdFeHAoYD58JHtkfSg/OihbXlxcXFxzXCInPj0vXSspKCR7ZH0qPSR7ZH0qKD86W14gXFx0XFxuXFxmXFxyXCInXFxgPD49XXwoXCJ8Jyl8KSl8JClgLFwiZ1wiKSxwPS8nL2csZz0vXCIvZywkPS9eKD86c2NyaXB0fHN0eWxlfHRleHRhcmVhfHRpdGxlKSQvaSx5PXQ9PihpLC4uLnMpPT4oe18kbGl0VHlwZSQ6dCxzdHJpbmdzOmksdmFsdWVzOnN9KSx4PXkoMSksYj15KDIpLHc9eSgzKSxUPVN5bWJvbC5mb3IoXCJsaXQtbm9DaGFuZ2VcIiksRT1TeW1ib2wuZm9yKFwibGl0LW5vdGhpbmdcIiksQT1uZXcgV2Vha01hcCxDPXIuY3JlYXRlVHJlZVdhbGtlcihyLDEyOSk7ZnVuY3Rpb24gUCh0LGkpe2lmKCFhKHQpfHwhdC5oYXNPd25Qcm9wZXJ0eShcInJhd1wiKSl0aHJvdyBFcnJvcihcImludmFsaWQgdGVtcGxhdGUgc3RyaW5ncyBhcnJheVwiKTtyZXR1cm4gdm9pZCAwIT09cz9zLmNyZWF0ZUhUTUwoaSk6aX1jb25zdCBWPSh0LGkpPT57Y29uc3Qgcz10Lmxlbmd0aC0xLG89W107bGV0IHIsbD0yPT09aT9cIjxzdmc+XCI6Mz09PWk/XCI8bWF0aD5cIjpcIlwiLGM9Zjtmb3IobGV0IGk9MDtpPHM7aSsrKXtjb25zdCBzPXRbaV07bGV0IGEsdSxkPS0xLHk9MDtmb3IoO3k8cy5sZW5ndGgmJihjLmxhc3RJbmRleD15LHU9Yy5leGVjKHMpLG51bGwhPT11KTspeT1jLmxhc3RJbmRleCxjPT09Zj9cIiEtLVwiPT09dVsxXT9jPXY6dm9pZCAwIT09dVsxXT9jPV86dm9pZCAwIT09dVsyXT8oJC50ZXN0KHVbMl0pJiYocj1SZWdFeHAoXCI8L1wiK3VbMl0sXCJnXCIpKSxjPW0pOnZvaWQgMCE9PXVbM10mJihjPW0pOmM9PT1tP1wiPlwiPT09dVswXT8oYz1yPz9mLGQ9LTEpOnZvaWQgMD09PXVbMV0/ZD0tMjooZD1jLmxhc3RJbmRleC11WzJdLmxlbmd0aCxhPXVbMV0sYz12b2lkIDA9PT11WzNdP206J1wiJz09PXVbM10/ZzpwKTpjPT09Z3x8Yz09PXA/Yz1tOmM9PT12fHxjPT09Xz9jPWY6KGM9bSxyPXZvaWQgMCk7Y29uc3QgeD1jPT09bSYmdFtpKzFdLnN0YXJ0c1dpdGgoXCIvPlwiKT9cIiBcIjpcIlwiO2wrPWM9PT1mP3MrbjpkPj0wPyhvLnB1c2goYSkscy5zbGljZSgwLGQpK2Urcy5zbGljZShkKStoK3gpOnMraCsoLTI9PT1kP2k6eCl9cmV0dXJuW1AodCxsKyh0W3NdfHxcIjw/PlwiKSsoMj09PWk/XCI8L3N2Zz5cIjozPT09aT9cIjwvbWF0aD5cIjpcIlwiKSksb119O2NsYXNzIE57Y29uc3RydWN0b3Ioe3N0cmluZ3M6dCxfJGxpdFR5cGUkOnN9LG4pe2xldCByO3RoaXMucGFydHM9W107bGV0IGM9MCxhPTA7Y29uc3QgdT10Lmxlbmd0aC0xLGQ9dGhpcy5wYXJ0cyxbZix2XT1WKHQscyk7aWYodGhpcy5lbD1OLmNyZWF0ZUVsZW1lbnQoZixuKSxDLmN1cnJlbnROb2RlPXRoaXMuZWwuY29udGVudCwyPT09c3x8Mz09PXMpe2NvbnN0IHQ9dGhpcy5lbC5jb250ZW50LmZpcnN0Q2hpbGQ7dC5yZXBsYWNlV2l0aCguLi50LmNoaWxkTm9kZXMpfWZvcig7bnVsbCE9PShyPUMubmV4dE5vZGUoKSkmJmQubGVuZ3RoPHU7KXtpZigxPT09ci5ub2RlVHlwZSl7aWYoci5oYXNBdHRyaWJ1dGVzKCkpZm9yKGNvbnN0IHQgb2Ygci5nZXRBdHRyaWJ1dGVOYW1lcygpKWlmKHQuZW5kc1dpdGgoZSkpe2NvbnN0IGk9dlthKytdLHM9ci5nZXRBdHRyaWJ1dGUodCkuc3BsaXQoaCksZT0vKFsuP0BdKT8oLiopLy5leGVjKGkpO2QucHVzaCh7dHlwZToxLGluZGV4OmMsbmFtZTplWzJdLHN0cmluZ3M6cyxjdG9yOlwiLlwiPT09ZVsxXT9IOlwiP1wiPT09ZVsxXT9JOlwiQFwiPT09ZVsxXT9MOmt9KSxyLnJlbW92ZUF0dHJpYnV0ZSh0KX1lbHNlIHQuc3RhcnRzV2l0aChoKSYmKGQucHVzaCh7dHlwZTo2LGluZGV4OmN9KSxyLnJlbW92ZUF0dHJpYnV0ZSh0KSk7aWYoJC50ZXN0KHIudGFnTmFtZSkpe2NvbnN0IHQ9ci50ZXh0Q29udGVudC5zcGxpdChoKSxzPXQubGVuZ3RoLTE7aWYocz4wKXtyLnRleHRDb250ZW50PWk/aS5lbXB0eVNjcmlwdDpcIlwiO2ZvcihsZXQgaT0wO2k8cztpKyspci5hcHBlbmQodFtpXSxsKCkpLEMubmV4dE5vZGUoKSxkLnB1c2goe3R5cGU6MixpbmRleDorK2N9KTtyLmFwcGVuZCh0W3NdLGwoKSl9fX1lbHNlIGlmKDg9PT1yLm5vZGVUeXBlKWlmKHIuZGF0YT09PW8pZC5wdXNoKHt0eXBlOjIsaW5kZXg6Y30pO2Vsc2V7bGV0IHQ9LTE7Zm9yKDstMSE9PSh0PXIuZGF0YS5pbmRleE9mKGgsdCsxKSk7KWQucHVzaCh7dHlwZTo3LGluZGV4OmN9KSx0Kz1oLmxlbmd0aC0xfWMrK319c3RhdGljIGNyZWF0ZUVsZW1lbnQodCxpKXtjb25zdCBzPXIuY3JlYXRlRWxlbWVudChcInRlbXBsYXRlXCIpO3JldHVybiBzLmlubmVySFRNTD10LHN9fWZ1bmN0aW9uIFModCxpLHM9dCxlKXtpZihpPT09VClyZXR1cm4gaTtsZXQgaD12b2lkIDAhPT1lP3MuXyRDbz8uW2VdOnMuXyRDbDtjb25zdCBvPWMoaSk/dm9pZCAwOmkuXyRsaXREaXJlY3RpdmUkO3JldHVybiBoPy5jb25zdHJ1Y3RvciE9PW8mJihoPy5fJEFPPy4oITEpLHZvaWQgMD09PW8/aD12b2lkIDA6KGg9bmV3IG8odCksaC5fJEFUKHQscyxlKSksdm9pZCAwIT09ZT8ocy5fJENvPz89W10pW2VdPWg6cy5fJENsPWgpLHZvaWQgMCE9PWgmJihpPVModCxoLl8kQVModCxpLnZhbHVlcyksaCxlKSksaX1jbGFzcyBNe2NvbnN0cnVjdG9yKHQsaSl7dGhpcy5fJEFWPVtdLHRoaXMuXyRBTj12b2lkIDAsdGhpcy5fJEFEPXQsdGhpcy5fJEFNPWl9Z2V0IHBhcmVudE5vZGUoKXtyZXR1cm4gdGhpcy5fJEFNLnBhcmVudE5vZGV9Z2V0IF8kQVUoKXtyZXR1cm4gdGhpcy5fJEFNLl8kQVV9dSh0KXtjb25zdHtlbDp7Y29udGVudDppfSxwYXJ0czpzfT10aGlzLl8kQUQsZT0odD8uY3JlYXRpb25TY29wZT8/cikuaW1wb3J0Tm9kZShpLCEwKTtDLmN1cnJlbnROb2RlPWU7bGV0IGg9Qy5uZXh0Tm9kZSgpLG89MCxuPTAsbD1zWzBdO2Zvcig7dm9pZCAwIT09bDspe2lmKG89PT1sLmluZGV4KXtsZXQgaTsyPT09bC50eXBlP2k9bmV3IFIoaCxoLm5leHRTaWJsaW5nLHRoaXMsdCk6MT09PWwudHlwZT9pPW5ldyBsLmN0b3IoaCxsLm5hbWUsbC5zdHJpbmdzLHRoaXMsdCk6Nj09PWwudHlwZSYmKGk9bmV3IHooaCx0aGlzLHQpKSx0aGlzLl8kQVYucHVzaChpKSxsPXNbKytuXX1vIT09bD8uaW5kZXgmJihoPUMubmV4dE5vZGUoKSxvKyspfXJldHVybiBDLmN1cnJlbnROb2RlPXIsZX1wKHQpe2xldCBpPTA7Zm9yKGNvbnN0IHMgb2YgdGhpcy5fJEFWKXZvaWQgMCE9PXMmJih2b2lkIDAhPT1zLnN0cmluZ3M/KHMuXyRBSSh0LHMsaSksaSs9cy5zdHJpbmdzLmxlbmd0aC0yKTpzLl8kQUkodFtpXSkpLGkrK319Y2xhc3MgUntnZXQgXyRBVSgpe3JldHVybiB0aGlzLl8kQU0/Ll8kQVU/P3RoaXMuXyRDdn1jb25zdHJ1Y3Rvcih0LGkscyxlKXt0aGlzLnR5cGU9Mix0aGlzLl8kQUg9RSx0aGlzLl8kQU49dm9pZCAwLHRoaXMuXyRBQT10LHRoaXMuXyRBQj1pLHRoaXMuXyRBTT1zLHRoaXMub3B0aW9ucz1lLHRoaXMuXyRDdj1lPy5pc0Nvbm5lY3RlZD8/ITB9Z2V0IHBhcmVudE5vZGUoKXtsZXQgdD10aGlzLl8kQUEucGFyZW50Tm9kZTtjb25zdCBpPXRoaXMuXyRBTTtyZXR1cm4gdm9pZCAwIT09aSYmMTE9PT10Py5ub2RlVHlwZSYmKHQ9aS5wYXJlbnROb2RlKSx0fWdldCBzdGFydE5vZGUoKXtyZXR1cm4gdGhpcy5fJEFBfWdldCBlbmROb2RlKCl7cmV0dXJuIHRoaXMuXyRBQn1fJEFJKHQsaT10aGlzKXt0PVModGhpcyx0LGkpLGModCk/dD09PUV8fG51bGw9PXR8fFwiXCI9PT10Pyh0aGlzLl8kQUghPT1FJiZ0aGlzLl8kQVIoKSx0aGlzLl8kQUg9RSk6dCE9PXRoaXMuXyRBSCYmdCE9PVQmJnRoaXMuXyh0KTp2b2lkIDAhPT10Ll8kbGl0VHlwZSQ/dGhpcy4kKHQpOnZvaWQgMCE9PXQubm9kZVR5cGU/dGhpcy5UKHQpOnUodCk/dGhpcy5rKHQpOnRoaXMuXyh0KX1PKHQpe3JldHVybiB0aGlzLl8kQUEucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodCx0aGlzLl8kQUIpfVQodCl7dGhpcy5fJEFIIT09dCYmKHRoaXMuXyRBUigpLHRoaXMuXyRBSD10aGlzLk8odCkpfV8odCl7dGhpcy5fJEFIIT09RSYmYyh0aGlzLl8kQUgpP3RoaXMuXyRBQS5uZXh0U2libGluZy5kYXRhPXQ6dGhpcy5UKHIuY3JlYXRlVGV4dE5vZGUodCkpLHRoaXMuXyRBSD10fSQodCl7Y29uc3R7dmFsdWVzOmksXyRsaXRUeXBlJDpzfT10LGU9XCJudW1iZXJcIj09dHlwZW9mIHM/dGhpcy5fJEFDKHQpOih2b2lkIDA9PT1zLmVsJiYocy5lbD1OLmNyZWF0ZUVsZW1lbnQoUChzLmgscy5oWzBdKSx0aGlzLm9wdGlvbnMpKSxzKTtpZih0aGlzLl8kQUg/Ll8kQUQ9PT1lKXRoaXMuXyRBSC5wKGkpO2Vsc2V7Y29uc3QgdD1uZXcgTShlLHRoaXMpLHM9dC51KHRoaXMub3B0aW9ucyk7dC5wKGkpLHRoaXMuVChzKSx0aGlzLl8kQUg9dH19XyRBQyh0KXtsZXQgaT1BLmdldCh0LnN0cmluZ3MpO3JldHVybiB2b2lkIDA9PT1pJiZBLnNldCh0LnN0cmluZ3MsaT1uZXcgTih0KSksaX1rKHQpe2EodGhpcy5fJEFIKXx8KHRoaXMuXyRBSD1bXSx0aGlzLl8kQVIoKSk7Y29uc3QgaT10aGlzLl8kQUg7bGV0IHMsZT0wO2Zvcihjb25zdCBoIG9mIHQpZT09PWkubGVuZ3RoP2kucHVzaChzPW5ldyBSKHRoaXMuTyhsKCkpLHRoaXMuTyhsKCkpLHRoaXMsdGhpcy5vcHRpb25zKSk6cz1pW2VdLHMuXyRBSShoKSxlKys7ZTxpLmxlbmd0aCYmKHRoaXMuXyRBUihzJiZzLl8kQUIubmV4dFNpYmxpbmcsZSksaS5sZW5ndGg9ZSl9XyRBUih0PXRoaXMuXyRBQS5uZXh0U2libGluZyxpKXtmb3IodGhpcy5fJEFQPy4oITEsITAsaSk7dCYmdCE9PXRoaXMuXyRBQjspe2NvbnN0IGk9dC5uZXh0U2libGluZzt0LnJlbW92ZSgpLHQ9aX19c2V0Q29ubmVjdGVkKHQpe3ZvaWQgMD09PXRoaXMuXyRBTSYmKHRoaXMuXyRDdj10LHRoaXMuXyRBUD8uKHQpKX19Y2xhc3Mga3tnZXQgdGFnTmFtZSgpe3JldHVybiB0aGlzLmVsZW1lbnQudGFnTmFtZX1nZXQgXyRBVSgpe3JldHVybiB0aGlzLl8kQU0uXyRBVX1jb25zdHJ1Y3Rvcih0LGkscyxlLGgpe3RoaXMudHlwZT0xLHRoaXMuXyRBSD1FLHRoaXMuXyRBTj12b2lkIDAsdGhpcy5lbGVtZW50PXQsdGhpcy5uYW1lPWksdGhpcy5fJEFNPWUsdGhpcy5vcHRpb25zPWgscy5sZW5ndGg+Mnx8XCJcIiE9PXNbMF18fFwiXCIhPT1zWzFdPyh0aGlzLl8kQUg9QXJyYXkocy5sZW5ndGgtMSkuZmlsbChuZXcgU3RyaW5nKSx0aGlzLnN0cmluZ3M9cyk6dGhpcy5fJEFIPUV9XyRBSSh0LGk9dGhpcyxzLGUpe2NvbnN0IGg9dGhpcy5zdHJpbmdzO2xldCBvPSExO2lmKHZvaWQgMD09PWgpdD1TKHRoaXMsdCxpLDApLG89IWModCl8fHQhPT10aGlzLl8kQUgmJnQhPT1ULG8mJih0aGlzLl8kQUg9dCk7ZWxzZXtjb25zdCBlPXQ7bGV0IG4scjtmb3IodD1oWzBdLG49MDtuPGgubGVuZ3RoLTE7bisrKXI9Uyh0aGlzLGVbcytuXSxpLG4pLHI9PT1UJiYocj10aGlzLl8kQUhbbl0pLG98fD0hYyhyKXx8ciE9PXRoaXMuXyRBSFtuXSxyPT09RT90PUU6dCE9PUUmJih0Kz0ocj8/XCJcIikraFtuKzFdKSx0aGlzLl8kQUhbbl09cn1vJiYhZSYmdGhpcy5qKHQpfWoodCl7dD09PUU/dGhpcy5lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSh0aGlzLm5hbWUpOnRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUodGhpcy5uYW1lLHQ/P1wiXCIpfX1jbGFzcyBIIGV4dGVuZHMga3tjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy50eXBlPTN9aih0KXt0aGlzLmVsZW1lbnRbdGhpcy5uYW1lXT10PT09RT92b2lkIDA6dH19Y2xhc3MgSSBleHRlbmRzIGt7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMudHlwZT00fWoodCl7dGhpcy5lbGVtZW50LnRvZ2dsZUF0dHJpYnV0ZSh0aGlzLm5hbWUsISF0JiZ0IT09RSl9fWNsYXNzIEwgZXh0ZW5kcyBre2NvbnN0cnVjdG9yKHQsaSxzLGUsaCl7c3VwZXIodCxpLHMsZSxoKSx0aGlzLnR5cGU9NX1fJEFJKHQsaT10aGlzKXtpZigodD1TKHRoaXMsdCxpLDApPz9FKT09PVQpcmV0dXJuO2NvbnN0IHM9dGhpcy5fJEFILGU9dD09PUUmJnMhPT1FfHx0LmNhcHR1cmUhPT1zLmNhcHR1cmV8fHQub25jZSE9PXMub25jZXx8dC5wYXNzaXZlIT09cy5wYXNzaXZlLGg9dCE9PUUmJihzPT09RXx8ZSk7ZSYmdGhpcy5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIodGhpcy5uYW1lLHRoaXMscyksaCYmdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIodGhpcy5uYW1lLHRoaXMsdCksdGhpcy5fJEFIPXR9aGFuZGxlRXZlbnQodCl7XCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcy5fJEFIP3RoaXMuXyRBSC5jYWxsKHRoaXMub3B0aW9ucz8uaG9zdD8/dGhpcy5lbGVtZW50LHQpOnRoaXMuXyRBSC5oYW5kbGVFdmVudCh0KX19Y2xhc3Mgentjb25zdHJ1Y3Rvcih0LGkscyl7dGhpcy5lbGVtZW50PXQsdGhpcy50eXBlPTYsdGhpcy5fJEFOPXZvaWQgMCx0aGlzLl8kQU09aSx0aGlzLm9wdGlvbnM9c31nZXQgXyRBVSgpe3JldHVybiB0aGlzLl8kQU0uXyRBVX1fJEFJKHQpe1ModGhpcyx0KX19Y29uc3QgWj17TTplLFA6aCxBOm8sQzoxLEw6VixSOk0sRDp1LFY6UyxJOlIsSDprLE46SSxVOkwsQjpILEY6en0saj10LmxpdEh0bWxQb2x5ZmlsbFN1cHBvcnQ7aj8uKE4sUiksKHQubGl0SHRtbFZlcnNpb25zPz89W10pLnB1c2goXCIzLjMuMFwiKTtjb25zdCBCPSh0LGkscyk9Pntjb25zdCBlPXM/LnJlbmRlckJlZm9yZT8/aTtsZXQgaD1lLl8kbGl0UGFydCQ7aWYodm9pZCAwPT09aCl7Y29uc3QgdD1zPy5yZW5kZXJCZWZvcmU/P251bGw7ZS5fJGxpdFBhcnQkPWg9bmV3IFIoaS5pbnNlcnRCZWZvcmUobCgpLHQpLHQsdm9pZCAwLHM/P3t9KX1yZXR1cm4gaC5fJEFJKHQpLGh9O2V4cG9ydHtaIGFzIF8kTEgseCBhcyBodG1sLHcgYXMgbWF0aG1sLFQgYXMgbm9DaGFuZ2UsRSBhcyBub3RoaW5nLEIgYXMgcmVuZGVyLGIgYXMgc3ZnfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxpdC1odG1sLmpzLm1hcFxuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEJTRC0zLUNsYXVzZVxuICovXG5cbi8vIElNUE9SVEFOVDogdGhlc2UgaW1wb3J0cyBtdXN0IGJlIHR5cGUtb25seVxuaW1wb3J0IHR5cGUge0RpcmVjdGl2ZSwgRGlyZWN0aXZlUmVzdWx0LCBQYXJ0SW5mb30gZnJvbSAnLi9kaXJlY3RpdmUuanMnO1xuaW1wb3J0IHR5cGUge1RydXN0ZWRIVE1MLCBUcnVzdGVkVHlwZXNXaW5kb3d9IGZyb20gJ3RydXN0ZWQtdHlwZXMvbGliL2luZGV4LmpzJztcblxuY29uc3QgREVWX01PREUgPSB0cnVlO1xuY29uc3QgRU5BQkxFX0VYVFJBX1NFQ1VSSVRZX0hPT0tTID0gdHJ1ZTtcbmNvbnN0IEVOQUJMRV9TSEFEWURPTV9OT1BBVENIID0gdHJ1ZTtcbmNvbnN0IE5PREVfTU9ERSA9IGZhbHNlO1xuXG4vLyBBbGxvd3MgbWluaWZpZXJzIHRvIHJlbmFtZSByZWZlcmVuY2VzIHRvIGdsb2JhbFRoaXNcbmNvbnN0IGdsb2JhbCA9IGdsb2JhbFRoaXM7XG5cbi8qKlxuICogQ29udGFpbnMgdHlwZXMgdGhhdCBhcmUgcGFydCBvZiB0aGUgdW5zdGFibGUgZGVidWcgQVBJLlxuICpcbiAqIEV2ZXJ5dGhpbmcgaW4gdGhpcyBBUEkgaXMgbm90IHN0YWJsZSBhbmQgbWF5IGNoYW5nZSBvciBiZSByZW1vdmVkIGluIHRoZSBmdXR1cmUsXG4gKiBldmVuIG9uIHBhdGNoIHJlbGVhc2VzLlxuICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5hbWVzcGFjZVxuZXhwb3J0IG5hbWVzcGFjZSBMaXRVbnN0YWJsZSB7XG4gIC8qKlxuICAgKiBXaGVuIExpdCBpcyBydW5uaW5nIGluIGRldiBtb2RlIGFuZCBgd2luZG93LmVtaXRMaXREZWJ1Z0xvZ0V2ZW50c2AgaXMgdHJ1ZSxcbiAgICogd2Ugd2lsbCBlbWl0ICdsaXQtZGVidWcnIGV2ZW50cyB0byB3aW5kb3csIHdpdGggbGl2ZSBkZXRhaWxzIGFib3V0IHRoZSB1cGRhdGUgYW5kIHJlbmRlclxuICAgKiBsaWZlY3ljbGUuIFRoZXNlIGNhbiBiZSB1c2VmdWwgZm9yIHdyaXRpbmcgZGVidWcgdG9vbGluZyBhbmQgdmlzdWFsaXphdGlvbnMuXG4gICAqXG4gICAqIFBsZWFzZSBiZSBhd2FyZSB0aGF0IHJ1bm5pbmcgd2l0aCB3aW5kb3cuZW1pdExpdERlYnVnTG9nRXZlbnRzIGhhcyBwZXJmb3JtYW5jZSBvdmVyaGVhZCxcbiAgICogbWFraW5nIGNlcnRhaW4gb3BlcmF0aW9ucyB0aGF0IGFyZSBub3JtYWxseSB2ZXJ5IGNoZWFwIChsaWtlIGEgbm8tb3AgcmVuZGVyKSBtdWNoIHNsb3dlcixcbiAgICogYmVjYXVzZSB3ZSBtdXN0IGNvcHkgZGF0YSBhbmQgZGlzcGF0Y2ggZXZlbnRzLlxuICAgKi9cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1uYW1lc3BhY2VcbiAgZXhwb3J0IG5hbWVzcGFjZSBEZWJ1Z0xvZyB7XG4gICAgZXhwb3J0IHR5cGUgRW50cnkgPVxuICAgICAgfCBUZW1wbGF0ZVByZXBcbiAgICAgIHwgVGVtcGxhdGVJbnN0YW50aWF0ZWRcbiAgICAgIHwgVGVtcGxhdGVJbnN0YW50aWF0ZWRBbmRVcGRhdGVkXG4gICAgICB8IFRlbXBsYXRlVXBkYXRpbmdcbiAgICAgIHwgQmVnaW5SZW5kZXJcbiAgICAgIHwgRW5kUmVuZGVyXG4gICAgICB8IENvbW1pdFBhcnRFbnRyeVxuICAgICAgfCBTZXRQYXJ0VmFsdWU7XG4gICAgZXhwb3J0IGludGVyZmFjZSBUZW1wbGF0ZVByZXAge1xuICAgICAga2luZDogJ3RlbXBsYXRlIHByZXAnO1xuICAgICAgdGVtcGxhdGU6IFRlbXBsYXRlO1xuICAgICAgc3RyaW5nczogVGVtcGxhdGVTdHJpbmdzQXJyYXk7XG4gICAgICBjbG9uYWJsZVRlbXBsYXRlOiBIVE1MVGVtcGxhdGVFbGVtZW50O1xuICAgICAgcGFydHM6IFRlbXBsYXRlUGFydFtdO1xuICAgIH1cbiAgICBleHBvcnQgaW50ZXJmYWNlIEJlZ2luUmVuZGVyIHtcbiAgICAgIGtpbmQ6ICdiZWdpbiByZW5kZXInO1xuICAgICAgaWQ6IG51bWJlcjtcbiAgICAgIHZhbHVlOiB1bmtub3duO1xuICAgICAgY29udGFpbmVyOiBIVE1MRWxlbWVudCB8IERvY3VtZW50RnJhZ21lbnQ7XG4gICAgICBvcHRpb25zOiBSZW5kZXJPcHRpb25zIHwgdW5kZWZpbmVkO1xuICAgICAgcGFydDogQ2hpbGRQYXJ0IHwgdW5kZWZpbmVkO1xuICAgIH1cbiAgICBleHBvcnQgaW50ZXJmYWNlIEVuZFJlbmRlciB7XG4gICAgICBraW5kOiAnZW5kIHJlbmRlcic7XG4gICAgICBpZDogbnVtYmVyO1xuICAgICAgdmFsdWU6IHVua25vd247XG4gICAgICBjb250YWluZXI6IEhUTUxFbGVtZW50IHwgRG9jdW1lbnRGcmFnbWVudDtcbiAgICAgIG9wdGlvbnM6IFJlbmRlck9wdGlvbnMgfCB1bmRlZmluZWQ7XG4gICAgICBwYXJ0OiBDaGlsZFBhcnQ7XG4gICAgfVxuICAgIGV4cG9ydCBpbnRlcmZhY2UgVGVtcGxhdGVJbnN0YW50aWF0ZWQge1xuICAgICAga2luZDogJ3RlbXBsYXRlIGluc3RhbnRpYXRlZCc7XG4gICAgICB0ZW1wbGF0ZTogVGVtcGxhdGUgfCBDb21waWxlZFRlbXBsYXRlO1xuICAgICAgaW5zdGFuY2U6IFRlbXBsYXRlSW5zdGFuY2U7XG4gICAgICBvcHRpb25zOiBSZW5kZXJPcHRpb25zIHwgdW5kZWZpbmVkO1xuICAgICAgZnJhZ21lbnQ6IE5vZGU7XG4gICAgICBwYXJ0czogQXJyYXk8UGFydCB8IHVuZGVmaW5lZD47XG4gICAgICB2YWx1ZXM6IHVua25vd25bXTtcbiAgICB9XG4gICAgZXhwb3J0IGludGVyZmFjZSBUZW1wbGF0ZUluc3RhbnRpYXRlZEFuZFVwZGF0ZWQge1xuICAgICAga2luZDogJ3RlbXBsYXRlIGluc3RhbnRpYXRlZCBhbmQgdXBkYXRlZCc7XG4gICAgICB0ZW1wbGF0ZTogVGVtcGxhdGUgfCBDb21waWxlZFRlbXBsYXRlO1xuICAgICAgaW5zdGFuY2U6IFRlbXBsYXRlSW5zdGFuY2U7XG4gICAgICBvcHRpb25zOiBSZW5kZXJPcHRpb25zIHwgdW5kZWZpbmVkO1xuICAgICAgZnJhZ21lbnQ6IE5vZGU7XG4gICAgICBwYXJ0czogQXJyYXk8UGFydCB8IHVuZGVmaW5lZD47XG4gICAgICB2YWx1ZXM6IHVua25vd25bXTtcbiAgICB9XG4gICAgZXhwb3J0IGludGVyZmFjZSBUZW1wbGF0ZVVwZGF0aW5nIHtcbiAgICAgIGtpbmQ6ICd0ZW1wbGF0ZSB1cGRhdGluZyc7XG4gICAgICB0ZW1wbGF0ZTogVGVtcGxhdGUgfCBDb21waWxlZFRlbXBsYXRlO1xuICAgICAgaW5zdGFuY2U6IFRlbXBsYXRlSW5zdGFuY2U7XG4gICAgICBvcHRpb25zOiBSZW5kZXJPcHRpb25zIHwgdW5kZWZpbmVkO1xuICAgICAgcGFydHM6IEFycmF5PFBhcnQgfCB1bmRlZmluZWQ+O1xuICAgICAgdmFsdWVzOiB1bmtub3duW107XG4gICAgfVxuICAgIGV4cG9ydCBpbnRlcmZhY2UgU2V0UGFydFZhbHVlIHtcbiAgICAgIGtpbmQ6ICdzZXQgcGFydCc7XG4gICAgICBwYXJ0OiBQYXJ0O1xuICAgICAgdmFsdWU6IHVua25vd247XG4gICAgICB2YWx1ZUluZGV4OiBudW1iZXI7XG4gICAgICB2YWx1ZXM6IHVua25vd25bXTtcbiAgICAgIHRlbXBsYXRlSW5zdGFuY2U6IFRlbXBsYXRlSW5zdGFuY2U7XG4gICAgfVxuXG4gICAgZXhwb3J0IHR5cGUgQ29tbWl0UGFydEVudHJ5ID1cbiAgICAgIHwgQ29tbWl0Tm90aGluZ1RvQ2hpbGRFbnRyeVxuICAgICAgfCBDb21taXRUZXh0XG4gICAgICB8IENvbW1pdE5vZGVcbiAgICAgIHwgQ29tbWl0QXR0cmlidXRlXG4gICAgICB8IENvbW1pdFByb3BlcnR5XG4gICAgICB8IENvbW1pdEJvb2xlYW5BdHRyaWJ1dGVcbiAgICAgIHwgQ29tbWl0RXZlbnRMaXN0ZW5lclxuICAgICAgfCBDb21taXRUb0VsZW1lbnRCaW5kaW5nO1xuXG4gICAgZXhwb3J0IGludGVyZmFjZSBDb21taXROb3RoaW5nVG9DaGlsZEVudHJ5IHtcbiAgICAgIGtpbmQ6ICdjb21taXQgbm90aGluZyB0byBjaGlsZCc7XG4gICAgICBzdGFydDogQ2hpbGROb2RlO1xuICAgICAgZW5kOiBDaGlsZE5vZGUgfCBudWxsO1xuICAgICAgcGFyZW50OiBEaXNjb25uZWN0YWJsZSB8IHVuZGVmaW5lZDtcbiAgICAgIG9wdGlvbnM6IFJlbmRlck9wdGlvbnMgfCB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgZXhwb3J0IGludGVyZmFjZSBDb21taXRUZXh0IHtcbiAgICAgIGtpbmQ6ICdjb21taXQgdGV4dCc7XG4gICAgICBub2RlOiBUZXh0O1xuICAgICAgdmFsdWU6IHVua25vd247XG4gICAgICBvcHRpb25zOiBSZW5kZXJPcHRpb25zIHwgdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGV4cG9ydCBpbnRlcmZhY2UgQ29tbWl0Tm9kZSB7XG4gICAgICBraW5kOiAnY29tbWl0IG5vZGUnO1xuICAgICAgc3RhcnQ6IE5vZGU7XG4gICAgICBwYXJlbnQ6IERpc2Nvbm5lY3RhYmxlIHwgdW5kZWZpbmVkO1xuICAgICAgdmFsdWU6IE5vZGU7XG4gICAgICBvcHRpb25zOiBSZW5kZXJPcHRpb25zIHwgdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGV4cG9ydCBpbnRlcmZhY2UgQ29tbWl0QXR0cmlidXRlIHtcbiAgICAgIGtpbmQ6ICdjb21taXQgYXR0cmlidXRlJztcbiAgICAgIGVsZW1lbnQ6IEVsZW1lbnQ7XG4gICAgICBuYW1lOiBzdHJpbmc7XG4gICAgICB2YWx1ZTogdW5rbm93bjtcbiAgICAgIG9wdGlvbnM6IFJlbmRlck9wdGlvbnMgfCB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgZXhwb3J0IGludGVyZmFjZSBDb21taXRQcm9wZXJ0eSB7XG4gICAgICBraW5kOiAnY29tbWl0IHByb3BlcnR5JztcbiAgICAgIGVsZW1lbnQ6IEVsZW1lbnQ7XG4gICAgICBuYW1lOiBzdHJpbmc7XG4gICAgICB2YWx1ZTogdW5rbm93bjtcbiAgICAgIG9wdGlvbnM6IFJlbmRlck9wdGlvbnMgfCB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgZXhwb3J0IGludGVyZmFjZSBDb21taXRCb29sZWFuQXR0cmlidXRlIHtcbiAgICAgIGtpbmQ6ICdjb21taXQgYm9vbGVhbiBhdHRyaWJ1dGUnO1xuICAgICAgZWxlbWVudDogRWxlbWVudDtcbiAgICAgIG5hbWU6IHN0cmluZztcbiAgICAgIHZhbHVlOiBib29sZWFuO1xuICAgICAgb3B0aW9uczogUmVuZGVyT3B0aW9ucyB8IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBleHBvcnQgaW50ZXJmYWNlIENvbW1pdEV2ZW50TGlzdGVuZXIge1xuICAgICAga2luZDogJ2NvbW1pdCBldmVudCBsaXN0ZW5lcic7XG4gICAgICBlbGVtZW50OiBFbGVtZW50O1xuICAgICAgbmFtZTogc3RyaW5nO1xuICAgICAgdmFsdWU6IHVua25vd247XG4gICAgICBvbGRMaXN0ZW5lcjogdW5rbm93bjtcbiAgICAgIG9wdGlvbnM6IFJlbmRlck9wdGlvbnMgfCB1bmRlZmluZWQ7XG4gICAgICAvLyBUcnVlIGlmIHdlJ3JlIHJlbW92aW5nIHRoZSBvbGQgZXZlbnQgbGlzdGVuZXIgKGUuZy4gYmVjYXVzZSBzZXR0aW5ncyBjaGFuZ2VkLCBvciB2YWx1ZSBpcyBub3RoaW5nKVxuICAgICAgcmVtb3ZlTGlzdGVuZXI6IGJvb2xlYW47XG4gICAgICAvLyBUcnVlIGlmIHdlJ3JlIGFkZGluZyBhIG5ldyBldmVudCBsaXN0ZW5lciAoZS5nLiBiZWNhdXNlIGZpcnN0IHJlbmRlciwgb3Igc2V0dGluZ3MgY2hhbmdlZClcbiAgICAgIGFkZExpc3RlbmVyOiBib29sZWFuO1xuICAgIH1cblxuICAgIGV4cG9ydCBpbnRlcmZhY2UgQ29tbWl0VG9FbGVtZW50QmluZGluZyB7XG4gICAgICBraW5kOiAnY29tbWl0IHRvIGVsZW1lbnQgYmluZGluZyc7XG4gICAgICBlbGVtZW50OiBFbGVtZW50O1xuICAgICAgdmFsdWU6IHVua25vd247XG4gICAgICBvcHRpb25zOiBSZW5kZXJPcHRpb25zIHwgdW5kZWZpbmVkO1xuICAgIH1cbiAgfVxufVxuXG5pbnRlcmZhY2UgRGVidWdMb2dnaW5nV2luZG93IHtcbiAgLy8gRXZlbiBpbiBkZXYgbW9kZSwgd2UgZ2VuZXJhbGx5IGRvbid0IHdhbnQgdG8gZW1pdCB0aGVzZSBldmVudHMsIGFzIHRoYXQnc1xuICAvLyBhbm90aGVyIGxldmVsIG9mIGNvc3QsIHNvIG9ubHkgZW1pdCB0aGVtIHdoZW4gREVWX01PREUgaXMgdHJ1ZSBfYW5kXyB3aGVuXG4gIC8vIHdpbmRvdy5lbWl0TGl0RGVidWdFdmVudHMgaXMgdHJ1ZS5cbiAgZW1pdExpdERlYnVnTG9nRXZlbnRzPzogYm9vbGVhbjtcbn1cblxuLyoqXG4gKiBVc2VmdWwgZm9yIHZpc3VhbGl6aW5nIGFuZCBsb2dnaW5nIGluc2lnaHRzIGludG8gd2hhdCB0aGUgTGl0IHRlbXBsYXRlIHN5c3RlbSBpcyBkb2luZy5cbiAqXG4gKiBDb21waWxlZCBvdXQgb2YgcHJvZCBtb2RlIGJ1aWxkcy5cbiAqL1xuY29uc3QgZGVidWdMb2dFdmVudCA9IERFVl9NT0RFXG4gID8gKGV2ZW50OiBMaXRVbnN0YWJsZS5EZWJ1Z0xvZy5FbnRyeSkgPT4ge1xuICAgICAgY29uc3Qgc2hvdWxkRW1pdCA9IChnbG9iYWwgYXMgdW5rbm93biBhcyBEZWJ1Z0xvZ2dpbmdXaW5kb3cpXG4gICAgICAgIC5lbWl0TGl0RGVidWdMb2dFdmVudHM7XG4gICAgICBpZiAoIXNob3VsZEVtaXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZ2xvYmFsLmRpc3BhdGNoRXZlbnQoXG4gICAgICAgIG5ldyBDdXN0b21FdmVudDxMaXRVbnN0YWJsZS5EZWJ1Z0xvZy5FbnRyeT4oJ2xpdC1kZWJ1ZycsIHtcbiAgICAgICAgICBkZXRhaWw6IGV2ZW50LFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9XG4gIDogdW5kZWZpbmVkO1xuLy8gVXNlZCBmb3IgY29ubmVjdGluZyBiZWdpblJlbmRlciBhbmQgZW5kUmVuZGVyIGV2ZW50cyB3aGVuIHRoZXJlIGFyZSBuZXN0ZWRcbi8vIHJlbmRlcnMgd2hlbiBlcnJvcnMgYXJlIHRocm93biBwcmV2ZW50aW5nIGFuIGVuZFJlbmRlciBldmVudCBmcm9tIGJlaW5nXG4vLyBjYWxsZWQuXG5sZXQgZGVidWdMb2dSZW5kZXJJZCA9IDA7XG5cbmxldCBpc3N1ZVdhcm5pbmc6IChjb2RlOiBzdHJpbmcsIHdhcm5pbmc6IHN0cmluZykgPT4gdm9pZDtcblxuaWYgKERFVl9NT0RFKSB7XG4gIGdsb2JhbC5saXRJc3N1ZWRXYXJuaW5ncyA/Pz0gbmV3IFNldCgpO1xuXG4gIC8qKlxuICAgKiBJc3N1ZSBhIHdhcm5pbmcgaWYgd2UgaGF2ZW4ndCBhbHJlYWR5LCBiYXNlZCBlaXRoZXIgb24gYGNvZGVgIG9yIGB3YXJuaW5nYC5cbiAgICogV2FybmluZ3MgYXJlIGRpc2FibGVkIGF1dG9tYXRpY2FsbHkgb25seSBieSBgd2FybmluZ2A7IGRpc2FibGluZyB2aWEgYGNvZGVgXG4gICAqIGNhbiBiZSBkb25lIGJ5IHVzZXJzLlxuICAgKi9cbiAgaXNzdWVXYXJuaW5nID0gKGNvZGU6IHN0cmluZywgd2FybmluZzogc3RyaW5nKSA9PiB7XG4gICAgd2FybmluZyArPSBjb2RlXG4gICAgICA/IGAgU2VlIGh0dHBzOi8vbGl0LmRldi9tc2cvJHtjb2RlfSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5gXG4gICAgICA6ICcnO1xuICAgIGlmIChcbiAgICAgICFnbG9iYWwubGl0SXNzdWVkV2FybmluZ3MhLmhhcyh3YXJuaW5nKSAmJlxuICAgICAgIWdsb2JhbC5saXRJc3N1ZWRXYXJuaW5ncyEuaGFzKGNvZGUpXG4gICAgKSB7XG4gICAgICBjb25zb2xlLndhcm4od2FybmluZyk7XG4gICAgICBnbG9iYWwubGl0SXNzdWVkV2FybmluZ3MhLmFkZCh3YXJuaW5nKTtcbiAgICB9XG4gIH07XG5cbiAgcXVldWVNaWNyb3Rhc2soKCkgPT4ge1xuICAgIGlzc3VlV2FybmluZyhcbiAgICAgICdkZXYtbW9kZScsXG4gICAgICBgTGl0IGlzIGluIGRldiBtb2RlLiBOb3QgcmVjb21tZW5kZWQgZm9yIHByb2R1Y3Rpb24hYFxuICAgICk7XG4gIH0pO1xufVxuXG5jb25zdCB3cmFwID1cbiAgRU5BQkxFX1NIQURZRE9NX05PUEFUQ0ggJiZcbiAgZ2xvYmFsLlNoYWR5RE9NPy5pblVzZSAmJlxuICBnbG9iYWwuU2hhZHlET00/Lm5vUGF0Y2ggPT09IHRydWVcbiAgICA/IChnbG9iYWwuU2hhZHlET00hLndyYXAgYXMgPFQgZXh0ZW5kcyBOb2RlPihub2RlOiBUKSA9PiBUKVxuICAgIDogPFQgZXh0ZW5kcyBOb2RlPihub2RlOiBUKSA9PiBub2RlO1xuXG5jb25zdCB0cnVzdGVkVHlwZXMgPSAoZ2xvYmFsIGFzIHVua25vd24gYXMgVHJ1c3RlZFR5cGVzV2luZG93KS50cnVzdGVkVHlwZXM7XG5cbi8qKlxuICogT3VyIFRydXN0ZWRUeXBlUG9saWN5IGZvciBIVE1MIHdoaWNoIGlzIGRlY2xhcmVkIHVzaW5nIHRoZSBodG1sIHRlbXBsYXRlXG4gKiB0YWcgZnVuY3Rpb24uXG4gKlxuICogVGhhdCBIVE1MIGlzIGEgZGV2ZWxvcGVyLWF1dGhvcmVkIGNvbnN0YW50LCBhbmQgaXMgcGFyc2VkIHdpdGggaW5uZXJIVE1MXG4gKiBiZWZvcmUgYW55IHVudHJ1c3RlZCBleHByZXNzaW9ucyBoYXZlIGJlZW4gbWl4ZWQgaW4uIFRoZXJlZm9yIGl0IGlzXG4gKiBjb25zaWRlcmVkIHNhZmUgYnkgY29uc3RydWN0aW9uLlxuICovXG5jb25zdCBwb2xpY3kgPSB0cnVzdGVkVHlwZXNcbiAgPyB0cnVzdGVkVHlwZXMuY3JlYXRlUG9saWN5KCdsaXQtaHRtbCcsIHtcbiAgICAgIGNyZWF0ZUhUTUw6IChzKSA9PiBzLFxuICAgIH0pXG4gIDogdW5kZWZpbmVkO1xuXG4vKipcbiAqIFVzZWQgdG8gc2FuaXRpemUgYW55IHZhbHVlIGJlZm9yZSBpdCBpcyB3cml0dGVuIGludG8gdGhlIERPTS4gVGhpcyBjYW4gYmVcbiAqIHVzZWQgdG8gaW1wbGVtZW50IGEgc2VjdXJpdHkgcG9saWN5IG9mIGFsbG93ZWQgYW5kIGRpc2FsbG93ZWQgdmFsdWVzIGluXG4gKiBvcmRlciB0byBwcmV2ZW50IFhTUyBhdHRhY2tzLlxuICpcbiAqIE9uZSB3YXkgb2YgdXNpbmcgdGhpcyBjYWxsYmFjayB3b3VsZCBiZSB0byBjaGVjayBhdHRyaWJ1dGVzIGFuZCBwcm9wZXJ0aWVzXG4gKiBhZ2FpbnN0IGEgbGlzdCBvZiBoaWdoIHJpc2sgZmllbGRzLCBhbmQgcmVxdWlyZSB0aGF0IHZhbHVlcyB3cml0dGVuIHRvIHN1Y2hcbiAqIGZpZWxkcyBiZSBpbnN0YW5jZXMgb2YgYSBjbGFzcyB3aGljaCBpcyBzYWZlIGJ5IGNvbnN0cnVjdGlvbi4gQ2xvc3VyZSdzIFNhZmVcbiAqIEhUTUwgVHlwZXMgaXMgb25lIGltcGxlbWVudGF0aW9uIG9mIHRoaXMgdGVjaG5pcXVlIChcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvc2FmZS1odG1sLXR5cGVzL2Jsb2IvbWFzdGVyL2RvYy9zYWZlaHRtbC10eXBlcy5tZCkuXG4gKiBUaGUgVHJ1c3RlZFR5cGVzIHBvbHlmaWxsIGluIEFQSS1vbmx5IG1vZGUgY291bGQgYWxzbyBiZSB1c2VkIGFzIGEgYmFzaXNcbiAqIGZvciB0aGlzIHRlY2huaXF1ZSAoaHR0cHM6Ly9naXRodWIuY29tL1dJQ0cvdHJ1c3RlZC10eXBlcykuXG4gKlxuICogQHBhcmFtIG5vZGUgVGhlIEhUTUwgbm9kZSAodXN1YWxseSBlaXRoZXIgYSAjdGV4dCBub2RlIG9yIGFuIEVsZW1lbnQpIHRoYXRcbiAqICAgICBpcyBiZWluZyB3cml0dGVuIHRvLiBOb3RlIHRoYXQgdGhpcyBpcyBqdXN0IGFuIGV4ZW1wbGFyIG5vZGUsIHRoZSB3cml0ZVxuICogICAgIG1heSB0YWtlIHBsYWNlIGFnYWluc3QgYW5vdGhlciBpbnN0YW5jZSBvZiB0aGUgc2FtZSBjbGFzcyBvZiBub2RlLlxuICogQHBhcmFtIG5hbWUgVGhlIG5hbWUgb2YgYW4gYXR0cmlidXRlIG9yIHByb3BlcnR5IChmb3IgZXhhbXBsZSwgJ2hyZWYnKS5cbiAqIEBwYXJhbSB0eXBlIEluZGljYXRlcyB3aGV0aGVyIHRoZSB3cml0ZSB0aGF0J3MgYWJvdXQgdG8gYmUgcGVyZm9ybWVkIHdpbGxcbiAqICAgICBiZSB0byBhIHByb3BlcnR5IG9yIGEgbm9kZS5cbiAqIEByZXR1cm4gQSBmdW5jdGlvbiB0aGF0IHdpbGwgc2FuaXRpemUgdGhpcyBjbGFzcyBvZiB3cml0ZXMuXG4gKi9cbmV4cG9ydCB0eXBlIFNhbml0aXplckZhY3RvcnkgPSAoXG4gIG5vZGU6IE5vZGUsXG4gIG5hbWU6IHN0cmluZyxcbiAgdHlwZTogJ3Byb3BlcnR5JyB8ICdhdHRyaWJ1dGUnXG4pID0+IFZhbHVlU2FuaXRpemVyO1xuXG4vKipcbiAqIEEgZnVuY3Rpb24gd2hpY2ggY2FuIHNhbml0aXplIHZhbHVlcyB0aGF0IHdpbGwgYmUgd3JpdHRlbiB0byBhIHNwZWNpZmljIGtpbmRcbiAqIG9mIERPTSBzaW5rLlxuICpcbiAqIFNlZSBTYW5pdGl6ZXJGYWN0b3J5LlxuICpcbiAqIEBwYXJhbSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2FuaXRpemUuIFdpbGwgYmUgdGhlIGFjdHVhbCB2YWx1ZSBwYXNzZWQgaW50b1xuICogICAgIHRoZSBsaXQtaHRtbCB0ZW1wbGF0ZSBsaXRlcmFsLCBzbyB0aGlzIGNvdWxkIGJlIG9mIGFueSB0eXBlLlxuICogQHJldHVybiBUaGUgdmFsdWUgdG8gd3JpdGUgdG8gdGhlIERPTS4gVXN1YWxseSB0aGUgc2FtZSBhcyB0aGUgaW5wdXQgdmFsdWUsXG4gKiAgICAgdW5sZXNzIHNhbml0aXphdGlvbiBpcyBuZWVkZWQuXG4gKi9cbmV4cG9ydCB0eXBlIFZhbHVlU2FuaXRpemVyID0gKHZhbHVlOiB1bmtub3duKSA9PiB1bmtub3duO1xuXG5jb25zdCBpZGVudGl0eUZ1bmN0aW9uOiBWYWx1ZVNhbml0aXplciA9ICh2YWx1ZTogdW5rbm93bikgPT4gdmFsdWU7XG5jb25zdCBub29wU2FuaXRpemVyOiBTYW5pdGl6ZXJGYWN0b3J5ID0gKFxuICBfbm9kZTogTm9kZSxcbiAgX25hbWU6IHN0cmluZyxcbiAgX3R5cGU6ICdwcm9wZXJ0eScgfCAnYXR0cmlidXRlJ1xuKSA9PiBpZGVudGl0eUZ1bmN0aW9uO1xuXG4vKiogU2V0cyB0aGUgZ2xvYmFsIHNhbml0aXplciBmYWN0b3J5LiAqL1xuY29uc3Qgc2V0U2FuaXRpemVyID0gKG5ld1Nhbml0aXplcjogU2FuaXRpemVyRmFjdG9yeSkgPT4ge1xuICBpZiAoIUVOQUJMRV9FWFRSQV9TRUNVUklUWV9IT09LUykge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoc2FuaXRpemVyRmFjdG9yeUludGVybmFsICE9PSBub29wU2FuaXRpemVyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYEF0dGVtcHRlZCB0byBvdmVyd3JpdGUgZXhpc3RpbmcgbGl0LWh0bWwgc2VjdXJpdHkgcG9saWN5LmAgK1xuICAgICAgICBgIHNldFNhbml0aXplRE9NVmFsdWVGYWN0b3J5IHNob3VsZCBiZSBjYWxsZWQgYXQgbW9zdCBvbmNlLmBcbiAgICApO1xuICB9XG4gIHNhbml0aXplckZhY3RvcnlJbnRlcm5hbCA9IG5ld1Nhbml0aXplcjtcbn07XG5cbi8qKlxuICogT25seSB1c2VkIGluIGludGVybmFsIHRlc3RzLCBub3QgYSBwYXJ0IG9mIHRoZSBwdWJsaWMgQVBJLlxuICovXG5jb25zdCBfdGVzdE9ubHlDbGVhclNhbml0aXplckZhY3RvcnlEb05vdENhbGxPckVsc2UgPSAoKSA9PiB7XG4gIHNhbml0aXplckZhY3RvcnlJbnRlcm5hbCA9IG5vb3BTYW5pdGl6ZXI7XG59O1xuXG5jb25zdCBjcmVhdGVTYW5pdGl6ZXI6IFNhbml0aXplckZhY3RvcnkgPSAobm9kZSwgbmFtZSwgdHlwZSkgPT4ge1xuICByZXR1cm4gc2FuaXRpemVyRmFjdG9yeUludGVybmFsKG5vZGUsIG5hbWUsIHR5cGUpO1xufTtcblxuLy8gQWRkZWQgdG8gYW4gYXR0cmlidXRlIG5hbWUgdG8gbWFyayB0aGUgYXR0cmlidXRlIGFzIGJvdW5kIHNvIHdlIGNhbiBmaW5kXG4vLyBpdCBlYXNpbHkuXG5jb25zdCBib3VuZEF0dHJpYnV0ZVN1ZmZpeCA9ICckbGl0JCc7XG5cbi8vIFRoaXMgbWFya2VyIGlzIHVzZWQgaW4gbWFueSBzeW50YWN0aWMgcG9zaXRpb25zIGluIEhUTUwsIHNvIGl0IG11c3QgYmVcbi8vIGEgdmFsaWQgZWxlbWVudCBuYW1lIGFuZCBhdHRyaWJ1dGUgbmFtZS4gV2UgZG9uJ3Qgc3VwcG9ydCBkeW5hbWljIG5hbWVzICh5ZXQpXG4vLyBidXQgdGhpcyBhdCBsZWFzdCBlbnN1cmVzIHRoYXQgdGhlIHBhcnNlIHRyZWUgaXMgY2xvc2VyIHRvIHRoZSB0ZW1wbGF0ZVxuLy8gaW50ZW50aW9uLlxuY29uc3QgbWFya2VyID0gYGxpdCQke01hdGgucmFuZG9tKCkudG9GaXhlZCg5KS5zbGljZSgyKX0kYDtcblxuLy8gU3RyaW5nIHVzZWQgdG8gdGVsbCBpZiBhIGNvbW1lbnQgaXMgYSBtYXJrZXIgY29tbWVudFxuY29uc3QgbWFya2VyTWF0Y2ggPSAnPycgKyBtYXJrZXI7XG5cbi8vIFRleHQgdXNlZCB0byBpbnNlcnQgYSBjb21tZW50IG1hcmtlciBub2RlLiBXZSB1c2UgcHJvY2Vzc2luZyBpbnN0cnVjdGlvblxuLy8gc3ludGF4IGJlY2F1c2UgaXQncyBzbGlnaHRseSBzbWFsbGVyLCBidXQgcGFyc2VzIGFzIGEgY29tbWVudCBub2RlLlxuY29uc3Qgbm9kZU1hcmtlciA9IGA8JHttYXJrZXJNYXRjaH0+YDtcblxuY29uc3QgZCA9XG4gIE5PREVfTU9ERSAmJiBnbG9iYWwuZG9jdW1lbnQgPT09IHVuZGVmaW5lZFxuICAgID8gKHtcbiAgICAgICAgY3JlYXRlVHJlZVdhbGtlcigpIHtcbiAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgIH0sXG4gICAgICB9IGFzIHVua25vd24gYXMgRG9jdW1lbnQpXG4gICAgOiBkb2N1bWVudDtcblxuLy8gQ3JlYXRlcyBhIGR5bmFtaWMgbWFya2VyLiBXZSBuZXZlciBoYXZlIHRvIHNlYXJjaCBmb3IgdGhlc2UgaW4gdGhlIERPTS5cbmNvbnN0IGNyZWF0ZU1hcmtlciA9ICgpID0+IGQuY3JlYXRlQ29tbWVudCgnJyk7XG5cbi8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLXR5cGVvZi1vcGVyYXRvclxudHlwZSBQcmltaXRpdmUgPSBudWxsIHwgdW5kZWZpbmVkIHwgYm9vbGVhbiB8IG51bWJlciB8IHN0cmluZyB8IHN5bWJvbCB8IGJpZ2ludDtcbmNvbnN0IGlzUHJpbWl0aXZlID0gKHZhbHVlOiB1bmtub3duKTogdmFsdWUgaXMgUHJpbWl0aXZlID0+XG4gIHZhbHVlID09PSBudWxsIHx8ICh0eXBlb2YgdmFsdWUgIT0gJ29iamVjdCcgJiYgdHlwZW9mIHZhbHVlICE9ICdmdW5jdGlvbicpO1xuY29uc3QgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG5jb25zdCBpc0l0ZXJhYmxlID0gKHZhbHVlOiB1bmtub3duKTogdmFsdWUgaXMgSXRlcmFibGU8dW5rbm93bj4gPT5cbiAgaXNBcnJheSh2YWx1ZSkgfHxcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgdHlwZW9mICh2YWx1ZSBhcyBhbnkpPy5bU3ltYm9sLml0ZXJhdG9yXSA9PT0gJ2Z1bmN0aW9uJztcblxuY29uc3QgU1BBQ0VfQ0hBUiA9IGBbIFxcdFxcblxcZlxccl1gO1xuY29uc3QgQVRUUl9WQUxVRV9DSEFSID0gYFteIFxcdFxcblxcZlxcclwiJ1xcYDw+PV1gO1xuY29uc3QgTkFNRV9DSEFSID0gYFteXFxcXHNcIic+PS9dYDtcblxuLy8gVGhlc2UgcmVnZXhlcyByZXByZXNlbnQgdGhlIGZpdmUgcGFyc2luZyBzdGF0ZXMgdGhhdCB3ZSBjYXJlIGFib3V0IGluIHRoZVxuLy8gVGVtcGxhdGUncyBIVE1MIHNjYW5uZXIuIFRoZXkgbWF0Y2ggdGhlICplbmQqIG9mIHRoZSBzdGF0ZSB0aGV5J3JlIG5hbWVkXG4vLyBhZnRlci5cbi8vIERlcGVuZGluZyBvbiB0aGUgbWF0Y2gsIHdlIHRyYW5zaXRpb24gdG8gYSBuZXcgc3RhdGUuIElmIHRoZXJlJ3Mgbm8gbWF0Y2gsXG4vLyB3ZSBzdGF5IGluIHRoZSBzYW1lIHN0YXRlLlxuLy8gTm90ZSB0aGF0IHRoZSByZWdleGVzIGFyZSBzdGF0ZWZ1bC4gV2UgdXRpbGl6ZSBsYXN0SW5kZXggYW5kIHN5bmMgaXRcbi8vIGFjcm9zcyB0aGUgbXVsdGlwbGUgcmVnZXhlcyB1c2VkLiBJbiBhZGRpdGlvbiB0byB0aGUgZml2ZSByZWdleGVzIGJlbG93XG4vLyB3ZSBhbHNvIGR5bmFtaWNhbGx5IGNyZWF0ZSBhIHJlZ2V4IHRvIGZpbmQgdGhlIG1hdGNoaW5nIGVuZCB0YWdzIGZvciByYXdcbi8vIHRleHQgZWxlbWVudHMuXG5cbi8qKlxuICogRW5kIG9mIHRleHQgaXM6IGA8YCBmb2xsb3dlZCBieTpcbiAqICAgKGNvbW1lbnQgc3RhcnQpIG9yICh0YWcpIG9yIChkeW5hbWljIHRhZyBiaW5kaW5nKVxuICovXG5jb25zdCB0ZXh0RW5kUmVnZXggPSAvPCg/OighLS18XFwvW15hLXpBLVpdKXwoXFwvP1thLXpBLVpdW14+XFxzXSopfChcXC8/JCkpL2c7XG5jb25zdCBDT01NRU5UX1NUQVJUID0gMTtcbmNvbnN0IFRBR19OQU1FID0gMjtcbmNvbnN0IERZTkFNSUNfVEFHX05BTUUgPSAzO1xuXG5jb25zdCBjb21tZW50RW5kUmVnZXggPSAvLS0+L2c7XG4vKipcbiAqIENvbW1lbnRzIG5vdCBzdGFydGVkIHdpdGggPCEtLSwgbGlrZSA8L3ssIGNhbiBiZSBlbmRlZCBieSBhIHNpbmdsZSBgPmBcbiAqL1xuY29uc3QgY29tbWVudDJFbmRSZWdleCA9IC8+L2c7XG5cbi8qKlxuICogVGhlIHRhZ0VuZCByZWdleCBtYXRjaGVzIHRoZSBlbmQgb2YgdGhlIFwiaW5zaWRlIGFuIG9wZW5pbmdcIiB0YWcgc3ludGF4XG4gKiBwb3NpdGlvbi4gSXQgZWl0aGVyIG1hdGNoZXMgYSBgPmAsIGFuIGF0dHJpYnV0ZS1saWtlIHNlcXVlbmNlLCBvciB0aGUgZW5kXG4gKiBvZiB0aGUgc3RyaW5nIGFmdGVyIGEgc3BhY2UgKGF0dHJpYnV0ZS1uYW1lIHBvc2l0aW9uIGVuZGluZykuXG4gKlxuICogU2VlIGF0dHJpYnV0ZXMgaW4gdGhlIEhUTUwgc3BlYzpcbiAqIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9odG1sNS9zeW50YXguaHRtbCNlbGVtZW50cy1hdHRyaWJ1dGVzXG4gKlxuICogXCIgXFx0XFxuXFxmXFxyXCIgYXJlIEhUTUwgc3BhY2UgY2hhcmFjdGVyczpcbiAqIGh0dHBzOi8vaW5mcmEuc3BlYy53aGF0d2cub3JnLyNhc2NpaS13aGl0ZXNwYWNlXG4gKlxuICogU28gYW4gYXR0cmlidXRlIGlzOlxuICogICogVGhlIG5hbWU6IGFueSBjaGFyYWN0ZXIgZXhjZXB0IGEgd2hpdGVzcGFjZSBjaGFyYWN0ZXIsIChcIiksICgnKSwgXCI+XCIsXG4gKiAgICBcIj1cIiwgb3IgXCIvXCIuIE5vdGU6IHRoaXMgaXMgZGlmZmVyZW50IGZyb20gdGhlIEhUTUwgc3BlYyB3aGljaCBhbHNvIGV4Y2x1ZGVzIGNvbnRyb2wgY2hhcmFjdGVycy5cbiAqICAqIEZvbGxvd2VkIGJ5IHplcm8gb3IgbW9yZSBzcGFjZSBjaGFyYWN0ZXJzXG4gKiAgKiBGb2xsb3dlZCBieSBcIj1cIlxuICogICogRm9sbG93ZWQgYnkgemVybyBvciBtb3JlIHNwYWNlIGNoYXJhY3RlcnNcbiAqICAqIEZvbGxvd2VkIGJ5OlxuICogICAgKiBBbnkgY2hhcmFjdGVyIGV4Y2VwdCBzcGFjZSwgKCcpLCAoXCIpLCBcIjxcIiwgXCI+XCIsIFwiPVwiLCAoYCksIG9yXG4gKiAgICAqIChcIikgdGhlbiBhbnkgbm9uLShcIiksIG9yXG4gKiAgICAqICgnKSB0aGVuIGFueSBub24tKCcpXG4gKi9cbmNvbnN0IHRhZ0VuZFJlZ2V4ID0gbmV3IFJlZ0V4cChcbiAgYD58JHtTUEFDRV9DSEFSfSg/Oigke05BTUVfQ0hBUn0rKSgke1NQQUNFX0NIQVJ9Kj0ke1NQQUNFX0NIQVJ9Kig/OiR7QVRUUl9WQUxVRV9DSEFSfXwoXCJ8Jyl8KSl8JClgLFxuICAnZydcbik7XG5jb25zdCBFTlRJUkVfTUFUQ0ggPSAwO1xuY29uc3QgQVRUUklCVVRFX05BTUUgPSAxO1xuY29uc3QgU1BBQ0VTX0FORF9FUVVBTFMgPSAyO1xuY29uc3QgUVVPVEVfQ0hBUiA9IDM7XG5cbmNvbnN0IHNpbmdsZVF1b3RlQXR0ckVuZFJlZ2V4ID0gLycvZztcbmNvbnN0IGRvdWJsZVF1b3RlQXR0ckVuZFJlZ2V4ID0gL1wiL2c7XG4vKipcbiAqIE1hdGNoZXMgdGhlIHJhdyB0ZXh0IGVsZW1lbnRzLlxuICpcbiAqIENvbW1lbnRzIGFyZSBub3QgcGFyc2VkIHdpdGhpbiByYXcgdGV4dCBlbGVtZW50cywgc28gd2UgbmVlZCB0byBzZWFyY2ggdGhlaXJcbiAqIHRleHQgY29udGVudCBmb3IgbWFya2VyIHN0cmluZ3MuXG4gKi9cbmNvbnN0IHJhd1RleHRFbGVtZW50ID0gL14oPzpzY3JpcHR8c3R5bGV8dGV4dGFyZWF8dGl0bGUpJC9pO1xuXG4vKiogVGVtcGxhdGVSZXN1bHQgdHlwZXMgKi9cbmNvbnN0IEhUTUxfUkVTVUxUID0gMTtcbmNvbnN0IFNWR19SRVNVTFQgPSAyO1xuY29uc3QgTUFUSE1MX1JFU1VMVCA9IDM7XG5cbnR5cGUgUmVzdWx0VHlwZSA9IHR5cGVvZiBIVE1MX1JFU1VMVCB8IHR5cGVvZiBTVkdfUkVTVUxUIHwgdHlwZW9mIE1BVEhNTF9SRVNVTFQ7XG5cbi8vIFRlbXBsYXRlUGFydCB0eXBlc1xuLy8gSU1QT1JUQU5UOiB0aGVzZSBtdXN0IG1hdGNoIHRoZSB2YWx1ZXMgaW4gUGFydFR5cGVcbmNvbnN0IEFUVFJJQlVURV9QQVJUID0gMTtcbmNvbnN0IENISUxEX1BBUlQgPSAyO1xuY29uc3QgUFJPUEVSVFlfUEFSVCA9IDM7XG5jb25zdCBCT09MRUFOX0FUVFJJQlVURV9QQVJUID0gNDtcbmNvbnN0IEVWRU5UX1BBUlQgPSA1O1xuY29uc3QgRUxFTUVOVF9QQVJUID0gNjtcbmNvbnN0IENPTU1FTlRfUEFSVCA9IDc7XG5cbi8qKlxuICogVGhlIHJldHVybiB0eXBlIG9mIHRoZSB0ZW1wbGF0ZSB0YWcgZnVuY3Rpb25zLCB7QGxpbmtjb2RlIGh0bWx9IGFuZFxuICoge0BsaW5rY29kZSBzdmd9IHdoZW4gaXQgaGFzbid0IGJlZW4gY29tcGlsZWQgYnkgQGxpdC1sYWJzL2NvbXBpbGVyLlxuICpcbiAqIEEgYFRlbXBsYXRlUmVzdWx0YCBvYmplY3QgaG9sZHMgYWxsIHRoZSBpbmZvcm1hdGlvbiBhYm91dCBhIHRlbXBsYXRlXG4gKiBleHByZXNzaW9uIHJlcXVpcmVkIHRvIHJlbmRlciBpdDogdGhlIHRlbXBsYXRlIHN0cmluZ3MsIGV4cHJlc3Npb24gdmFsdWVzLFxuICogYW5kIHR5cGUgb2YgdGVtcGxhdGUgKGh0bWwgb3Igc3ZnKS5cbiAqXG4gKiBgVGVtcGxhdGVSZXN1bHRgIG9iamVjdHMgZG8gbm90IGNyZWF0ZSBhbnkgRE9NIG9uIHRoZWlyIG93bi4gVG8gY3JlYXRlIG9yXG4gKiB1cGRhdGUgRE9NIHlvdSBuZWVkIHRvIHJlbmRlciB0aGUgYFRlbXBsYXRlUmVzdWx0YC4gU2VlXG4gKiBbUmVuZGVyaW5nXShodHRwczovL2xpdC5kZXYvZG9jcy9jb21wb25lbnRzL3JlbmRlcmluZykgZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gKlxuICovXG5leHBvcnQgdHlwZSBVbmNvbXBpbGVkVGVtcGxhdGVSZXN1bHQ8VCBleHRlbmRzIFJlc3VsdFR5cGUgPSBSZXN1bHRUeXBlPiA9IHtcbiAgLy8gVGhpcyBwcm9wZXJ0eSBuZWVkcyB0byByZW1haW4gdW5taW5pZmllZC5cbiAgWydfJGxpdFR5cGUkJ106IFQ7XG4gIHN0cmluZ3M6IFRlbXBsYXRlU3RyaW5nc0FycmF5O1xuICB2YWx1ZXM6IHVua25vd25bXTtcbn07XG5cbi8qKlxuICogVGhpcyBpcyBhIHRlbXBsYXRlIHJlc3VsdCB0aGF0IG1heSBiZSBlaXRoZXIgdW5jb21waWxlZCBvciBjb21waWxlZC5cbiAqXG4gKiBJbiB0aGUgZnV0dXJlLCBUZW1wbGF0ZVJlc3VsdCB3aWxsIGJlIHRoaXMgdHlwZS4gSWYgeW91IHdhbnQgdG8gZXhwbGljaXRseVxuICogbm90ZSB0aGF0IGEgdGVtcGxhdGUgcmVzdWx0IGlzIHBvdGVudGlhbGx5IGNvbXBpbGVkLCB5b3UgY2FuIHJlZmVyZW5jZSB0aGlzXG4gKiB0eXBlIGFuZCBpdCB3aWxsIGNvbnRpbnVlIHRvIGJlaGF2ZSB0aGUgc2FtZSB0aHJvdWdoIHRoZSBuZXh0IG1ham9yIHZlcnNpb25cbiAqIG9mIExpdC4gVGhpcyBjYW4gYmUgdXNlZnVsIGZvciBjb2RlIHRoYXQgd2FudHMgdG8gcHJlcGFyZSBmb3IgdGhlIG5leHRcbiAqIG1ham9yIHZlcnNpb24gb2YgTGl0LlxuICovXG5leHBvcnQgdHlwZSBNYXliZUNvbXBpbGVkVGVtcGxhdGVSZXN1bHQ8VCBleHRlbmRzIFJlc3VsdFR5cGUgPSBSZXN1bHRUeXBlPiA9XG4gIHwgVW5jb21waWxlZFRlbXBsYXRlUmVzdWx0PFQ+XG4gIHwgQ29tcGlsZWRUZW1wbGF0ZVJlc3VsdDtcblxuLyoqXG4gKiBUaGUgcmV0dXJuIHR5cGUgb2YgdGhlIHRlbXBsYXRlIHRhZyBmdW5jdGlvbnMsIHtAbGlua2NvZGUgaHRtbH0gYW5kXG4gKiB7QGxpbmtjb2RlIHN2Z30uXG4gKlxuICogQSBgVGVtcGxhdGVSZXN1bHRgIG9iamVjdCBob2xkcyBhbGwgdGhlIGluZm9ybWF0aW9uIGFib3V0IGEgdGVtcGxhdGVcbiAqIGV4cHJlc3Npb24gcmVxdWlyZWQgdG8gcmVuZGVyIGl0OiB0aGUgdGVtcGxhdGUgc3RyaW5ncywgZXhwcmVzc2lvbiB2YWx1ZXMsXG4gKiBhbmQgdHlwZSBvZiB0ZW1wbGF0ZSAoaHRtbCBvciBzdmcpLlxuICpcbiAqIGBUZW1wbGF0ZVJlc3VsdGAgb2JqZWN0cyBkbyBub3QgY3JlYXRlIGFueSBET00gb24gdGhlaXIgb3duLiBUbyBjcmVhdGUgb3JcbiAqIHVwZGF0ZSBET00geW91IG5lZWQgdG8gcmVuZGVyIHRoZSBgVGVtcGxhdGVSZXN1bHRgLiBTZWVcbiAqIFtSZW5kZXJpbmddKGh0dHBzOi8vbGl0LmRldi9kb2NzL2NvbXBvbmVudHMvcmVuZGVyaW5nKSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAqXG4gKiBJbiBMaXQgNCwgdGhpcyB0eXBlIHdpbGwgYmUgYW4gYWxpYXMgb2ZcbiAqIE1heWJlQ29tcGlsZWRUZW1wbGF0ZVJlc3VsdCwgc28gdGhhdCBjb2RlIHdpbGwgZ2V0IHR5cGUgZXJyb3JzIGlmIGl0IGFzc3VtZXNcbiAqIHRoYXQgTGl0IHRlbXBsYXRlcyBhcmUgbm90IGNvbXBpbGVkLiBXaGVuIGRlbGliZXJhdGVseSB3b3JraW5nIHdpdGggb25seVxuICogb25lLCB1c2UgZWl0aGVyIHtAbGlua2NvZGUgQ29tcGlsZWRUZW1wbGF0ZVJlc3VsdH0gb3JcbiAqIHtAbGlua2NvZGUgVW5jb21waWxlZFRlbXBsYXRlUmVzdWx0fSBleHBsaWNpdGx5LlxuICovXG5leHBvcnQgdHlwZSBUZW1wbGF0ZVJlc3VsdDxUIGV4dGVuZHMgUmVzdWx0VHlwZSA9IFJlc3VsdFR5cGU+ID1cbiAgVW5jb21waWxlZFRlbXBsYXRlUmVzdWx0PFQ+O1xuXG5leHBvcnQgdHlwZSBIVE1MVGVtcGxhdGVSZXN1bHQgPSBUZW1wbGF0ZVJlc3VsdDx0eXBlb2YgSFRNTF9SRVNVTFQ+O1xuXG5leHBvcnQgdHlwZSBTVkdUZW1wbGF0ZVJlc3VsdCA9IFRlbXBsYXRlUmVzdWx0PHR5cGVvZiBTVkdfUkVTVUxUPjtcblxuZXhwb3J0IHR5cGUgTWF0aE1MVGVtcGxhdGVSZXN1bHQgPSBUZW1wbGF0ZVJlc3VsdDx0eXBlb2YgTUFUSE1MX1JFU1VMVD47XG5cbi8qKlxuICogQSBUZW1wbGF0ZVJlc3VsdCB0aGF0IGhhcyBiZWVuIGNvbXBpbGVkIGJ5IEBsaXQtbGFicy9jb21waWxlciwgc2tpcHBpbmcgdGhlXG4gKiBwcmVwYXJlIHN0ZXAuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ29tcGlsZWRUZW1wbGF0ZVJlc3VsdCB7XG4gIC8vIFRoaXMgaXMgYSBmYWN0b3J5IGluIG9yZGVyIHRvIG1ha2UgdGVtcGxhdGUgaW5pdGlhbGl6YXRpb24gbGF6eVxuICAvLyBhbmQgYWxsb3cgU2hhZHlSZW5kZXJPcHRpb25zIHNjb3BlIHRvIGJlIHBhc3NlZCBpbi5cbiAgLy8gVGhpcyBwcm9wZXJ0eSBuZWVkcyB0byByZW1haW4gdW5taW5pZmllZC5cbiAgWydfJGxpdFR5cGUkJ106IENvbXBpbGVkVGVtcGxhdGU7XG4gIHZhbHVlczogdW5rbm93bltdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENvbXBpbGVkVGVtcGxhdGUgZXh0ZW5kcyBPbWl0PFRlbXBsYXRlLCAnZWwnPiB7XG4gIC8vIGVsIGlzIG92ZXJyaWRkZW4gdG8gYmUgb3B0aW9uYWwuIFdlIGluaXRpYWxpemUgaXQgb24gZmlyc3QgcmVuZGVyXG4gIGVsPzogSFRNTFRlbXBsYXRlRWxlbWVudDtcblxuICAvLyBUaGUgcHJlcGFyZWQgSFRNTCBzdHJpbmcgdG8gY3JlYXRlIGEgdGVtcGxhdGUgZWxlbWVudCBmcm9tLlxuICAvLyBUaGUgdHlwZSBpcyBhIFRlbXBsYXRlU3RyaW5nc0FycmF5IHRvIGd1YXJhbnRlZSB0aGF0IHRoZSB2YWx1ZSBjYW1lIGZyb21cbiAgLy8gc291cmNlIGNvZGUsIHByZXZlbnRpbmcgYSBKU09OIGluamVjdGlvbiBhdHRhY2suXG4gIGg6IFRlbXBsYXRlU3RyaW5nc0FycmF5O1xufVxuXG4vKipcbiAqIEdlbmVyYXRlcyBhIHRlbXBsYXRlIGxpdGVyYWwgdGFnIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIFRlbXBsYXRlUmVzdWx0IHdpdGhcbiAqIHRoZSBnaXZlbiByZXN1bHQgdHlwZS5cbiAqL1xuY29uc3QgdGFnID1cbiAgPFQgZXh0ZW5kcyBSZXN1bHRUeXBlPih0eXBlOiBUKSA9PlxuICAoc3RyaW5nczogVGVtcGxhdGVTdHJpbmdzQXJyYXksIC4uLnZhbHVlczogdW5rbm93bltdKTogVGVtcGxhdGVSZXN1bHQ8VD4gPT4ge1xuICAgIC8vIFdhcm4gYWdhaW5zdCB0ZW1wbGF0ZXMgb2N0YWwgZXNjYXBlIHNlcXVlbmNlc1xuICAgIC8vIFdlIGRvIHRoaXMgaGVyZSByYXRoZXIgdGhhbiBpbiByZW5kZXIgc28gdGhhdCB0aGUgd2FybmluZyBpcyBjbG9zZXIgdG8gdGhlXG4gICAgLy8gdGVtcGxhdGUgZGVmaW5pdGlvbi5cbiAgICBpZiAoREVWX01PREUgJiYgc3RyaW5ncy5zb21lKChzKSA9PiBzID09PSB1bmRlZmluZWQpKSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICdTb21lIHRlbXBsYXRlIHN0cmluZ3MgYXJlIHVuZGVmaW5lZC5cXG4nICtcbiAgICAgICAgICAnVGhpcyBpcyBwcm9iYWJseSBjYXVzZWQgYnkgaWxsZWdhbCBvY3RhbCBlc2NhcGUgc2VxdWVuY2VzLidcbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChERVZfTU9ERSkge1xuICAgICAgLy8gSW1wb3J0IHN0YXRpYy1odG1sLmpzIHJlc3VsdHMgaW4gYSBjaXJjdWxhciBkZXBlbmRlbmN5IHdoaWNoIGczIGRvZXNuJ3RcbiAgICAgIC8vIGhhbmRsZS4gSW5zdGVhZCB3ZSBrbm93IHRoYXQgc3RhdGljIHZhbHVlcyBtdXN0IGhhdmUgdGhlIGZpZWxkXG4gICAgICAvLyBgXyRsaXRTdGF0aWMkYC5cbiAgICAgIGlmIChcbiAgICAgICAgdmFsdWVzLnNvbWUoKHZhbCkgPT4gKHZhbCBhcyB7XyRsaXRTdGF0aWMkOiB1bmtub3dufSk/LlsnXyRsaXRTdGF0aWMkJ10pXG4gICAgICApIHtcbiAgICAgICAgaXNzdWVXYXJuaW5nKFxuICAgICAgICAgICcnLFxuICAgICAgICAgIGBTdGF0aWMgdmFsdWVzICdsaXRlcmFsJyBvciAndW5zYWZlU3RhdGljJyBjYW5ub3QgYmUgdXNlZCBhcyB2YWx1ZXMgdG8gbm9uLXN0YXRpYyB0ZW1wbGF0ZXMuXFxuYCArXG4gICAgICAgICAgICBgUGxlYXNlIHVzZSB0aGUgc3RhdGljICdodG1sJyB0YWcgZnVuY3Rpb24uIFNlZSBodHRwczovL2xpdC5kZXYvZG9jcy90ZW1wbGF0ZXMvZXhwcmVzc2lvbnMvI3N0YXRpYy1leHByZXNzaW9uc2BcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIC8vIFRoaXMgcHJvcGVydHkgbmVlZHMgdG8gcmVtYWluIHVubWluaWZpZWQuXG4gICAgICBbJ18kbGl0VHlwZSQnXTogdHlwZSxcbiAgICAgIHN0cmluZ3MsXG4gICAgICB2YWx1ZXMsXG4gICAgfTtcbiAgfTtcblxuLyoqXG4gKiBJbnRlcnByZXRzIGEgdGVtcGxhdGUgbGl0ZXJhbCBhcyBhbiBIVE1MIHRlbXBsYXRlIHRoYXQgY2FuIGVmZmljaWVudGx5XG4gKiByZW5kZXIgdG8gYW5kIHVwZGF0ZSBhIGNvbnRhaW5lci5cbiAqXG4gKiBgYGB0c1xuICogY29uc3QgaGVhZGVyID0gKHRpdGxlOiBzdHJpbmcpID0+IGh0bWxgPGgxPiR7dGl0bGV9PC9oMT5gO1xuICogYGBgXG4gKlxuICogVGhlIGBodG1sYCB0YWcgcmV0dXJucyBhIGRlc2NyaXB0aW9uIG9mIHRoZSBET00gdG8gcmVuZGVyIGFzIGEgdmFsdWUuIEl0IGlzXG4gKiBsYXp5LCBtZWFuaW5nIG5vIHdvcmsgaXMgZG9uZSB1bnRpbCB0aGUgdGVtcGxhdGUgaXMgcmVuZGVyZWQuIFdoZW4gcmVuZGVyaW5nLFxuICogaWYgYSB0ZW1wbGF0ZSBjb21lcyBmcm9tIHRoZSBzYW1lIGV4cHJlc3Npb24gYXMgYSBwcmV2aW91c2x5IHJlbmRlcmVkIHJlc3VsdCxcbiAqIGl0J3MgZWZmaWNpZW50bHkgdXBkYXRlZCBpbnN0ZWFkIG9mIHJlcGxhY2VkLlxuICovXG5leHBvcnQgY29uc3QgaHRtbCA9IHRhZyhIVE1MX1JFU1VMVCk7XG5cbi8qKlxuICogSW50ZXJwcmV0cyBhIHRlbXBsYXRlIGxpdGVyYWwgYXMgYW4gU1ZHIGZyYWdtZW50IHRoYXQgY2FuIGVmZmljaWVudGx5IHJlbmRlclxuICogdG8gYW5kIHVwZGF0ZSBhIGNvbnRhaW5lci5cbiAqXG4gKiBgYGB0c1xuICogY29uc3QgcmVjdCA9IHN2Z2A8cmVjdCB3aWR0aD1cIjEwXCIgaGVpZ2h0PVwiMTBcIj48L3JlY3Q+YDtcbiAqXG4gKiBjb25zdCBteUltYWdlID0gaHRtbGBcbiAqICAgPHN2ZyB2aWV3Qm94PVwiMCAwIDEwIDEwXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPlxuICogICAgICR7cmVjdH1cbiAqICAgPC9zdmc+YDtcbiAqIGBgYFxuICpcbiAqIFRoZSBgc3ZnYCAqdGFnIGZ1bmN0aW9uKiBzaG91bGQgb25seSBiZSB1c2VkIGZvciBTVkcgZnJhZ21lbnRzLCBvciBlbGVtZW50c1xuICogdGhhdCB3b3VsZCBiZSBjb250YWluZWQgKippbnNpZGUqKiBhbiBgPHN2Zz5gIEhUTUwgZWxlbWVudC4gQSBjb21tb24gZXJyb3IgaXNcbiAqIHBsYWNpbmcgYW4gYDxzdmc+YCAqZWxlbWVudCogaW4gYSB0ZW1wbGF0ZSB0YWdnZWQgd2l0aCB0aGUgYHN2Z2AgdGFnXG4gKiBmdW5jdGlvbi4gVGhlIGA8c3ZnPmAgZWxlbWVudCBpcyBhbiBIVE1MIGVsZW1lbnQgYW5kIHNob3VsZCBiZSB1c2VkIHdpdGhpbiBhXG4gKiB0ZW1wbGF0ZSB0YWdnZWQgd2l0aCB0aGUge0BsaW5rY29kZSBodG1sfSB0YWcgZnVuY3Rpb24uXG4gKlxuICogSW4gTGl0RWxlbWVudCB1c2FnZSwgaXQncyBpbnZhbGlkIHRvIHJldHVybiBhbiBTVkcgZnJhZ21lbnQgZnJvbSB0aGVcbiAqIGByZW5kZXIoKWAgbWV0aG9kLCBhcyB0aGUgU1ZHIGZyYWdtZW50IHdpbGwgYmUgY29udGFpbmVkIHdpdGhpbiB0aGUgZWxlbWVudCdzXG4gKiBzaGFkb3cgcm9vdCBhbmQgdGh1cyBub3QgYmUgcHJvcGVybHkgY29udGFpbmVkIHdpdGhpbiBhbiBgPHN2Zz5gIEhUTUxcbiAqIGVsZW1lbnQuXG4gKi9cbmV4cG9ydCBjb25zdCBzdmcgPSB0YWcoU1ZHX1JFU1VMVCk7XG5cbi8qKlxuICogSW50ZXJwcmV0cyBhIHRlbXBsYXRlIGxpdGVyYWwgYXMgTWF0aE1MIGZyYWdtZW50IHRoYXQgY2FuIGVmZmljaWVudGx5IHJlbmRlclxuICogdG8gYW5kIHVwZGF0ZSBhIGNvbnRhaW5lci5cbiAqXG4gKiBgYGB0c1xuICogY29uc3QgbnVtID0gbWF0aG1sYDxtbj4xPC9tbj5gO1xuICpcbiAqIGNvbnN0IGVxID0gaHRtbGBcbiAqICAgPG1hdGg+XG4gKiAgICAgJHtudW19XG4gKiAgIDwvbWF0aD5gO1xuICogYGBgXG4gKlxuICogVGhlIGBtYXRobWxgICp0YWcgZnVuY3Rpb24qIHNob3VsZCBvbmx5IGJlIHVzZWQgZm9yIE1hdGhNTCBmcmFnbWVudHMsIG9yXG4gKiBlbGVtZW50cyB0aGF0IHdvdWxkIGJlIGNvbnRhaW5lZCAqKmluc2lkZSoqIGEgYDxtYXRoPmAgSFRNTCBlbGVtZW50LiBBIGNvbW1vblxuICogZXJyb3IgaXMgcGxhY2luZyBhIGA8bWF0aD5gICplbGVtZW50KiBpbiBhIHRlbXBsYXRlIHRhZ2dlZCB3aXRoIHRoZSBgbWF0aG1sYFxuICogdGFnIGZ1bmN0aW9uLiBUaGUgYDxtYXRoPmAgZWxlbWVudCBpcyBhbiBIVE1MIGVsZW1lbnQgYW5kIHNob3VsZCBiZSB1c2VkXG4gKiB3aXRoaW4gYSB0ZW1wbGF0ZSB0YWdnZWQgd2l0aCB0aGUge0BsaW5rY29kZSBodG1sfSB0YWcgZnVuY3Rpb24uXG4gKlxuICogSW4gTGl0RWxlbWVudCB1c2FnZSwgaXQncyBpbnZhbGlkIHRvIHJldHVybiBhbiBNYXRoTUwgZnJhZ21lbnQgZnJvbSB0aGVcbiAqIGByZW5kZXIoKWAgbWV0aG9kLCBhcyB0aGUgTWF0aE1MIGZyYWdtZW50IHdpbGwgYmUgY29udGFpbmVkIHdpdGhpbiB0aGVcbiAqIGVsZW1lbnQncyBzaGFkb3cgcm9vdCBhbmQgdGh1cyBub3QgYmUgcHJvcGVybHkgY29udGFpbmVkIHdpdGhpbiBhIGA8bWF0aD5gXG4gKiBIVE1MIGVsZW1lbnQuXG4gKi9cbmV4cG9ydCBjb25zdCBtYXRobWwgPSB0YWcoTUFUSE1MX1JFU1VMVCk7XG5cbi8qKlxuICogQSBzZW50aW5lbCB2YWx1ZSB0aGF0IHNpZ25hbHMgdGhhdCBhIHZhbHVlIHdhcyBoYW5kbGVkIGJ5IGEgZGlyZWN0aXZlIGFuZFxuICogc2hvdWxkIG5vdCBiZSB3cml0dGVuIHRvIHRoZSBET00uXG4gKi9cbmV4cG9ydCBjb25zdCBub0NoYW5nZSA9IFN5bWJvbC5mb3IoJ2xpdC1ub0NoYW5nZScpO1xuXG4vKipcbiAqIEEgc2VudGluZWwgdmFsdWUgdGhhdCBzaWduYWxzIGEgQ2hpbGRQYXJ0IHRvIGZ1bGx5IGNsZWFyIGl0cyBjb250ZW50LlxuICpcbiAqIGBgYHRzXG4gKiBjb25zdCBidXR0b24gPSBodG1sYCR7XG4gKiAgdXNlci5pc0FkbWluXG4gKiAgICA/IGh0bWxgPGJ1dHRvbj5ERUxFVEU8L2J1dHRvbj5gXG4gKiAgICA6IG5vdGhpbmdcbiAqIH1gO1xuICogYGBgXG4gKlxuICogUHJlZmVyIHVzaW5nIGBub3RoaW5nYCBvdmVyIG90aGVyIGZhbHN5IHZhbHVlcyBhcyBpdCBwcm92aWRlcyBhIGNvbnNpc3RlbnRcbiAqIGJlaGF2aW9yIGJldHdlZW4gdmFyaW91cyBleHByZXNzaW9uIGJpbmRpbmcgY29udGV4dHMuXG4gKlxuICogSW4gY2hpbGQgZXhwcmVzc2lvbnMsIGB1bmRlZmluZWRgLCBgbnVsbGAsIGAnJ2AsIGFuZCBgbm90aGluZ2AgYWxsIGJlaGF2ZSB0aGVcbiAqIHNhbWUgYW5kIHJlbmRlciBubyBub2Rlcy4gSW4gYXR0cmlidXRlIGV4cHJlc3Npb25zLCBgbm90aGluZ2AgX3JlbW92ZXNfIHRoZVxuICogYXR0cmlidXRlLCB3aGlsZSBgdW5kZWZpbmVkYCBhbmQgYG51bGxgIHdpbGwgcmVuZGVyIGFuIGVtcHR5IHN0cmluZy4gSW5cbiAqIHByb3BlcnR5IGV4cHJlc3Npb25zIGBub3RoaW5nYCBiZWNvbWVzIGB1bmRlZmluZWRgLlxuICovXG5leHBvcnQgY29uc3Qgbm90aGluZyA9IFN5bWJvbC5mb3IoJ2xpdC1ub3RoaW5nJyk7XG5cbi8qKlxuICogVGhlIGNhY2hlIG9mIHByZXBhcmVkIHRlbXBsYXRlcywga2V5ZWQgYnkgdGhlIHRhZ2dlZCBUZW1wbGF0ZVN0cmluZ3NBcnJheVxuICogYW5kIF9ub3RfIGFjY291bnRpbmcgZm9yIHRoZSBzcGVjaWZpYyB0ZW1wbGF0ZSB0YWcgdXNlZC4gVGhpcyBtZWFucyB0aGF0XG4gKiB0ZW1wbGF0ZSB0YWdzIGNhbm5vdCBiZSBkeW5hbWljIC0gdGhleSBtdXN0IHN0YXRpY2FsbHkgYmUgb25lIG9mIGh0bWwsIHN2ZyxcbiAqIG9yIGF0dHIuIFRoaXMgcmVzdHJpY3Rpb24gc2ltcGxpZmllcyB0aGUgY2FjaGUgbG9va3VwLCB3aGljaCBpcyBvbiB0aGUgaG90XG4gKiBwYXRoIGZvciByZW5kZXJpbmcuXG4gKi9cbmNvbnN0IHRlbXBsYXRlQ2FjaGUgPSBuZXcgV2Vha01hcDxUZW1wbGF0ZVN0cmluZ3NBcnJheSwgVGVtcGxhdGU+KCk7XG5cbi8qKlxuICogT2JqZWN0IHNwZWNpZnlpbmcgb3B0aW9ucyBmb3IgY29udHJvbGxpbmcgbGl0LWh0bWwgcmVuZGVyaW5nLiBOb3RlIHRoYXRcbiAqIHdoaWxlIGByZW5kZXJgIG1heSBiZSBjYWxsZWQgbXVsdGlwbGUgdGltZXMgb24gdGhlIHNhbWUgYGNvbnRhaW5lcmAgKGFuZFxuICogYHJlbmRlckJlZm9yZWAgcmVmZXJlbmNlIG5vZGUpIHRvIGVmZmljaWVudGx5IHVwZGF0ZSB0aGUgcmVuZGVyZWQgY29udGVudCxcbiAqIG9ubHkgdGhlIG9wdGlvbnMgcGFzc2VkIGluIGR1cmluZyB0aGUgZmlyc3QgcmVuZGVyIGFyZSByZXNwZWN0ZWQgZHVyaW5nXG4gKiB0aGUgbGlmZXRpbWUgb2YgcmVuZGVycyB0byB0aGF0IHVuaXF1ZSBgY29udGFpbmVyYCArIGByZW5kZXJCZWZvcmVgXG4gKiBjb21iaW5hdGlvbi5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZW5kZXJPcHRpb25zIHtcbiAgLyoqXG4gICAqIEFuIG9iamVjdCB0byB1c2UgYXMgdGhlIGB0aGlzYCB2YWx1ZSBmb3IgZXZlbnQgbGlzdGVuZXJzLiBJdCdzIG9mdGVuXG4gICAqIHVzZWZ1bCB0byBzZXQgdGhpcyB0byB0aGUgaG9zdCBjb21wb25lbnQgcmVuZGVyaW5nIGEgdGVtcGxhdGUuXG4gICAqL1xuICBob3N0Pzogb2JqZWN0O1xuICAvKipcbiAgICogQSBET00gbm9kZSBiZWZvcmUgd2hpY2ggdG8gcmVuZGVyIGNvbnRlbnQgaW4gdGhlIGNvbnRhaW5lci5cbiAgICovXG4gIHJlbmRlckJlZm9yZT86IENoaWxkTm9kZSB8IG51bGw7XG4gIC8qKlxuICAgKiBOb2RlIHVzZWQgZm9yIGNsb25pbmcgdGhlIHRlbXBsYXRlIChgaW1wb3J0Tm9kZWAgd2lsbCBiZSBjYWxsZWQgb24gdGhpc1xuICAgKiBub2RlKS4gVGhpcyBjb250cm9scyB0aGUgYG93bmVyRG9jdW1lbnRgIG9mIHRoZSByZW5kZXJlZCBET00sIGFsb25nIHdpdGhcbiAgICogYW55IGluaGVyaXRlZCBjb250ZXh0LiBEZWZhdWx0cyB0byB0aGUgZ2xvYmFsIGBkb2N1bWVudGAuXG4gICAqL1xuICBjcmVhdGlvblNjb3BlPzoge2ltcG9ydE5vZGUobm9kZTogTm9kZSwgZGVlcD86IGJvb2xlYW4pOiBOb2RlfTtcbiAgLyoqXG4gICAqIFRoZSBpbml0aWFsIGNvbm5lY3RlZCBzdGF0ZSBmb3IgdGhlIHRvcC1sZXZlbCBwYXJ0IGJlaW5nIHJlbmRlcmVkLiBJZiBub1xuICAgKiBgaXNDb25uZWN0ZWRgIG9wdGlvbiBpcyBzZXQsIGBBc3luY0RpcmVjdGl2ZWBzIHdpbGwgYmUgY29ubmVjdGVkIGJ5XG4gICAqIGRlZmF1bHQuIFNldCB0byBgZmFsc2VgIGlmIHRoZSBpbml0aWFsIHJlbmRlciBvY2N1cnMgaW4gYSBkaXNjb25uZWN0ZWQgdHJlZVxuICAgKiBhbmQgYEFzeW5jRGlyZWN0aXZlYHMgc2hvdWxkIHNlZSBgaXNDb25uZWN0ZWQgPT09IGZhbHNlYCBmb3IgdGhlaXIgaW5pdGlhbFxuICAgKiByZW5kZXIuIFRoZSBgcGFydC5zZXRDb25uZWN0ZWQoKWAgbWV0aG9kIG11c3QgYmUgdXNlZCBzdWJzZXF1ZW50IHRvIGluaXRpYWxcbiAgICogcmVuZGVyIHRvIGNoYW5nZSB0aGUgY29ubmVjdGVkIHN0YXRlIG9mIHRoZSBwYXJ0LlxuICAgKi9cbiAgaXNDb25uZWN0ZWQ/OiBib29sZWFuO1xufVxuXG5jb25zdCB3YWxrZXIgPSBkLmNyZWF0ZVRyZWVXYWxrZXIoXG4gIGQsXG4gIDEyOSAvKiBOb2RlRmlsdGVyLlNIT1dfe0VMRU1FTlR8Q09NTUVOVH0gKi9cbik7XG5cbmxldCBzYW5pdGl6ZXJGYWN0b3J5SW50ZXJuYWw6IFNhbml0aXplckZhY3RvcnkgPSBub29wU2FuaXRpemVyO1xuXG4vL1xuLy8gQ2xhc3NlcyBvbmx5IGJlbG93IGhlcmUsIGNvbnN0IHZhcmlhYmxlIGRlY2xhcmF0aW9ucyBvbmx5IGFib3ZlIGhlcmUuLi5cbi8vXG4vLyBLZWVwaW5nIHZhcmlhYmxlIGRlY2xhcmF0aW9ucyBhbmQgY2xhc3NlcyB0b2dldGhlciBpbXByb3ZlcyBtaW5pZmljYXRpb24uXG4vLyBJbnRlcmZhY2VzIGFuZCB0eXBlIGFsaWFzZXMgY2FuIGJlIGludGVybGVhdmVkIGZyZWVseS5cbi8vXG5cbi8vIFR5cGUgZm9yIGNsYXNzZXMgdGhhdCBoYXZlIGEgYF9kaXJlY3RpdmVgIG9yIGBfZGlyZWN0aXZlc1tdYCBmaWVsZCwgdXNlZCBieVxuLy8gYHJlc29sdmVEaXJlY3RpdmVgXG5leHBvcnQgaW50ZXJmYWNlIERpcmVjdGl2ZVBhcmVudCB7XG4gIF8kcGFyZW50PzogRGlyZWN0aXZlUGFyZW50O1xuICBfJGlzQ29ubmVjdGVkOiBib29sZWFuO1xuICBfX2RpcmVjdGl2ZT86IERpcmVjdGl2ZTtcbiAgX19kaXJlY3RpdmVzPzogQXJyYXk8RGlyZWN0aXZlIHwgdW5kZWZpbmVkPjtcbn1cblxuZnVuY3Rpb24gdHJ1c3RGcm9tVGVtcGxhdGVTdHJpbmcoXG4gIHRzYTogVGVtcGxhdGVTdHJpbmdzQXJyYXksXG4gIHN0cmluZ0Zyb21UU0E6IHN0cmluZ1xuKTogVHJ1c3RlZEhUTUwge1xuICAvLyBBIHNlY3VyaXR5IGNoZWNrIHRvIHByZXZlbnQgc3Bvb2Zpbmcgb2YgTGl0IHRlbXBsYXRlIHJlc3VsdHMuXG4gIC8vIEluIHRoZSBmdXR1cmUsIHdlIG1heSBiZSBhYmxlIHRvIHJlcGxhY2UgdGhpcyB3aXRoIEFycmF5LmlzVGVtcGxhdGVPYmplY3QsXG4gIC8vIHRob3VnaCB3ZSBtaWdodCBuZWVkIHRvIG1ha2UgdGhhdCBjaGVjayBpbnNpZGUgb2YgdGhlIGh0bWwgYW5kIHN2Z1xuICAvLyBmdW5jdGlvbnMsIGJlY2F1c2UgcHJlY29tcGlsZWQgdGVtcGxhdGVzIGRvbid0IGNvbWUgaW4gYXNcbiAgLy8gVGVtcGxhdGVTdHJpbmdBcnJheSBvYmplY3RzLlxuICBpZiAoIWlzQXJyYXkodHNhKSB8fCAhdHNhLmhhc093blByb3BlcnR5KCdyYXcnKSkge1xuICAgIGxldCBtZXNzYWdlID0gJ2ludmFsaWQgdGVtcGxhdGUgc3RyaW5ncyBhcnJheSc7XG4gICAgaWYgKERFVl9NT0RFKSB7XG4gICAgICBtZXNzYWdlID0gYFxuICAgICAgICAgIEludGVybmFsIEVycm9yOiBleHBlY3RlZCB0ZW1wbGF0ZSBzdHJpbmdzIHRvIGJlIGFuIGFycmF5XG4gICAgICAgICAgd2l0aCBhICdyYXcnIGZpZWxkLiBGYWtpbmcgYSB0ZW1wbGF0ZSBzdHJpbmdzIGFycmF5IGJ5XG4gICAgICAgICAgY2FsbGluZyBodG1sIG9yIHN2ZyBsaWtlIGFuIG9yZGluYXJ5IGZ1bmN0aW9uIGlzIGVmZmVjdGl2ZWx5XG4gICAgICAgICAgdGhlIHNhbWUgYXMgY2FsbGluZyB1bnNhZmVIdG1sIGFuZCBjYW4gbGVhZCB0byBtYWpvciBzZWN1cml0eVxuICAgICAgICAgIGlzc3VlcywgZS5nLiBvcGVuaW5nIHlvdXIgY29kZSB1cCB0byBYU1MgYXR0YWNrcy5cbiAgICAgICAgICBJZiB5b3UncmUgdXNpbmcgdGhlIGh0bWwgb3Igc3ZnIHRhZ2dlZCB0ZW1wbGF0ZSBmdW5jdGlvbnMgbm9ybWFsbHlcbiAgICAgICAgICBhbmQgc3RpbGwgc2VlaW5nIHRoaXMgZXJyb3IsIHBsZWFzZSBmaWxlIGEgYnVnIGF0XG4gICAgICAgICAgaHR0cHM6Ly9naXRodWIuY29tL2xpdC9saXQvaXNzdWVzL25ldz90ZW1wbGF0ZT1idWdfcmVwb3J0Lm1kXG4gICAgICAgICAgYW5kIGluY2x1ZGUgaW5mb3JtYXRpb24gYWJvdXQgeW91ciBidWlsZCB0b29saW5nLCBpZiBhbnkuXG4gICAgICAgIGBcbiAgICAgICAgLnRyaW0oKVxuICAgICAgICAucmVwbGFjZSgvXFxuICovZywgJ1xcbicpO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG4gIH1cbiAgcmV0dXJuIHBvbGljeSAhPT0gdW5kZWZpbmVkXG4gICAgPyBwb2xpY3kuY3JlYXRlSFRNTChzdHJpbmdGcm9tVFNBKVxuICAgIDogKHN0cmluZ0Zyb21UU0EgYXMgdW5rbm93biBhcyBUcnVzdGVkSFRNTCk7XG59XG5cbi8qKlxuICogUmV0dXJucyBhbiBIVE1MIHN0cmluZyBmb3IgdGhlIGdpdmVuIFRlbXBsYXRlU3RyaW5nc0FycmF5IGFuZCByZXN1bHQgdHlwZVxuICogKEhUTUwgb3IgU1ZHKSwgYWxvbmcgd2l0aCB0aGUgY2FzZS1zZW5zaXRpdmUgYm91bmQgYXR0cmlidXRlIG5hbWVzIGluXG4gKiB0ZW1wbGF0ZSBvcmRlci4gVGhlIEhUTUwgY29udGFpbnMgY29tbWVudCBtYXJrZXJzIGRlbm90aW5nIHRoZSBgQ2hpbGRQYXJ0YHNcbiAqIGFuZCBzdWZmaXhlcyBvbiBib3VuZCBhdHRyaWJ1dGVzIGRlbm90aW5nIHRoZSBgQXR0cmlidXRlUGFydHNgLlxuICpcbiAqIEBwYXJhbSBzdHJpbmdzIHRlbXBsYXRlIHN0cmluZ3MgYXJyYXlcbiAqIEBwYXJhbSB0eXBlIEhUTUwgb3IgU1ZHXG4gKiBAcmV0dXJuIEFycmF5IGNvbnRhaW5pbmcgYFtodG1sLCBhdHRyTmFtZXNdYCAoYXJyYXkgcmV0dXJuZWQgZm9yIHRlcnNlbmVzcyxcbiAqICAgICB0byBhdm9pZCBvYmplY3QgZmllbGRzIHNpbmNlIHRoaXMgY29kZSBpcyBzaGFyZWQgd2l0aCBub24tbWluaWZpZWQgU1NSXG4gKiAgICAgY29kZSlcbiAqL1xuY29uc3QgZ2V0VGVtcGxhdGVIdG1sID0gKFxuICBzdHJpbmdzOiBUZW1wbGF0ZVN0cmluZ3NBcnJheSxcbiAgdHlwZTogUmVzdWx0VHlwZVxuKTogW1RydXN0ZWRIVE1MLCBBcnJheTxzdHJpbmc+XSA9PiB7XG4gIC8vIEluc2VydCBtYWtlcnMgaW50byB0aGUgdGVtcGxhdGUgSFRNTCB0byByZXByZXNlbnQgdGhlIHBvc2l0aW9uIG9mXG4gIC8vIGJpbmRpbmdzLiBUaGUgZm9sbG93aW5nIGNvZGUgc2NhbnMgdGhlIHRlbXBsYXRlIHN0cmluZ3MgdG8gZGV0ZXJtaW5lIHRoZVxuICAvLyBzeW50YWN0aWMgcG9zaXRpb24gb2YgdGhlIGJpbmRpbmdzLiBUaGV5IGNhbiBiZSBpbiB0ZXh0IHBvc2l0aW9uLCB3aGVyZVxuICAvLyB3ZSBpbnNlcnQgYW4gSFRNTCBjb21tZW50LCBhdHRyaWJ1dGUgdmFsdWUgcG9zaXRpb24sIHdoZXJlIHdlIGluc2VydCBhXG4gIC8vIHNlbnRpbmVsIHN0cmluZyBhbmQgcmUtd3JpdGUgdGhlIGF0dHJpYnV0ZSBuYW1lLCBvciBpbnNpZGUgYSB0YWcgd2hlcmVcbiAgLy8gd2UgaW5zZXJ0IHRoZSBzZW50aW5lbCBzdHJpbmcuXG4gIGNvbnN0IGwgPSBzdHJpbmdzLmxlbmd0aCAtIDE7XG4gIC8vIFN0b3JlcyB0aGUgY2FzZS1zZW5zaXRpdmUgYm91bmQgYXR0cmlidXRlIG5hbWVzIGluIHRoZSBvcmRlciBvZiB0aGVpclxuICAvLyBwYXJ0cy4gRWxlbWVudFBhcnRzIGFyZSBhbHNvIHJlZmxlY3RlZCBpbiB0aGlzIGFycmF5IGFzIHVuZGVmaW5lZFxuICAvLyByYXRoZXIgdGhhbiBhIHN0cmluZywgdG8gZGlzYW1iaWd1YXRlIGZyb20gYXR0cmlidXRlIGJpbmRpbmdzLlxuICBjb25zdCBhdHRyTmFtZXM6IEFycmF5PHN0cmluZz4gPSBbXTtcbiAgbGV0IGh0bWwgPVxuICAgIHR5cGUgPT09IFNWR19SRVNVTFQgPyAnPHN2Zz4nIDogdHlwZSA9PT0gTUFUSE1MX1JFU1VMVCA/ICc8bWF0aD4nIDogJyc7XG5cbiAgLy8gV2hlbiB3ZSdyZSBpbnNpZGUgYSByYXcgdGV4dCB0YWcgKG5vdCBpdCdzIHRleHQgY29udGVudCksIHRoZSByZWdleFxuICAvLyB3aWxsIHN0aWxsIGJlIHRhZ1JlZ2V4IHNvIHdlIGNhbiBmaW5kIGF0dHJpYnV0ZXMsIGJ1dCB3aWxsIHN3aXRjaCB0b1xuICAvLyB0aGlzIHJlZ2V4IHdoZW4gdGhlIHRhZyBlbmRzLlxuICBsZXQgcmF3VGV4dEVuZFJlZ2V4OiBSZWdFeHAgfCB1bmRlZmluZWQ7XG5cbiAgLy8gVGhlIGN1cnJlbnQgcGFyc2luZyBzdGF0ZSwgcmVwcmVzZW50ZWQgYXMgYSByZWZlcmVuY2UgdG8gb25lIG9mIHRoZVxuICAvLyByZWdleGVzXG4gIGxldCByZWdleCA9IHRleHRFbmRSZWdleDtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IGw7IGkrKykge1xuICAgIGNvbnN0IHMgPSBzdHJpbmdzW2ldO1xuICAgIC8vIFRoZSBpbmRleCBvZiB0aGUgZW5kIG9mIHRoZSBsYXN0IGF0dHJpYnV0ZSBuYW1lLiBXaGVuIHRoaXMgaXNcbiAgICAvLyBwb3NpdGl2ZSBhdCBlbmQgb2YgYSBzdHJpbmcsIGl0IG1lYW5zIHdlJ3JlIGluIGFuIGF0dHJpYnV0ZSB2YWx1ZVxuICAgIC8vIHBvc2l0aW9uIGFuZCBuZWVkIHRvIHJld3JpdGUgdGhlIGF0dHJpYnV0ZSBuYW1lLlxuICAgIC8vIFdlIGFsc28gdXNlIGEgc3BlY2lhbCB2YWx1ZSBvZiAtMiB0byBpbmRpY2F0ZSB0aGF0IHdlIGVuY291bnRlcmVkXG4gICAgLy8gdGhlIGVuZCBvZiBhIHN0cmluZyBpbiBhdHRyaWJ1dGUgbmFtZSBwb3NpdGlvbi5cbiAgICBsZXQgYXR0ck5hbWVFbmRJbmRleCA9IC0xO1xuICAgIGxldCBhdHRyTmFtZTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAgIGxldCBsYXN0SW5kZXggPSAwO1xuICAgIGxldCBtYXRjaCE6IFJlZ0V4cEV4ZWNBcnJheSB8IG51bGw7XG5cbiAgICAvLyBUaGUgY29uZGl0aW9ucyBpbiB0aGlzIGxvb3AgaGFuZGxlIHRoZSBjdXJyZW50IHBhcnNlIHN0YXRlLCBhbmQgdGhlXG4gICAgLy8gYXNzaWdubWVudHMgdG8gdGhlIGByZWdleGAgdmFyaWFibGUgYXJlIHRoZSBzdGF0ZSB0cmFuc2l0aW9ucy5cbiAgICB3aGlsZSAobGFzdEluZGV4IDwgcy5sZW5ndGgpIHtcbiAgICAgIC8vIE1ha2Ugc3VyZSB3ZSBzdGFydCBzZWFyY2hpbmcgZnJvbSB3aGVyZSB3ZSBwcmV2aW91c2x5IGxlZnQgb2ZmXG4gICAgICByZWdleC5sYXN0SW5kZXggPSBsYXN0SW5kZXg7XG4gICAgICBtYXRjaCA9IHJlZ2V4LmV4ZWMocyk7XG4gICAgICBpZiAobWF0Y2ggPT09IG51bGwpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBsYXN0SW5kZXggPSByZWdleC5sYXN0SW5kZXg7XG4gICAgICBpZiAocmVnZXggPT09IHRleHRFbmRSZWdleCkge1xuICAgICAgICBpZiAobWF0Y2hbQ09NTUVOVF9TVEFSVF0gPT09ICchLS0nKSB7XG4gICAgICAgICAgcmVnZXggPSBjb21tZW50RW5kUmVnZXg7XG4gICAgICAgIH0gZWxzZSBpZiAobWF0Y2hbQ09NTUVOVF9TVEFSVF0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIC8vIFdlIHN0YXJ0ZWQgYSB3ZWlyZCBjb21tZW50LCBsaWtlIDwve1xuICAgICAgICAgIHJlZ2V4ID0gY29tbWVudDJFbmRSZWdleDtcbiAgICAgICAgfSBlbHNlIGlmIChtYXRjaFtUQUdfTkFNRV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGlmIChyYXdUZXh0RWxlbWVudC50ZXN0KG1hdGNoW1RBR19OQU1FXSkpIHtcbiAgICAgICAgICAgIC8vIFJlY29yZCBpZiB3ZSBlbmNvdW50ZXIgYSByYXctdGV4dCBlbGVtZW50LiBXZSdsbCBzd2l0Y2ggdG9cbiAgICAgICAgICAgIC8vIHRoaXMgcmVnZXggYXQgdGhlIGVuZCBvZiB0aGUgdGFnLlxuICAgICAgICAgICAgcmF3VGV4dEVuZFJlZ2V4ID0gbmV3IFJlZ0V4cChgPC8ke21hdGNoW1RBR19OQU1FXX1gLCAnZycpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZWdleCA9IHRhZ0VuZFJlZ2V4O1xuICAgICAgICB9IGVsc2UgaWYgKG1hdGNoW0RZTkFNSUNfVEFHX05BTUVdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBpZiAoREVWX01PREUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgJ0JpbmRpbmdzIGluIHRhZyBuYW1lcyBhcmUgbm90IHN1cHBvcnRlZC4gUGxlYXNlIHVzZSBzdGF0aWMgdGVtcGxhdGVzIGluc3RlYWQuICcgK1xuICAgICAgICAgICAgICAgICdTZWUgaHR0cHM6Ly9saXQuZGV2L2RvY3MvdGVtcGxhdGVzL2V4cHJlc3Npb25zLyNzdGF0aWMtZXhwcmVzc2lvbnMnXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZWdleCA9IHRhZ0VuZFJlZ2V4O1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHJlZ2V4ID09PSB0YWdFbmRSZWdleCkge1xuICAgICAgICBpZiAobWF0Y2hbRU5USVJFX01BVENIXSA9PT0gJz4nKSB7XG4gICAgICAgICAgLy8gRW5kIG9mIGEgdGFnLiBJZiB3ZSBoYWQgc3RhcnRlZCBhIHJhdy10ZXh0IGVsZW1lbnQsIHVzZSB0aGF0XG4gICAgICAgICAgLy8gcmVnZXhcbiAgICAgICAgICByZWdleCA9IHJhd1RleHRFbmRSZWdleCA/PyB0ZXh0RW5kUmVnZXg7XG4gICAgICAgICAgLy8gV2UgbWF5IGJlIGVuZGluZyBhbiB1bnF1b3RlZCBhdHRyaWJ1dGUgdmFsdWUsIHNvIG1ha2Ugc3VyZSB3ZVxuICAgICAgICAgIC8vIGNsZWFyIGFueSBwZW5kaW5nIGF0dHJOYW1lRW5kSW5kZXhcbiAgICAgICAgICBhdHRyTmFtZUVuZEluZGV4ID0gLTE7XG4gICAgICAgIH0gZWxzZSBpZiAobWF0Y2hbQVRUUklCVVRFX05BTUVdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAvLyBBdHRyaWJ1dGUgbmFtZSBwb3NpdGlvblxuICAgICAgICAgIGF0dHJOYW1lRW5kSW5kZXggPSAtMjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhdHRyTmFtZUVuZEluZGV4ID0gcmVnZXgubGFzdEluZGV4IC0gbWF0Y2hbU1BBQ0VTX0FORF9FUVVBTFNdLmxlbmd0aDtcbiAgICAgICAgICBhdHRyTmFtZSA9IG1hdGNoW0FUVFJJQlVURV9OQU1FXTtcbiAgICAgICAgICByZWdleCA9XG4gICAgICAgICAgICBtYXRjaFtRVU9URV9DSEFSXSA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgID8gdGFnRW5kUmVnZXhcbiAgICAgICAgICAgICAgOiBtYXRjaFtRVU9URV9DSEFSXSA9PT0gJ1wiJ1xuICAgICAgICAgICAgICAgID8gZG91YmxlUXVvdGVBdHRyRW5kUmVnZXhcbiAgICAgICAgICAgICAgICA6IHNpbmdsZVF1b3RlQXR0ckVuZFJlZ2V4O1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKFxuICAgICAgICByZWdleCA9PT0gZG91YmxlUXVvdGVBdHRyRW5kUmVnZXggfHxcbiAgICAgICAgcmVnZXggPT09IHNpbmdsZVF1b3RlQXR0ckVuZFJlZ2V4XG4gICAgICApIHtcbiAgICAgICAgcmVnZXggPSB0YWdFbmRSZWdleDtcbiAgICAgIH0gZWxzZSBpZiAocmVnZXggPT09IGNvbW1lbnRFbmRSZWdleCB8fCByZWdleCA9PT0gY29tbWVudDJFbmRSZWdleCkge1xuICAgICAgICByZWdleCA9IHRleHRFbmRSZWdleDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIE5vdCBvbmUgb2YgdGhlIGZpdmUgc3RhdGUgcmVnZXhlcywgc28gaXQgbXVzdCBiZSB0aGUgZHluYW1pY2FsbHlcbiAgICAgICAgLy8gY3JlYXRlZCByYXcgdGV4dCByZWdleCBhbmQgd2UncmUgYXQgdGhlIGNsb3NlIG9mIHRoYXQgZWxlbWVudC5cbiAgICAgICAgcmVnZXggPSB0YWdFbmRSZWdleDtcbiAgICAgICAgcmF3VGV4dEVuZFJlZ2V4ID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChERVZfTU9ERSkge1xuICAgICAgLy8gSWYgd2UgaGF2ZSBhIGF0dHJOYW1lRW5kSW5kZXgsIHdoaWNoIGluZGljYXRlcyB0aGF0IHdlIHNob3VsZFxuICAgICAgLy8gcmV3cml0ZSB0aGUgYXR0cmlidXRlIG5hbWUsIGFzc2VydCB0aGF0IHdlJ3JlIGluIGEgdmFsaWQgYXR0cmlidXRlXG4gICAgICAvLyBwb3NpdGlvbiAtIGVpdGhlciBpbiBhIHRhZywgb3IgYSBxdW90ZWQgYXR0cmlidXRlIHZhbHVlLlxuICAgICAgY29uc29sZS5hc3NlcnQoXG4gICAgICAgIGF0dHJOYW1lRW5kSW5kZXggPT09IC0xIHx8XG4gICAgICAgICAgcmVnZXggPT09IHRhZ0VuZFJlZ2V4IHx8XG4gICAgICAgICAgcmVnZXggPT09IHNpbmdsZVF1b3RlQXR0ckVuZFJlZ2V4IHx8XG4gICAgICAgICAgcmVnZXggPT09IGRvdWJsZVF1b3RlQXR0ckVuZFJlZ2V4LFxuICAgICAgICAndW5leHBlY3RlZCBwYXJzZSBzdGF0ZSBCJ1xuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBXZSBoYXZlIGZvdXIgY2FzZXM6XG4gICAgLy8gIDEuIFdlJ3JlIGluIHRleHQgcG9zaXRpb24sIGFuZCBub3QgaW4gYSByYXcgdGV4dCBlbGVtZW50XG4gICAgLy8gICAgIChyZWdleCA9PT0gdGV4dEVuZFJlZ2V4KTogaW5zZXJ0IGEgY29tbWVudCBtYXJrZXIuXG4gICAgLy8gIDIuIFdlIGhhdmUgYSBub24tbmVnYXRpdmUgYXR0ck5hbWVFbmRJbmRleCB3aGljaCBtZWFucyB3ZSBuZWVkIHRvXG4gICAgLy8gICAgIHJld3JpdGUgdGhlIGF0dHJpYnV0ZSBuYW1lIHRvIGFkZCBhIGJvdW5kIGF0dHJpYnV0ZSBzdWZmaXguXG4gICAgLy8gIDMuIFdlJ3JlIGF0IHRoZSBub24tZmlyc3QgYmluZGluZyBpbiBhIG11bHRpLWJpbmRpbmcgYXR0cmlidXRlLCB1c2UgYVxuICAgIC8vICAgICBwbGFpbiBtYXJrZXIuXG4gICAgLy8gIDQuIFdlJ3JlIHNvbWV3aGVyZSBlbHNlIGluc2lkZSB0aGUgdGFnLiBJZiB3ZSdyZSBpbiBhdHRyaWJ1dGUgbmFtZVxuICAgIC8vICAgICBwb3NpdGlvbiAoYXR0ck5hbWVFbmRJbmRleCA9PT0gLTIpLCBhZGQgYSBzZXF1ZW50aWFsIHN1ZmZpeCB0b1xuICAgIC8vICAgICBnZW5lcmF0ZSBhIHVuaXF1ZSBhdHRyaWJ1dGUgbmFtZS5cblxuICAgIC8vIERldGVjdCBhIGJpbmRpbmcgbmV4dCB0byBzZWxmLWNsb3NpbmcgdGFnIGVuZCBhbmQgaW5zZXJ0IGEgc3BhY2UgdG9cbiAgICAvLyBzZXBhcmF0ZSB0aGUgbWFya2VyIGZyb20gdGhlIHRhZyBlbmQ6XG4gICAgY29uc3QgZW5kID1cbiAgICAgIHJlZ2V4ID09PSB0YWdFbmRSZWdleCAmJiBzdHJpbmdzW2kgKyAxXS5zdGFydHNXaXRoKCcvPicpID8gJyAnIDogJyc7XG4gICAgaHRtbCArPVxuICAgICAgcmVnZXggPT09IHRleHRFbmRSZWdleFxuICAgICAgICA/IHMgKyBub2RlTWFya2VyXG4gICAgICAgIDogYXR0ck5hbWVFbmRJbmRleCA+PSAwXG4gICAgICAgICAgPyAoYXR0ck5hbWVzLnB1c2goYXR0ck5hbWUhKSxcbiAgICAgICAgICAgIHMuc2xpY2UoMCwgYXR0ck5hbWVFbmRJbmRleCkgK1xuICAgICAgICAgICAgICBib3VuZEF0dHJpYnV0ZVN1ZmZpeCArXG4gICAgICAgICAgICAgIHMuc2xpY2UoYXR0ck5hbWVFbmRJbmRleCkpICtcbiAgICAgICAgICAgIG1hcmtlciArXG4gICAgICAgICAgICBlbmRcbiAgICAgICAgICA6IHMgKyBtYXJrZXIgKyAoYXR0ck5hbWVFbmRJbmRleCA9PT0gLTIgPyBpIDogZW5kKTtcbiAgfVxuXG4gIGNvbnN0IGh0bWxSZXN1bHQ6IHN0cmluZyB8IFRydXN0ZWRIVE1MID1cbiAgICBodG1sICtcbiAgICAoc3RyaW5nc1tsXSB8fCAnPD8+JykgK1xuICAgICh0eXBlID09PSBTVkdfUkVTVUxUID8gJzwvc3ZnPicgOiB0eXBlID09PSBNQVRITUxfUkVTVUxUID8gJzwvbWF0aD4nIDogJycpO1xuXG4gIC8vIFJldHVybmVkIGFzIGFuIGFycmF5IGZvciB0ZXJzZW5lc3NcbiAgcmV0dXJuIFt0cnVzdEZyb21UZW1wbGF0ZVN0cmluZyhzdHJpbmdzLCBodG1sUmVzdWx0KSwgYXR0ck5hbWVzXTtcbn07XG5cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCB0eXBlIHtUZW1wbGF0ZX07XG5jbGFzcyBUZW1wbGF0ZSB7XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgZWwhOiBIVE1MVGVtcGxhdGVFbGVtZW50O1xuXG4gIHBhcnRzOiBBcnJheTxUZW1wbGF0ZVBhcnQ+ID0gW107XG5cbiAgY29uc3RydWN0b3IoXG4gICAgLy8gVGhpcyBwcm9wZXJ0eSBuZWVkcyB0byByZW1haW4gdW5taW5pZmllZC5cbiAgICB7c3RyaW5ncywgWydfJGxpdFR5cGUkJ106IHR5cGV9OiBVbmNvbXBpbGVkVGVtcGxhdGVSZXN1bHQsXG4gICAgb3B0aW9ucz86IFJlbmRlck9wdGlvbnNcbiAgKSB7XG4gICAgbGV0IG5vZGU6IE5vZGUgfCBudWxsO1xuICAgIGxldCBub2RlSW5kZXggPSAwO1xuICAgIGxldCBhdHRyTmFtZUluZGV4ID0gMDtcbiAgICBjb25zdCBwYXJ0Q291bnQgPSBzdHJpbmdzLmxlbmd0aCAtIDE7XG4gICAgY29uc3QgcGFydHMgPSB0aGlzLnBhcnRzO1xuXG4gICAgLy8gQ3JlYXRlIHRlbXBsYXRlIGVsZW1lbnRcbiAgICBjb25zdCBbaHRtbCwgYXR0ck5hbWVzXSA9IGdldFRlbXBsYXRlSHRtbChzdHJpbmdzLCB0eXBlKTtcbiAgICB0aGlzLmVsID0gVGVtcGxhdGUuY3JlYXRlRWxlbWVudChodG1sLCBvcHRpb25zKTtcbiAgICB3YWxrZXIuY3VycmVudE5vZGUgPSB0aGlzLmVsLmNvbnRlbnQ7XG5cbiAgICAvLyBSZS1wYXJlbnQgU1ZHIG9yIE1hdGhNTCBub2RlcyBpbnRvIHRlbXBsYXRlIHJvb3RcbiAgICBpZiAodHlwZSA9PT0gU1ZHX1JFU1VMVCB8fCB0eXBlID09PSBNQVRITUxfUkVTVUxUKSB7XG4gICAgICBjb25zdCB3cmFwcGVyID0gdGhpcy5lbC5jb250ZW50LmZpcnN0Q2hpbGQhO1xuICAgICAgd3JhcHBlci5yZXBsYWNlV2l0aCguLi53cmFwcGVyLmNoaWxkTm9kZXMpO1xuICAgIH1cblxuICAgIC8vIFdhbGsgdGhlIHRlbXBsYXRlIHRvIGZpbmQgYmluZGluZyBtYXJrZXJzIGFuZCBjcmVhdGUgVGVtcGxhdGVQYXJ0c1xuICAgIHdoaWxlICgobm9kZSA9IHdhbGtlci5uZXh0Tm9kZSgpKSAhPT0gbnVsbCAmJiBwYXJ0cy5sZW5ndGggPCBwYXJ0Q291bnQpIHtcbiAgICAgIGlmIChub2RlLm5vZGVUeXBlID09PSAxKSB7XG4gICAgICAgIGlmIChERVZfTU9ERSkge1xuICAgICAgICAgIGNvbnN0IHRhZyA9IChub2RlIGFzIEVsZW1lbnQpLmxvY2FsTmFtZTtcbiAgICAgICAgICAvLyBXYXJuIGlmIGB0ZXh0YXJlYWAgaW5jbHVkZXMgYW4gZXhwcmVzc2lvbiBhbmQgdGhyb3cgaWYgYHRlbXBsYXRlYFxuICAgICAgICAgIC8vIGRvZXMgc2luY2UgdGhlc2UgYXJlIG5vdCBzdXBwb3J0ZWQuIFdlIGRvIHRoaXMgYnkgY2hlY2tpbmdcbiAgICAgICAgICAvLyBpbm5lckhUTUwgZm9yIGFueXRoaW5nIHRoYXQgbG9va3MgbGlrZSBhIG1hcmtlci4gVGhpcyBjYXRjaGVzXG4gICAgICAgICAgLy8gY2FzZXMgbGlrZSBiaW5kaW5ncyBpbiB0ZXh0YXJlYSB0aGVyZSBtYXJrZXJzIHR1cm4gaW50byB0ZXh0IG5vZGVzLlxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIC9eKD86dGV4dGFyZWF8dGVtcGxhdGUpJC9pIS50ZXN0KHRhZykgJiZcbiAgICAgICAgICAgIChub2RlIGFzIEVsZW1lbnQpLmlubmVySFRNTC5pbmNsdWRlcyhtYXJrZXIpXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBjb25zdCBtID1cbiAgICAgICAgICAgICAgYEV4cHJlc3Npb25zIGFyZSBub3Qgc3VwcG9ydGVkIGluc2lkZSBcXGAke3RhZ31cXGAgYCArXG4gICAgICAgICAgICAgIGBlbGVtZW50cy4gU2VlIGh0dHBzOi8vbGl0LmRldi9tc2cvZXhwcmVzc2lvbi1pbi0ke3RhZ30gZm9yIG1vcmUgYCArXG4gICAgICAgICAgICAgIGBpbmZvcm1hdGlvbi5gO1xuICAgICAgICAgICAgaWYgKHRhZyA9PT0gJ3RlbXBsYXRlJykge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IobSk7XG4gICAgICAgICAgICB9IGVsc2UgaXNzdWVXYXJuaW5nKCcnLCBtKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gVE9ETyAoanVzdGluZmFnbmFuaSk6IGZvciBhdHRlbXB0ZWQgZHluYW1pYyB0YWcgbmFtZXMsIHdlIGRvbid0XG4gICAgICAgIC8vIGluY3JlbWVudCB0aGUgYmluZGluZ0luZGV4LCBhbmQgaXQnbGwgYmUgb2ZmIGJ5IDEgaW4gdGhlIGVsZW1lbnRcbiAgICAgICAgLy8gYW5kIG9mZiBieSB0d28gYWZ0ZXIgaXQuXG4gICAgICAgIGlmICgobm9kZSBhcyBFbGVtZW50KS5oYXNBdHRyaWJ1dGVzKCkpIHtcbiAgICAgICAgICBmb3IgKGNvbnN0IG5hbWUgb2YgKG5vZGUgYXMgRWxlbWVudCkuZ2V0QXR0cmlidXRlTmFtZXMoKSkge1xuICAgICAgICAgICAgaWYgKG5hbWUuZW5kc1dpdGgoYm91bmRBdHRyaWJ1dGVTdWZmaXgpKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHJlYWxOYW1lID0gYXR0ck5hbWVzW2F0dHJOYW1lSW5kZXgrK107XG4gICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gKG5vZGUgYXMgRWxlbWVudCkuZ2V0QXR0cmlidXRlKG5hbWUpITtcbiAgICAgICAgICAgICAgY29uc3Qgc3RhdGljcyA9IHZhbHVlLnNwbGl0KG1hcmtlcik7XG4gICAgICAgICAgICAgIGNvbnN0IG0gPSAvKFsuP0BdKT8oLiopLy5leGVjKHJlYWxOYW1lKSE7XG4gICAgICAgICAgICAgIHBhcnRzLnB1c2goe1xuICAgICAgICAgICAgICAgIHR5cGU6IEFUVFJJQlVURV9QQVJULFxuICAgICAgICAgICAgICAgIGluZGV4OiBub2RlSW5kZXgsXG4gICAgICAgICAgICAgICAgbmFtZTogbVsyXSxcbiAgICAgICAgICAgICAgICBzdHJpbmdzOiBzdGF0aWNzLFxuICAgICAgICAgICAgICAgIGN0b3I6XG4gICAgICAgICAgICAgICAgICBtWzFdID09PSAnLidcbiAgICAgICAgICAgICAgICAgICAgPyBQcm9wZXJ0eVBhcnRcbiAgICAgICAgICAgICAgICAgICAgOiBtWzFdID09PSAnPydcbiAgICAgICAgICAgICAgICAgICAgICA/IEJvb2xlYW5BdHRyaWJ1dGVQYXJ0XG4gICAgICAgICAgICAgICAgICAgICAgOiBtWzFdID09PSAnQCdcbiAgICAgICAgICAgICAgICAgICAgICAgID8gRXZlbnRQYXJ0XG4gICAgICAgICAgICAgICAgICAgICAgICA6IEF0dHJpYnV0ZVBhcnQsXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAobm9kZSBhcyBFbGVtZW50KS5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG5hbWUuc3RhcnRzV2l0aChtYXJrZXIpKSB7XG4gICAgICAgICAgICAgIHBhcnRzLnB1c2goe1xuICAgICAgICAgICAgICAgIHR5cGU6IEVMRU1FTlRfUEFSVCxcbiAgICAgICAgICAgICAgICBpbmRleDogbm9kZUluZGV4LFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgKG5vZGUgYXMgRWxlbWVudCkucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBUT0RPIChqdXN0aW5mYWduYW5pKTogYmVuY2htYXJrIHRoZSByZWdleCBhZ2FpbnN0IHRlc3RpbmcgZm9yIGVhY2hcbiAgICAgICAgLy8gb2YgdGhlIDMgcmF3IHRleHQgZWxlbWVudCBuYW1lcy5cbiAgICAgICAgaWYgKHJhd1RleHRFbGVtZW50LnRlc3QoKG5vZGUgYXMgRWxlbWVudCkudGFnTmFtZSkpIHtcbiAgICAgICAgICAvLyBGb3IgcmF3IHRleHQgZWxlbWVudHMgd2UgbmVlZCB0byBzcGxpdCB0aGUgdGV4dCBjb250ZW50IG9uXG4gICAgICAgICAgLy8gbWFya2VycywgY3JlYXRlIGEgVGV4dCBub2RlIGZvciBlYWNoIHNlZ21lbnQsIGFuZCBjcmVhdGVcbiAgICAgICAgICAvLyBhIFRlbXBsYXRlUGFydCBmb3IgZWFjaCBtYXJrZXIuXG4gICAgICAgICAgY29uc3Qgc3RyaW5ncyA9IChub2RlIGFzIEVsZW1lbnQpLnRleHRDb250ZW50IS5zcGxpdChtYXJrZXIpO1xuICAgICAgICAgIGNvbnN0IGxhc3RJbmRleCA9IHN0cmluZ3MubGVuZ3RoIC0gMTtcbiAgICAgICAgICBpZiAobGFzdEluZGV4ID4gMCkge1xuICAgICAgICAgICAgKG5vZGUgYXMgRWxlbWVudCkudGV4dENvbnRlbnQgPSB0cnVzdGVkVHlwZXNcbiAgICAgICAgICAgICAgPyAodHJ1c3RlZFR5cGVzLmVtcHR5U2NyaXB0IGFzIHVua25vd24gYXMgJycpXG4gICAgICAgICAgICAgIDogJyc7XG4gICAgICAgICAgICAvLyBHZW5lcmF0ZSBhIG5ldyB0ZXh0IG5vZGUgZm9yIGVhY2ggbGl0ZXJhbCBzZWN0aW9uXG4gICAgICAgICAgICAvLyBUaGVzZSBub2RlcyBhcmUgYWxzbyB1c2VkIGFzIHRoZSBtYXJrZXJzIGZvciBjaGlsZCBwYXJ0c1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsYXN0SW5kZXg7IGkrKykge1xuICAgICAgICAgICAgICAobm9kZSBhcyBFbGVtZW50KS5hcHBlbmQoc3RyaW5nc1tpXSwgY3JlYXRlTWFya2VyKCkpO1xuICAgICAgICAgICAgICAvLyBXYWxrIHBhc3QgdGhlIG1hcmtlciBub2RlIHdlIGp1c3QgYWRkZWRcbiAgICAgICAgICAgICAgd2Fsa2VyLm5leHROb2RlKCk7XG4gICAgICAgICAgICAgIHBhcnRzLnB1c2goe3R5cGU6IENISUxEX1BBUlQsIGluZGV4OiArK25vZGVJbmRleH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gTm90ZSBiZWNhdXNlIHRoaXMgbWFya2VyIGlzIGFkZGVkIGFmdGVyIHRoZSB3YWxrZXIncyBjdXJyZW50XG4gICAgICAgICAgICAvLyBub2RlLCBpdCB3aWxsIGJlIHdhbGtlZCB0byBpbiB0aGUgb3V0ZXIgbG9vcCAoYW5kIGlnbm9yZWQpLCBzb1xuICAgICAgICAgICAgLy8gd2UgZG9uJ3QgbmVlZCB0byBhZGp1c3Qgbm9kZUluZGV4IGhlcmVcbiAgICAgICAgICAgIChub2RlIGFzIEVsZW1lbnQpLmFwcGVuZChzdHJpbmdzW2xhc3RJbmRleF0sIGNyZWF0ZU1hcmtlcigpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAobm9kZS5ub2RlVHlwZSA9PT0gOCkge1xuICAgICAgICBjb25zdCBkYXRhID0gKG5vZGUgYXMgQ29tbWVudCkuZGF0YTtcbiAgICAgICAgaWYgKGRhdGEgPT09IG1hcmtlck1hdGNoKSB7XG4gICAgICAgICAgcGFydHMucHVzaCh7dHlwZTogQ0hJTERfUEFSVCwgaW5kZXg6IG5vZGVJbmRleH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxldCBpID0gLTE7XG4gICAgICAgICAgd2hpbGUgKChpID0gKG5vZGUgYXMgQ29tbWVudCkuZGF0YS5pbmRleE9mKG1hcmtlciwgaSArIDEpKSAhPT0gLTEpIHtcbiAgICAgICAgICAgIC8vIENvbW1lbnQgbm9kZSBoYXMgYSBiaW5kaW5nIG1hcmtlciBpbnNpZGUsIG1ha2UgYW4gaW5hY3RpdmUgcGFydFxuICAgICAgICAgICAgLy8gVGhlIGJpbmRpbmcgd29uJ3Qgd29yaywgYnV0IHN1YnNlcXVlbnQgYmluZGluZ3Mgd2lsbFxuICAgICAgICAgICAgcGFydHMucHVzaCh7dHlwZTogQ09NTUVOVF9QQVJULCBpbmRleDogbm9kZUluZGV4fSk7XG4gICAgICAgICAgICAvLyBNb3ZlIHRvIHRoZSBlbmQgb2YgdGhlIG1hdGNoXG4gICAgICAgICAgICBpICs9IG1hcmtlci5sZW5ndGggLSAxO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbm9kZUluZGV4Kys7XG4gICAgfVxuXG4gICAgaWYgKERFVl9NT0RFKSB7XG4gICAgICAvLyBJZiB0aGVyZSB3YXMgYSBkdXBsaWNhdGUgYXR0cmlidXRlIG9uIGEgdGFnLCB0aGVuIHdoZW4gdGhlIHRhZyBpc1xuICAgICAgLy8gcGFyc2VkIGludG8gYW4gZWxlbWVudCB0aGUgYXR0cmlidXRlIGdldHMgZGUtZHVwbGljYXRlZC4gV2UgY2FuIGRldGVjdFxuICAgICAgLy8gdGhpcyBtaXNtYXRjaCBpZiB3ZSBoYXZlbid0IHByZWNpc2VseSBjb25zdW1lZCBldmVyeSBhdHRyaWJ1dGUgbmFtZVxuICAgICAgLy8gd2hlbiBwcmVwYXJpbmcgdGhlIHRlbXBsYXRlLiBUaGlzIHdvcmtzIGJlY2F1c2UgYGF0dHJOYW1lc2AgaXMgYnVpbHRcbiAgICAgIC8vIGZyb20gdGhlIHRlbXBsYXRlIHN0cmluZyBhbmQgYGF0dHJOYW1lSW5kZXhgIGNvbWVzIGZyb20gcHJvY2Vzc2luZyB0aGVcbiAgICAgIC8vIHJlc3VsdGluZyBET00uXG4gICAgICBpZiAoYXR0ck5hbWVzLmxlbmd0aCAhPT0gYXR0ck5hbWVJbmRleCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgYERldGVjdGVkIGR1cGxpY2F0ZSBhdHRyaWJ1dGUgYmluZGluZ3MuIFRoaXMgb2NjdXJzIGlmIHlvdXIgdGVtcGxhdGUgYCArXG4gICAgICAgICAgICBgaGFzIGR1cGxpY2F0ZSBhdHRyaWJ1dGVzIG9uIGFuIGVsZW1lbnQgdGFnLiBGb3IgZXhhbXBsZSBgICtcbiAgICAgICAgICAgIGBcIjxpbnB1dCA/ZGlzYWJsZWQ9XFwke3RydWV9ID9kaXNhYmxlZD1cXCR7ZmFsc2V9PlwiIGNvbnRhaW5zIGEgYCArXG4gICAgICAgICAgICBgZHVwbGljYXRlIFwiZGlzYWJsZWRcIiBhdHRyaWJ1dGUuIFRoZSBlcnJvciB3YXMgZGV0ZWN0ZWQgaW4gYCArXG4gICAgICAgICAgICBgdGhlIGZvbGxvd2luZyB0ZW1wbGF0ZTogXFxuYCArXG4gICAgICAgICAgICAnYCcgK1xuICAgICAgICAgICAgc3RyaW5ncy5qb2luKCckey4uLn0nKSArXG4gICAgICAgICAgICAnYCdcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBXZSBjb3VsZCBzZXQgd2Fsa2VyLmN1cnJlbnROb2RlIHRvIGFub3RoZXIgbm9kZSBoZXJlIHRvIHByZXZlbnQgYSBtZW1vcnlcbiAgICAvLyBsZWFrLCBidXQgZXZlcnkgdGltZSB3ZSBwcmVwYXJlIGEgdGVtcGxhdGUsIHdlIGltbWVkaWF0ZWx5IHJlbmRlciBpdFxuICAgIC8vIGFuZCByZS11c2UgdGhlIHdhbGtlciBpbiBuZXcgVGVtcGxhdGVJbnN0YW5jZS5fY2xvbmUoKS5cbiAgICBkZWJ1Z0xvZ0V2ZW50ICYmXG4gICAgICBkZWJ1Z0xvZ0V2ZW50KHtcbiAgICAgICAga2luZDogJ3RlbXBsYXRlIHByZXAnLFxuICAgICAgICB0ZW1wbGF0ZTogdGhpcyxcbiAgICAgICAgY2xvbmFibGVUZW1wbGF0ZTogdGhpcy5lbCxcbiAgICAgICAgcGFydHM6IHRoaXMucGFydHMsXG4gICAgICAgIHN0cmluZ3MsXG4gICAgICB9KTtcbiAgfVxuXG4gIC8vIE92ZXJyaWRkZW4gdmlhIGBsaXRIdG1sUG9seWZpbGxTdXBwb3J0YCB0byBwcm92aWRlIHBsYXRmb3JtIHN1cHBvcnQuXG4gIC8qKiBAbm9jb2xsYXBzZSAqL1xuICBzdGF0aWMgY3JlYXRlRWxlbWVudChodG1sOiBUcnVzdGVkSFRNTCwgX29wdGlvbnM/OiBSZW5kZXJPcHRpb25zKSB7XG4gICAgY29uc3QgZWwgPSBkLmNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJyk7XG4gICAgZWwuaW5uZXJIVE1MID0gaHRtbCBhcyB1bmtub3duIGFzIHN0cmluZztcbiAgICByZXR1cm4gZWw7XG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBEaXNjb25uZWN0YWJsZSB7XG4gIF8kcGFyZW50PzogRGlzY29ubmVjdGFibGU7XG4gIF8kZGlzY29ubmVjdGFibGVDaGlsZHJlbj86IFNldDxEaXNjb25uZWN0YWJsZT47XG4gIC8vIFJhdGhlciB0aGFuIGhvbGQgY29ubmVjdGlvbiBzdGF0ZSBvbiBpbnN0YW5jZXMsIERpc2Nvbm5lY3RhYmxlcyByZWN1cnNpdmVseVxuICAvLyBmZXRjaCB0aGUgY29ubmVjdGlvbiBzdGF0ZSBmcm9tIHRoZSBSb290UGFydCB0aGV5IGFyZSBjb25uZWN0ZWQgaW4gdmlhXG4gIC8vIGdldHRlcnMgdXAgdGhlIERpc2Nvbm5lY3RhYmxlIHRyZWUgdmlhIF8kcGFyZW50IHJlZmVyZW5jZXMuIFRoaXMgcHVzaGVzIHRoZVxuICAvLyBjb3N0IG9mIHRyYWNraW5nIHRoZSBpc0Nvbm5lY3RlZCBzdGF0ZSB0byBgQXN5bmNEaXJlY3RpdmVzYCwgYW5kIGF2b2lkc1xuICAvLyBuZWVkaW5nIHRvIHBhc3MgYWxsIERpc2Nvbm5lY3RhYmxlcyAocGFydHMsIHRlbXBsYXRlIGluc3RhbmNlcywgYW5kXG4gIC8vIGRpcmVjdGl2ZXMpIHRoZWlyIGNvbm5lY3Rpb24gc3RhdGUgZWFjaCB0aW1lIGl0IGNoYW5nZXMsIHdoaWNoIHdvdWxkIGJlXG4gIC8vIGNvc3RseSBmb3IgdHJlZXMgdGhhdCBoYXZlIG5vIEFzeW5jRGlyZWN0aXZlcy5cbiAgXyRpc0Nvbm5lY3RlZDogYm9vbGVhbjtcbn1cblxuZnVuY3Rpb24gcmVzb2x2ZURpcmVjdGl2ZShcbiAgcGFydDogQ2hpbGRQYXJ0IHwgQXR0cmlidXRlUGFydCB8IEVsZW1lbnRQYXJ0LFxuICB2YWx1ZTogdW5rbm93bixcbiAgcGFyZW50OiBEaXJlY3RpdmVQYXJlbnQgPSBwYXJ0LFxuICBhdHRyaWJ1dGVJbmRleD86IG51bWJlclxuKTogdW5rbm93biB7XG4gIC8vIEJhaWwgZWFybHkgaWYgdGhlIHZhbHVlIGlzIGV4cGxpY2l0bHkgbm9DaGFuZ2UuIE5vdGUsIHRoaXMgbWVhbnMgYW55XG4gIC8vIG5lc3RlZCBkaXJlY3RpdmUgaXMgc3RpbGwgYXR0YWNoZWQgYW5kIGlzIG5vdCBydW4uXG4gIGlmICh2YWx1ZSA9PT0gbm9DaGFuZ2UpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgbGV0IGN1cnJlbnREaXJlY3RpdmUgPVxuICAgIGF0dHJpYnV0ZUluZGV4ICE9PSB1bmRlZmluZWRcbiAgICAgID8gKHBhcmVudCBhcyBBdHRyaWJ1dGVQYXJ0KS5fX2RpcmVjdGl2ZXM/LlthdHRyaWJ1dGVJbmRleF1cbiAgICAgIDogKHBhcmVudCBhcyBDaGlsZFBhcnQgfCBFbGVtZW50UGFydCB8IERpcmVjdGl2ZSkuX19kaXJlY3RpdmU7XG4gIGNvbnN0IG5leHREaXJlY3RpdmVDb25zdHJ1Y3RvciA9IGlzUHJpbWl0aXZlKHZhbHVlKVxuICAgID8gdW5kZWZpbmVkXG4gICAgOiAvLyBUaGlzIHByb3BlcnR5IG5lZWRzIHRvIHJlbWFpbiB1bm1pbmlmaWVkLlxuICAgICAgKHZhbHVlIGFzIERpcmVjdGl2ZVJlc3VsdClbJ18kbGl0RGlyZWN0aXZlJCddO1xuICBpZiAoY3VycmVudERpcmVjdGl2ZT8uY29uc3RydWN0b3IgIT09IG5leHREaXJlY3RpdmVDb25zdHJ1Y3Rvcikge1xuICAgIC8vIFRoaXMgcHJvcGVydHkgbmVlZHMgdG8gcmVtYWluIHVubWluaWZpZWQuXG4gICAgY3VycmVudERpcmVjdGl2ZT8uWydfJG5vdGlmeURpcmVjdGl2ZUNvbm5lY3Rpb25DaGFuZ2VkJ10/LihmYWxzZSk7XG4gICAgaWYgKG5leHREaXJlY3RpdmVDb25zdHJ1Y3RvciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBjdXJyZW50RGlyZWN0aXZlID0gdW5kZWZpbmVkO1xuICAgIH0gZWxzZSB7XG4gICAgICBjdXJyZW50RGlyZWN0aXZlID0gbmV3IG5leHREaXJlY3RpdmVDb25zdHJ1Y3RvcihwYXJ0IGFzIFBhcnRJbmZvKTtcbiAgICAgIGN1cnJlbnREaXJlY3RpdmUuXyRpbml0aWFsaXplKHBhcnQsIHBhcmVudCwgYXR0cmlidXRlSW5kZXgpO1xuICAgIH1cbiAgICBpZiAoYXR0cmlidXRlSW5kZXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgKChwYXJlbnQgYXMgQXR0cmlidXRlUGFydCkuX19kaXJlY3RpdmVzID8/PSBbXSlbYXR0cmlidXRlSW5kZXhdID1cbiAgICAgICAgY3VycmVudERpcmVjdGl2ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgKHBhcmVudCBhcyBDaGlsZFBhcnQgfCBEaXJlY3RpdmUpLl9fZGlyZWN0aXZlID0gY3VycmVudERpcmVjdGl2ZTtcbiAgICB9XG4gIH1cbiAgaWYgKGN1cnJlbnREaXJlY3RpdmUgIT09IHVuZGVmaW5lZCkge1xuICAgIHZhbHVlID0gcmVzb2x2ZURpcmVjdGl2ZShcbiAgICAgIHBhcnQsXG4gICAgICBjdXJyZW50RGlyZWN0aXZlLl8kcmVzb2x2ZShwYXJ0LCAodmFsdWUgYXMgRGlyZWN0aXZlUmVzdWx0KS52YWx1ZXMpLFxuICAgICAgY3VycmVudERpcmVjdGl2ZSxcbiAgICAgIGF0dHJpYnV0ZUluZGV4XG4gICAgKTtcbiAgfVxuICByZXR1cm4gdmFsdWU7XG59XG5cbmV4cG9ydCB0eXBlIHtUZW1wbGF0ZUluc3RhbmNlfTtcbi8qKlxuICogQW4gdXBkYXRlYWJsZSBpbnN0YW5jZSBvZiBhIFRlbXBsYXRlLiBIb2xkcyByZWZlcmVuY2VzIHRvIHRoZSBQYXJ0cyB1c2VkIHRvXG4gKiB1cGRhdGUgdGhlIHRlbXBsYXRlIGluc3RhbmNlLlxuICovXG5jbGFzcyBUZW1wbGF0ZUluc3RhbmNlIGltcGxlbWVudHMgRGlzY29ubmVjdGFibGUge1xuICBfJHRlbXBsYXRlOiBUZW1wbGF0ZTtcbiAgXyRwYXJ0czogQXJyYXk8UGFydCB8IHVuZGVmaW5lZD4gPSBbXTtcblxuICAvKiogQGludGVybmFsICovXG4gIF8kcGFyZW50OiBDaGlsZFBhcnQ7XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgXyRkaXNjb25uZWN0YWJsZUNoaWxkcmVuPzogU2V0PERpc2Nvbm5lY3RhYmxlPiA9IHVuZGVmaW5lZDtcblxuICBjb25zdHJ1Y3Rvcih0ZW1wbGF0ZTogVGVtcGxhdGUsIHBhcmVudDogQ2hpbGRQYXJ0KSB7XG4gICAgdGhpcy5fJHRlbXBsYXRlID0gdGVtcGxhdGU7XG4gICAgdGhpcy5fJHBhcmVudCA9IHBhcmVudDtcbiAgfVxuXG4gIC8vIENhbGxlZCBieSBDaGlsZFBhcnQgcGFyZW50Tm9kZSBnZXR0ZXJcbiAgZ2V0IHBhcmVudE5vZGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuXyRwYXJlbnQucGFyZW50Tm9kZTtcbiAgfVxuXG4gIC8vIFNlZSBjb21tZW50IGluIERpc2Nvbm5lY3RhYmxlIGludGVyZmFjZSBmb3Igd2h5IHRoaXMgaXMgYSBnZXR0ZXJcbiAgZ2V0IF8kaXNDb25uZWN0ZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuXyRwYXJlbnQuXyRpc0Nvbm5lY3RlZDtcbiAgfVxuXG4gIC8vIFRoaXMgbWV0aG9kIGlzIHNlcGFyYXRlIGZyb20gdGhlIGNvbnN0cnVjdG9yIGJlY2F1c2Ugd2UgbmVlZCB0byByZXR1cm4gYVxuICAvLyBEb2N1bWVudEZyYWdtZW50IGFuZCB3ZSBkb24ndCB3YW50IHRvIGhvbGQgb250byBpdCB3aXRoIGFuIGluc3RhbmNlIGZpZWxkLlxuICBfY2xvbmUob3B0aW9uczogUmVuZGVyT3B0aW9ucyB8IHVuZGVmaW5lZCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGVsOiB7Y29udGVudH0sXG4gICAgICBwYXJ0czogcGFydHMsXG4gICAgfSA9IHRoaXMuXyR0ZW1wbGF0ZTtcbiAgICBjb25zdCBmcmFnbWVudCA9IChvcHRpb25zPy5jcmVhdGlvblNjb3BlID8/IGQpLmltcG9ydE5vZGUoY29udGVudCwgdHJ1ZSk7XG4gICAgd2Fsa2VyLmN1cnJlbnROb2RlID0gZnJhZ21lbnQ7XG5cbiAgICBsZXQgbm9kZSA9IHdhbGtlci5uZXh0Tm9kZSgpITtcbiAgICBsZXQgbm9kZUluZGV4ID0gMDtcbiAgICBsZXQgcGFydEluZGV4ID0gMDtcbiAgICBsZXQgdGVtcGxhdGVQYXJ0ID0gcGFydHNbMF07XG5cbiAgICB3aGlsZSAodGVtcGxhdGVQYXJ0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGlmIChub2RlSW5kZXggPT09IHRlbXBsYXRlUGFydC5pbmRleCkge1xuICAgICAgICBsZXQgcGFydDogUGFydCB8IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKHRlbXBsYXRlUGFydC50eXBlID09PSBDSElMRF9QQVJUKSB7XG4gICAgICAgICAgcGFydCA9IG5ldyBDaGlsZFBhcnQoXG4gICAgICAgICAgICBub2RlIGFzIEhUTUxFbGVtZW50LFxuICAgICAgICAgICAgbm9kZS5uZXh0U2libGluZyxcbiAgICAgICAgICAgIHRoaXMsXG4gICAgICAgICAgICBvcHRpb25zXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIGlmICh0ZW1wbGF0ZVBhcnQudHlwZSA9PT0gQVRUUklCVVRFX1BBUlQpIHtcbiAgICAgICAgICBwYXJ0ID0gbmV3IHRlbXBsYXRlUGFydC5jdG9yKFxuICAgICAgICAgICAgbm9kZSBhcyBIVE1MRWxlbWVudCxcbiAgICAgICAgICAgIHRlbXBsYXRlUGFydC5uYW1lLFxuICAgICAgICAgICAgdGVtcGxhdGVQYXJ0LnN0cmluZ3MsXG4gICAgICAgICAgICB0aGlzLFxuICAgICAgICAgICAgb3B0aW9uc1xuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSBpZiAodGVtcGxhdGVQYXJ0LnR5cGUgPT09IEVMRU1FTlRfUEFSVCkge1xuICAgICAgICAgIHBhcnQgPSBuZXcgRWxlbWVudFBhcnQobm9kZSBhcyBIVE1MRWxlbWVudCwgdGhpcywgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fJHBhcnRzLnB1c2gocGFydCk7XG4gICAgICAgIHRlbXBsYXRlUGFydCA9IHBhcnRzWysrcGFydEluZGV4XTtcbiAgICAgIH1cbiAgICAgIGlmIChub2RlSW5kZXggIT09IHRlbXBsYXRlUGFydD8uaW5kZXgpIHtcbiAgICAgICAgbm9kZSA9IHdhbGtlci5uZXh0Tm9kZSgpITtcbiAgICAgICAgbm9kZUluZGV4Kys7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIFdlIG5lZWQgdG8gc2V0IHRoZSBjdXJyZW50Tm9kZSBhd2F5IGZyb20gdGhlIGNsb25lZCB0cmVlIHNvIHRoYXQgd2VcbiAgICAvLyBkb24ndCBob2xkIG9udG8gdGhlIHRyZWUgZXZlbiBpZiB0aGUgdHJlZSBpcyBkZXRhY2hlZCBhbmQgc2hvdWxkIGJlXG4gICAgLy8gZnJlZWQuXG4gICAgd2Fsa2VyLmN1cnJlbnROb2RlID0gZDtcbiAgICByZXR1cm4gZnJhZ21lbnQ7XG4gIH1cblxuICBfdXBkYXRlKHZhbHVlczogQXJyYXk8dW5rbm93bj4pIHtcbiAgICBsZXQgaSA9IDA7XG4gICAgZm9yIChjb25zdCBwYXJ0IG9mIHRoaXMuXyRwYXJ0cykge1xuICAgICAgaWYgKHBhcnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBkZWJ1Z0xvZ0V2ZW50ICYmXG4gICAgICAgICAgZGVidWdMb2dFdmVudCh7XG4gICAgICAgICAgICBraW5kOiAnc2V0IHBhcnQnLFxuICAgICAgICAgICAgcGFydCxcbiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZXNbaV0sXG4gICAgICAgICAgICB2YWx1ZUluZGV4OiBpLFxuICAgICAgICAgICAgdmFsdWVzLFxuICAgICAgICAgICAgdGVtcGxhdGVJbnN0YW5jZTogdGhpcyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgaWYgKChwYXJ0IGFzIEF0dHJpYnV0ZVBhcnQpLnN0cmluZ3MgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIChwYXJ0IGFzIEF0dHJpYnV0ZVBhcnQpLl8kc2V0VmFsdWUodmFsdWVzLCBwYXJ0IGFzIEF0dHJpYnV0ZVBhcnQsIGkpO1xuICAgICAgICAgIC8vIFRoZSBudW1iZXIgb2YgdmFsdWVzIHRoZSBwYXJ0IGNvbnN1bWVzIGlzIHBhcnQuc3RyaW5ncy5sZW5ndGggLSAxXG4gICAgICAgICAgLy8gc2luY2UgdmFsdWVzIGFyZSBpbiBiZXR3ZWVuIHRlbXBsYXRlIHNwYW5zLiBXZSBpbmNyZW1lbnQgaSBieSAxXG4gICAgICAgICAgLy8gbGF0ZXIgaW4gdGhlIGxvb3AsIHNvIGluY3JlbWVudCBpdCBieSBwYXJ0LnN0cmluZ3MubGVuZ3RoIC0gMiBoZXJlXG4gICAgICAgICAgaSArPSAocGFydCBhcyBBdHRyaWJ1dGVQYXJ0KS5zdHJpbmdzIS5sZW5ndGggLSAyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBhcnQuXyRzZXRWYWx1ZSh2YWx1ZXNbaV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpKys7XG4gICAgfVxuICB9XG59XG5cbi8qXG4gKiBQYXJ0c1xuICovXG50eXBlIEF0dHJpYnV0ZVRlbXBsYXRlUGFydCA9IHtcbiAgcmVhZG9ubHkgdHlwZTogdHlwZW9mIEFUVFJJQlVURV9QQVJUO1xuICByZWFkb25seSBpbmRleDogbnVtYmVyO1xuICByZWFkb25seSBuYW1lOiBzdHJpbmc7XG4gIHJlYWRvbmx5IGN0b3I6IHR5cGVvZiBBdHRyaWJ1dGVQYXJ0O1xuICByZWFkb25seSBzdHJpbmdzOiBSZWFkb25seUFycmF5PHN0cmluZz47XG59O1xudHlwZSBDaGlsZFRlbXBsYXRlUGFydCA9IHtcbiAgcmVhZG9ubHkgdHlwZTogdHlwZW9mIENISUxEX1BBUlQ7XG4gIHJlYWRvbmx5IGluZGV4OiBudW1iZXI7XG59O1xudHlwZSBFbGVtZW50VGVtcGxhdGVQYXJ0ID0ge1xuICByZWFkb25seSB0eXBlOiB0eXBlb2YgRUxFTUVOVF9QQVJUO1xuICByZWFkb25seSBpbmRleDogbnVtYmVyO1xufTtcbnR5cGUgQ29tbWVudFRlbXBsYXRlUGFydCA9IHtcbiAgcmVhZG9ubHkgdHlwZTogdHlwZW9mIENPTU1FTlRfUEFSVDtcbiAgcmVhZG9ubHkgaW5kZXg6IG51bWJlcjtcbn07XG5cbi8qKlxuICogQSBUZW1wbGF0ZVBhcnQgcmVwcmVzZW50cyBhIGR5bmFtaWMgcGFydCBpbiBhIHRlbXBsYXRlLCBiZWZvcmUgdGhlIHRlbXBsYXRlXG4gKiBpcyBpbnN0YW50aWF0ZWQuIFdoZW4gYSB0ZW1wbGF0ZSBpcyBpbnN0YW50aWF0ZWQgUGFydHMgYXJlIGNyZWF0ZWQgZnJvbVxuICogVGVtcGxhdGVQYXJ0cy5cbiAqL1xudHlwZSBUZW1wbGF0ZVBhcnQgPVxuICB8IENoaWxkVGVtcGxhdGVQYXJ0XG4gIHwgQXR0cmlidXRlVGVtcGxhdGVQYXJ0XG4gIHwgRWxlbWVudFRlbXBsYXRlUGFydFxuICB8IENvbW1lbnRUZW1wbGF0ZVBhcnQ7XG5cbmV4cG9ydCB0eXBlIFBhcnQgPVxuICB8IENoaWxkUGFydFxuICB8IEF0dHJpYnV0ZVBhcnRcbiAgfCBQcm9wZXJ0eVBhcnRcbiAgfCBCb29sZWFuQXR0cmlidXRlUGFydFxuICB8IEVsZW1lbnRQYXJ0XG4gIHwgRXZlbnRQYXJ0O1xuXG5leHBvcnQgdHlwZSB7Q2hpbGRQYXJ0fTtcbmNsYXNzIENoaWxkUGFydCBpbXBsZW1lbnRzIERpc2Nvbm5lY3RhYmxlIHtcbiAgcmVhZG9ubHkgdHlwZSA9IENISUxEX1BBUlQ7XG4gIHJlYWRvbmx5IG9wdGlvbnM6IFJlbmRlck9wdGlvbnMgfCB1bmRlZmluZWQ7XG4gIF8kY29tbWl0dGVkVmFsdWU6IHVua25vd24gPSBub3RoaW5nO1xuICAvKiogQGludGVybmFsICovXG4gIF9fZGlyZWN0aXZlPzogRGlyZWN0aXZlO1xuICAvKiogQGludGVybmFsICovXG4gIF8kc3RhcnROb2RlOiBDaGlsZE5vZGU7XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgXyRlbmROb2RlOiBDaGlsZE5vZGUgfCBudWxsO1xuICBwcml2YXRlIF90ZXh0U2FuaXRpemVyOiBWYWx1ZVNhbml0aXplciB8IHVuZGVmaW5lZDtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfJHBhcmVudDogRGlzY29ubmVjdGFibGUgfCB1bmRlZmluZWQ7XG4gIC8qKlxuICAgKiBDb25uZWN0aW9uIHN0YXRlIGZvciBSb290UGFydHMgb25seSAoaS5lLiBDaGlsZFBhcnQgd2l0aG91dCBfJHBhcmVudFxuICAgKiByZXR1cm5lZCBmcm9tIHRvcC1sZXZlbCBgcmVuZGVyYCkuIFRoaXMgZmllbGQgaXMgdW51c2VkIG90aGVyd2lzZS4gVGhlXG4gICAqIGludGVudGlvbiB3b3VsZCBiZSBjbGVhcmVyIGlmIHdlIG1hZGUgYFJvb3RQYXJ0YCBhIHN1YmNsYXNzIG9mIGBDaGlsZFBhcnRgXG4gICAqIHdpdGggdGhpcyBmaWVsZCAoYW5kIGEgZGlmZmVyZW50IF8kaXNDb25uZWN0ZWQgZ2V0dGVyKSwgYnV0IHRoZSBzdWJjbGFzc1xuICAgKiBjYXVzZWQgYSBwZXJmIHJlZ3Jlc3Npb24sIHBvc3NpYmx5IGR1ZSB0byBtYWtpbmcgY2FsbCBzaXRlcyBwb2x5bW9ycGhpYy5cbiAgICogQGludGVybmFsXG4gICAqL1xuICBfX2lzQ29ubmVjdGVkOiBib29sZWFuO1xuXG4gIC8vIFNlZSBjb21tZW50IGluIERpc2Nvbm5lY3RhYmxlIGludGVyZmFjZSBmb3Igd2h5IHRoaXMgaXMgYSBnZXR0ZXJcbiAgZ2V0IF8kaXNDb25uZWN0ZWQoKSB7XG4gICAgLy8gQ2hpbGRQYXJ0cyB0aGF0IGFyZSBub3QgYXQgdGhlIHJvb3Qgc2hvdWxkIGFsd2F5cyBiZSBjcmVhdGVkIHdpdGggYVxuICAgIC8vIHBhcmVudDsgb25seSBSb290Q2hpbGROb2RlJ3Mgd29uJ3QsIHNvIHRoZXkgcmV0dXJuIHRoZSBsb2NhbCBpc0Nvbm5lY3RlZFxuICAgIC8vIHN0YXRlXG4gICAgcmV0dXJuIHRoaXMuXyRwYXJlbnQ/Ll8kaXNDb25uZWN0ZWQgPz8gdGhpcy5fX2lzQ29ubmVjdGVkO1xuICB9XG5cbiAgLy8gVGhlIGZvbGxvd2luZyBmaWVsZHMgd2lsbCBiZSBwYXRjaGVkIG9udG8gQ2hpbGRQYXJ0cyB3aGVuIHJlcXVpcmVkIGJ5XG4gIC8vIEFzeW5jRGlyZWN0aXZlXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgXyRkaXNjb25uZWN0YWJsZUNoaWxkcmVuPzogU2V0PERpc2Nvbm5lY3RhYmxlPiA9IHVuZGVmaW5lZDtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfJG5vdGlmeUNvbm5lY3Rpb25DaGFuZ2VkPyhcbiAgICBpc0Nvbm5lY3RlZDogYm9vbGVhbixcbiAgICByZW1vdmVGcm9tUGFyZW50PzogYm9vbGVhbixcbiAgICBmcm9tPzogbnVtYmVyXG4gICk6IHZvaWQ7XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgXyRyZXBhcmVudERpc2Nvbm5lY3RhYmxlcz8ocGFyZW50OiBEaXNjb25uZWN0YWJsZSk6IHZvaWQ7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgc3RhcnROb2RlOiBDaGlsZE5vZGUsXG4gICAgZW5kTm9kZTogQ2hpbGROb2RlIHwgbnVsbCxcbiAgICBwYXJlbnQ6IFRlbXBsYXRlSW5zdGFuY2UgfCBDaGlsZFBhcnQgfCB1bmRlZmluZWQsXG4gICAgb3B0aW9uczogUmVuZGVyT3B0aW9ucyB8IHVuZGVmaW5lZFxuICApIHtcbiAgICB0aGlzLl8kc3RhcnROb2RlID0gc3RhcnROb2RlO1xuICAgIHRoaXMuXyRlbmROb2RlID0gZW5kTm9kZTtcbiAgICB0aGlzLl8kcGFyZW50ID0gcGFyZW50O1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgLy8gTm90ZSBfX2lzQ29ubmVjdGVkIGlzIG9ubHkgZXZlciBhY2Nlc3NlZCBvbiBSb290UGFydHMgKGkuZS4gd2hlbiB0aGVyZSBpc1xuICAgIC8vIG5vIF8kcGFyZW50KTsgdGhlIHZhbHVlIG9uIGEgbm9uLXJvb3QtcGFydCBpcyBcImRvbid0IGNhcmVcIiwgYnV0IGNoZWNraW5nXG4gICAgLy8gZm9yIHBhcmVudCB3b3VsZCBiZSBtb3JlIGNvZGVcbiAgICB0aGlzLl9faXNDb25uZWN0ZWQgPSBvcHRpb25zPy5pc0Nvbm5lY3RlZCA/PyB0cnVlO1xuICAgIGlmIChFTkFCTEVfRVhUUkFfU0VDVVJJVFlfSE9PS1MpIHtcbiAgICAgIC8vIEV4cGxpY2l0bHkgaW5pdGlhbGl6ZSBmb3IgY29uc2lzdGVudCBjbGFzcyBzaGFwZS5cbiAgICAgIHRoaXMuX3RleHRTYW5pdGl6ZXIgPSB1bmRlZmluZWQ7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBwYXJlbnQgbm9kZSBpbnRvIHdoaWNoIHRoZSBwYXJ0IHJlbmRlcnMgaXRzIGNvbnRlbnQuXG4gICAqXG4gICAqIEEgQ2hpbGRQYXJ0J3MgY29udGVudCBjb25zaXN0cyBvZiBhIHJhbmdlIG9mIGFkamFjZW50IGNoaWxkIG5vZGVzIG9mXG4gICAqIGAucGFyZW50Tm9kZWAsIHBvc3NpYmx5IGJvcmRlcmVkIGJ5ICdtYXJrZXIgbm9kZXMnIChgLnN0YXJ0Tm9kZWAgYW5kXG4gICAqIGAuZW5kTm9kZWApLlxuICAgKlxuICAgKiAtIElmIGJvdGggYC5zdGFydE5vZGVgIGFuZCBgLmVuZE5vZGVgIGFyZSBub24tbnVsbCwgdGhlbiB0aGUgcGFydCdzIGNvbnRlbnRcbiAgICogY29uc2lzdHMgb2YgYWxsIHNpYmxpbmdzIGJldHdlZW4gYC5zdGFydE5vZGVgIGFuZCBgLmVuZE5vZGVgLCBleGNsdXNpdmVseS5cbiAgICpcbiAgICogLSBJZiBgLnN0YXJ0Tm9kZWAgaXMgbm9uLW51bGwgYnV0IGAuZW5kTm9kZWAgaXMgbnVsbCwgdGhlbiB0aGUgcGFydCdzXG4gICAqIGNvbnRlbnQgY29uc2lzdHMgb2YgYWxsIHNpYmxpbmdzIGZvbGxvd2luZyBgLnN0YXJ0Tm9kZWAsIHVwIHRvIGFuZFxuICAgKiBpbmNsdWRpbmcgdGhlIGxhc3QgY2hpbGQgb2YgYC5wYXJlbnROb2RlYC4gSWYgYC5lbmROb2RlYCBpcyBub24tbnVsbCwgdGhlblxuICAgKiBgLnN0YXJ0Tm9kZWAgd2lsbCBhbHdheXMgYmUgbm9uLW51bGwuXG4gICAqXG4gICAqIC0gSWYgYm90aCBgLmVuZE5vZGVgIGFuZCBgLnN0YXJ0Tm9kZWAgYXJlIG51bGwsIHRoZW4gdGhlIHBhcnQncyBjb250ZW50XG4gICAqIGNvbnNpc3RzIG9mIGFsbCBjaGlsZCBub2RlcyBvZiBgLnBhcmVudE5vZGVgLlxuICAgKi9cbiAgZ2V0IHBhcmVudE5vZGUoKTogTm9kZSB7XG4gICAgbGV0IHBhcmVudE5vZGU6IE5vZGUgPSB3cmFwKHRoaXMuXyRzdGFydE5vZGUpLnBhcmVudE5vZGUhO1xuICAgIGNvbnN0IHBhcmVudCA9IHRoaXMuXyRwYXJlbnQ7XG4gICAgaWYgKFxuICAgICAgcGFyZW50ICE9PSB1bmRlZmluZWQgJiZcbiAgICAgIHBhcmVudE5vZGU/Lm5vZGVUeXBlID09PSAxMSAvKiBOb2RlLkRPQ1VNRU5UX0ZSQUdNRU5UICovXG4gICAgKSB7XG4gICAgICAvLyBJZiB0aGUgcGFyZW50Tm9kZSBpcyBhIERvY3VtZW50RnJhZ21lbnQsIGl0IG1heSBiZSBiZWNhdXNlIHRoZSBET00gaXNcbiAgICAgIC8vIHN0aWxsIGluIHRoZSBjbG9uZWQgZnJhZ21lbnQgZHVyaW5nIGluaXRpYWwgcmVuZGVyOyBpZiBzbywgZ2V0IHRoZSByZWFsXG4gICAgICAvLyBwYXJlbnROb2RlIHRoZSBwYXJ0IHdpbGwgYmUgY29tbWl0dGVkIGludG8gYnkgYXNraW5nIHRoZSBwYXJlbnQuXG4gICAgICBwYXJlbnROb2RlID0gKHBhcmVudCBhcyBDaGlsZFBhcnQgfCBUZW1wbGF0ZUluc3RhbmNlKS5wYXJlbnROb2RlO1xuICAgIH1cbiAgICByZXR1cm4gcGFyZW50Tm9kZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgcGFydCdzIGxlYWRpbmcgbWFya2VyIG5vZGUsIGlmIGFueS4gU2VlIGAucGFyZW50Tm9kZWAgZm9yIG1vcmVcbiAgICogaW5mb3JtYXRpb24uXG4gICAqL1xuICBnZXQgc3RhcnROb2RlKCk6IE5vZGUgfCBudWxsIHtcbiAgICByZXR1cm4gdGhpcy5fJHN0YXJ0Tm9kZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgcGFydCdzIHRyYWlsaW5nIG1hcmtlciBub2RlLCBpZiBhbnkuIFNlZSBgLnBhcmVudE5vZGVgIGZvciBtb3JlXG4gICAqIGluZm9ybWF0aW9uLlxuICAgKi9cbiAgZ2V0IGVuZE5vZGUoKTogTm9kZSB8IG51bGwge1xuICAgIHJldHVybiB0aGlzLl8kZW5kTm9kZTtcbiAgfVxuXG4gIF8kc2V0VmFsdWUodmFsdWU6IHVua25vd24sIGRpcmVjdGl2ZVBhcmVudDogRGlyZWN0aXZlUGFyZW50ID0gdGhpcyk6IHZvaWQge1xuICAgIGlmIChERVZfTU9ERSAmJiB0aGlzLnBhcmVudE5vZGUgPT09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYFRoaXMgXFxgQ2hpbGRQYXJ0XFxgIGhhcyBubyBcXGBwYXJlbnROb2RlXFxgIGFuZCB0aGVyZWZvcmUgY2Fubm90IGFjY2VwdCBhIHZhbHVlLiBUaGlzIGxpa2VseSBtZWFucyB0aGUgZWxlbWVudCBjb250YWluaW5nIHRoZSBwYXJ0IHdhcyBtYW5pcHVsYXRlZCBpbiBhbiB1bnN1cHBvcnRlZCB3YXkgb3V0c2lkZSBvZiBMaXQncyBjb250cm9sIHN1Y2ggdGhhdCB0aGUgcGFydCdzIG1hcmtlciBub2RlcyB3ZXJlIGVqZWN0ZWQgZnJvbSBET00uIEZvciBleGFtcGxlLCBzZXR0aW5nIHRoZSBlbGVtZW50J3MgXFxgaW5uZXJIVE1MXFxgIG9yIFxcYHRleHRDb250ZW50XFxgIGNhbiBkbyB0aGlzLmBcbiAgICAgICk7XG4gICAgfVxuICAgIHZhbHVlID0gcmVzb2x2ZURpcmVjdGl2ZSh0aGlzLCB2YWx1ZSwgZGlyZWN0aXZlUGFyZW50KTtcbiAgICBpZiAoaXNQcmltaXRpdmUodmFsdWUpKSB7XG4gICAgICAvLyBOb24tcmVuZGVyaW5nIGNoaWxkIHZhbHVlcy4gSXQncyBpbXBvcnRhbnQgdGhhdCB0aGVzZSBkbyBub3QgcmVuZGVyXG4gICAgICAvLyBlbXB0eSB0ZXh0IG5vZGVzIHRvIGF2b2lkIGlzc3VlcyB3aXRoIHByZXZlbnRpbmcgZGVmYXVsdCA8c2xvdD5cbiAgICAgIC8vIGZhbGxiYWNrIGNvbnRlbnQuXG4gICAgICBpZiAodmFsdWUgPT09IG5vdGhpbmcgfHwgdmFsdWUgPT0gbnVsbCB8fCB2YWx1ZSA9PT0gJycpIHtcbiAgICAgICAgaWYgKHRoaXMuXyRjb21taXR0ZWRWYWx1ZSAhPT0gbm90aGluZykge1xuICAgICAgICAgIGRlYnVnTG9nRXZlbnQgJiZcbiAgICAgICAgICAgIGRlYnVnTG9nRXZlbnQoe1xuICAgICAgICAgICAgICBraW5kOiAnY29tbWl0IG5vdGhpbmcgdG8gY2hpbGQnLFxuICAgICAgICAgICAgICBzdGFydDogdGhpcy5fJHN0YXJ0Tm9kZSxcbiAgICAgICAgICAgICAgZW5kOiB0aGlzLl8kZW5kTm9kZSxcbiAgICAgICAgICAgICAgcGFyZW50OiB0aGlzLl8kcGFyZW50LFxuICAgICAgICAgICAgICBvcHRpb25zOiB0aGlzLm9wdGlvbnMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB0aGlzLl8kY2xlYXIoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl8kY29tbWl0dGVkVmFsdWUgPSBub3RoaW5nO1xuICAgICAgfSBlbHNlIGlmICh2YWx1ZSAhPT0gdGhpcy5fJGNvbW1pdHRlZFZhbHVlICYmIHZhbHVlICE9PSBub0NoYW5nZSkge1xuICAgICAgICB0aGlzLl9jb21taXRUZXh0KHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIC8vIFRoaXMgcHJvcGVydHkgbmVlZHMgdG8gcmVtYWluIHVubWluaWZpZWQuXG4gICAgfSBlbHNlIGlmICgodmFsdWUgYXMgVGVtcGxhdGVSZXN1bHQpWydfJGxpdFR5cGUkJ10gIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5fY29tbWl0VGVtcGxhdGVSZXN1bHQodmFsdWUgYXMgVGVtcGxhdGVSZXN1bHQpO1xuICAgIH0gZWxzZSBpZiAoKHZhbHVlIGFzIE5vZGUpLm5vZGVUeXBlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGlmIChERVZfTU9ERSAmJiB0aGlzLm9wdGlvbnM/Lmhvc3QgPT09IHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX2NvbW1pdFRleHQoXG4gICAgICAgICAgYFtwcm9iYWJsZSBtaXN0YWtlOiByZW5kZXJlZCBhIHRlbXBsYXRlJ3MgaG9zdCBpbiBpdHNlbGYgYCArXG4gICAgICAgICAgICBgKGNvbW1vbmx5IGNhdXNlZCBieSB3cml0aW5nIFxcJHt0aGlzfSBpbiBhIHRlbXBsYXRlXWBcbiAgICAgICAgKTtcbiAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgIGBBdHRlbXB0ZWQgdG8gcmVuZGVyIHRoZSB0ZW1wbGF0ZSBob3N0YCxcbiAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICBgaW5zaWRlIGl0c2VsZi4gVGhpcyBpcyBhbG1vc3QgYWx3YXlzIGEgbWlzdGFrZSwgYW5kIGluIGRldiBtb2RlIGAsXG4gICAgICAgICAgYHdlIHJlbmRlciBzb21lIHdhcm5pbmcgdGV4dC4gSW4gcHJvZHVjdGlvbiBob3dldmVyLCB3ZSdsbCBgLFxuICAgICAgICAgIGByZW5kZXIgaXQsIHdoaWNoIHdpbGwgdXN1YWxseSByZXN1bHQgaW4gYW4gZXJyb3IsIGFuZCBzb21ldGltZXMgYCxcbiAgICAgICAgICBgaW4gdGhlIGVsZW1lbnQgZGlzYXBwZWFyaW5nIGZyb20gdGhlIERPTS5gXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMuX2NvbW1pdE5vZGUodmFsdWUgYXMgTm9kZSk7XG4gICAgfSBlbHNlIGlmIChpc0l0ZXJhYmxlKHZhbHVlKSkge1xuICAgICAgdGhpcy5fY29tbWl0SXRlcmFibGUodmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBGYWxsYmFjaywgd2lsbCByZW5kZXIgdGhlIHN0cmluZyByZXByZXNlbnRhdGlvblxuICAgICAgdGhpcy5fY29tbWl0VGV4dCh2YWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBfaW5zZXJ0PFQgZXh0ZW5kcyBOb2RlPihub2RlOiBUKSB7XG4gICAgcmV0dXJuIHdyYXAod3JhcCh0aGlzLl8kc3RhcnROb2RlKS5wYXJlbnROb2RlISkuaW5zZXJ0QmVmb3JlKFxuICAgICAgbm9kZSxcbiAgICAgIHRoaXMuXyRlbmROb2RlXG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgX2NvbW1pdE5vZGUodmFsdWU6IE5vZGUpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5fJGNvbW1pdHRlZFZhbHVlICE9PSB2YWx1ZSkge1xuICAgICAgdGhpcy5fJGNsZWFyKCk7XG4gICAgICBpZiAoXG4gICAgICAgIEVOQUJMRV9FWFRSQV9TRUNVUklUWV9IT09LUyAmJlxuICAgICAgICBzYW5pdGl6ZXJGYWN0b3J5SW50ZXJuYWwgIT09IG5vb3BTYW5pdGl6ZXJcbiAgICAgICkge1xuICAgICAgICBjb25zdCBwYXJlbnROb2RlTmFtZSA9IHRoaXMuXyRzdGFydE5vZGUucGFyZW50Tm9kZT8ubm9kZU5hbWU7XG4gICAgICAgIGlmIChwYXJlbnROb2RlTmFtZSA9PT0gJ1NUWUxFJyB8fCBwYXJlbnROb2RlTmFtZSA9PT0gJ1NDUklQVCcpIHtcbiAgICAgICAgICBsZXQgbWVzc2FnZSA9ICdGb3JiaWRkZW4nO1xuICAgICAgICAgIGlmIChERVZfTU9ERSkge1xuICAgICAgICAgICAgaWYgKHBhcmVudE5vZGVOYW1lID09PSAnU1RZTEUnKSB7XG4gICAgICAgICAgICAgIG1lc3NhZ2UgPVxuICAgICAgICAgICAgICAgIGBMaXQgZG9lcyBub3Qgc3VwcG9ydCBiaW5kaW5nIGluc2lkZSBzdHlsZSBub2Rlcy4gYCArXG4gICAgICAgICAgICAgICAgYFRoaXMgaXMgYSBzZWN1cml0eSByaXNrLCBhcyBzdHlsZSBpbmplY3Rpb24gYXR0YWNrcyBjYW4gYCArXG4gICAgICAgICAgICAgICAgYGV4ZmlsdHJhdGUgZGF0YSBhbmQgc3Bvb2YgVUlzLiBgICtcbiAgICAgICAgICAgICAgICBgQ29uc2lkZXIgaW5zdGVhZCB1c2luZyBjc3NcXGAuLi5cXGAgbGl0ZXJhbHMgYCArXG4gICAgICAgICAgICAgICAgYHRvIGNvbXBvc2Ugc3R5bGVzLCBhbmQgZG8gZHluYW1pYyBzdHlsaW5nIHdpdGggYCArXG4gICAgICAgICAgICAgICAgYGNzcyBjdXN0b20gcHJvcGVydGllcywgOjpwYXJ0cywgPHNsb3Q+cywgYCArXG4gICAgICAgICAgICAgICAgYGFuZCBieSBtdXRhdGluZyB0aGUgRE9NIHJhdGhlciB0aGFuIHN0eWxlc2hlZXRzLmA7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBtZXNzYWdlID1cbiAgICAgICAgICAgICAgICBgTGl0IGRvZXMgbm90IHN1cHBvcnQgYmluZGluZyBpbnNpZGUgc2NyaXB0IG5vZGVzLiBgICtcbiAgICAgICAgICAgICAgICBgVGhpcyBpcyBhIHNlY3VyaXR5IHJpc2ssIGFzIGl0IGNvdWxkIGFsbG93IGFyYml0cmFyeSBgICtcbiAgICAgICAgICAgICAgICBgY29kZSBleGVjdXRpb24uYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBkZWJ1Z0xvZ0V2ZW50ICYmXG4gICAgICAgIGRlYnVnTG9nRXZlbnQoe1xuICAgICAgICAgIGtpbmQ6ICdjb21taXQgbm9kZScsXG4gICAgICAgICAgc3RhcnQ6IHRoaXMuXyRzdGFydE5vZGUsXG4gICAgICAgICAgcGFyZW50OiB0aGlzLl8kcGFyZW50LFxuICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICBvcHRpb25zOiB0aGlzLm9wdGlvbnMsXG4gICAgICAgIH0pO1xuICAgICAgdGhpcy5fJGNvbW1pdHRlZFZhbHVlID0gdGhpcy5faW5zZXJ0KHZhbHVlKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIF9jb21taXRUZXh0KHZhbHVlOiB1bmtub3duKTogdm9pZCB7XG4gICAgLy8gSWYgdGhlIGNvbW1pdHRlZCB2YWx1ZSBpcyBhIHByaW1pdGl2ZSBpdCBtZWFucyB3ZSBjYWxsZWQgX2NvbW1pdFRleHQgb25cbiAgICAvLyB0aGUgcHJldmlvdXMgcmVuZGVyLCBhbmQgd2Uga25vdyB0aGF0IHRoaXMuXyRzdGFydE5vZGUubmV4dFNpYmxpbmcgaXMgYVxuICAgIC8vIFRleHQgbm9kZS4gV2UgY2FuIG5vdyBqdXN0IHJlcGxhY2UgdGhlIHRleHQgY29udGVudCAoLmRhdGEpIG9mIHRoZSBub2RlLlxuICAgIGlmIChcbiAgICAgIHRoaXMuXyRjb21taXR0ZWRWYWx1ZSAhPT0gbm90aGluZyAmJlxuICAgICAgaXNQcmltaXRpdmUodGhpcy5fJGNvbW1pdHRlZFZhbHVlKVxuICAgICkge1xuICAgICAgY29uc3Qgbm9kZSA9IHdyYXAodGhpcy5fJHN0YXJ0Tm9kZSkubmV4dFNpYmxpbmcgYXMgVGV4dDtcbiAgICAgIGlmIChFTkFCTEVfRVhUUkFfU0VDVVJJVFlfSE9PS1MpIHtcbiAgICAgICAgaWYgKHRoaXMuX3RleHRTYW5pdGl6ZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHRoaXMuX3RleHRTYW5pdGl6ZXIgPSBjcmVhdGVTYW5pdGl6ZXIobm9kZSwgJ2RhdGEnLCAncHJvcGVydHknKTtcbiAgICAgICAgfVxuICAgICAgICB2YWx1ZSA9IHRoaXMuX3RleHRTYW5pdGl6ZXIodmFsdWUpO1xuICAgICAgfVxuICAgICAgZGVidWdMb2dFdmVudCAmJlxuICAgICAgICBkZWJ1Z0xvZ0V2ZW50KHtcbiAgICAgICAgICBraW5kOiAnY29tbWl0IHRleHQnLFxuICAgICAgICAgIG5vZGUsXG4gICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgb3B0aW9uczogdGhpcy5vcHRpb25zLFxuICAgICAgICB9KTtcbiAgICAgIChub2RlIGFzIFRleHQpLmRhdGEgPSB2YWx1ZSBhcyBzdHJpbmc7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChFTkFCTEVfRVhUUkFfU0VDVVJJVFlfSE9PS1MpIHtcbiAgICAgICAgY29uc3QgdGV4dE5vZGUgPSBkLmNyZWF0ZVRleHROb2RlKCcnKTtcbiAgICAgICAgdGhpcy5fY29tbWl0Tm9kZSh0ZXh0Tm9kZSk7XG4gICAgICAgIC8vIFdoZW4gc2V0dGluZyB0ZXh0IGNvbnRlbnQsIGZvciBzZWN1cml0eSBwdXJwb3NlcyBpdCBtYXR0ZXJzIGEgbG90XG4gICAgICAgIC8vIHdoYXQgdGhlIHBhcmVudCBpcy4gRm9yIGV4YW1wbGUsIDxzdHlsZT4gYW5kIDxzY3JpcHQ+IG5lZWQgdG8gYmVcbiAgICAgICAgLy8gaGFuZGxlZCB3aXRoIGNhcmUsIHdoaWxlIDxzcGFuPiBkb2VzIG5vdC4gU28gZmlyc3Qgd2UgbmVlZCB0byBwdXQgYVxuICAgICAgICAvLyB0ZXh0IG5vZGUgaW50byB0aGUgZG9jdW1lbnQsIHRoZW4gd2UgY2FuIHNhbml0aXplIGl0cyBjb250ZW50LlxuICAgICAgICBpZiAodGhpcy5fdGV4dFNhbml0aXplciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgdGhpcy5fdGV4dFNhbml0aXplciA9IGNyZWF0ZVNhbml0aXplcih0ZXh0Tm9kZSwgJ2RhdGEnLCAncHJvcGVydHknKTtcbiAgICAgICAgfVxuICAgICAgICB2YWx1ZSA9IHRoaXMuX3RleHRTYW5pdGl6ZXIodmFsdWUpO1xuICAgICAgICBkZWJ1Z0xvZ0V2ZW50ICYmXG4gICAgICAgICAgZGVidWdMb2dFdmVudCh7XG4gICAgICAgICAgICBraW5kOiAnY29tbWl0IHRleHQnLFxuICAgICAgICAgICAgbm9kZTogdGV4dE5vZGUsXG4gICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgIG9wdGlvbnM6IHRoaXMub3B0aW9ucyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgdGV4dE5vZGUuZGF0YSA9IHZhbHVlIGFzIHN0cmluZztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX2NvbW1pdE5vZGUoZC5jcmVhdGVUZXh0Tm9kZSh2YWx1ZSBhcyBzdHJpbmcpKTtcbiAgICAgICAgZGVidWdMb2dFdmVudCAmJlxuICAgICAgICAgIGRlYnVnTG9nRXZlbnQoe1xuICAgICAgICAgICAga2luZDogJ2NvbW1pdCB0ZXh0JyxcbiAgICAgICAgICAgIG5vZGU6IHdyYXAodGhpcy5fJHN0YXJ0Tm9kZSkubmV4dFNpYmxpbmcgYXMgVGV4dCxcbiAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgb3B0aW9uczogdGhpcy5vcHRpb25zLFxuICAgICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLl8kY29tbWl0dGVkVmFsdWUgPSB2YWx1ZTtcbiAgfVxuXG4gIHByaXZhdGUgX2NvbW1pdFRlbXBsYXRlUmVzdWx0KFxuICAgIHJlc3VsdDogVGVtcGxhdGVSZXN1bHQgfCBDb21waWxlZFRlbXBsYXRlUmVzdWx0XG4gICk6IHZvaWQge1xuICAgIC8vIFRoaXMgcHJvcGVydHkgbmVlZHMgdG8gcmVtYWluIHVubWluaWZpZWQuXG4gICAgY29uc3Qge3ZhbHVlcywgWydfJGxpdFR5cGUkJ106IHR5cGV9ID0gcmVzdWx0O1xuICAgIC8vIElmICRsaXRUeXBlJCBpcyBhIG51bWJlciwgcmVzdWx0IGlzIGEgcGxhaW4gVGVtcGxhdGVSZXN1bHQgYW5kIHdlIGdldFxuICAgIC8vIHRoZSB0ZW1wbGF0ZSBmcm9tIHRoZSB0ZW1wbGF0ZSBjYWNoZS4gSWYgbm90LCByZXN1bHQgaXMgYVxuICAgIC8vIENvbXBpbGVkVGVtcGxhdGVSZXN1bHQgYW5kIF8kbGl0VHlwZSQgaXMgYSBDb21waWxlZFRlbXBsYXRlIGFuZCB3ZSBuZWVkXG4gICAgLy8gdG8gY3JlYXRlIHRoZSA8dGVtcGxhdGU+IGVsZW1lbnQgdGhlIGZpcnN0IHRpbWUgd2Ugc2VlIGl0LlxuICAgIGNvbnN0IHRlbXBsYXRlOiBUZW1wbGF0ZSB8IENvbXBpbGVkVGVtcGxhdGUgPVxuICAgICAgdHlwZW9mIHR5cGUgPT09ICdudW1iZXInXG4gICAgICAgID8gdGhpcy5fJGdldFRlbXBsYXRlKHJlc3VsdCBhcyBVbmNvbXBpbGVkVGVtcGxhdGVSZXN1bHQpXG4gICAgICAgIDogKHR5cGUuZWwgPT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgKHR5cGUuZWwgPSBUZW1wbGF0ZS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICB0cnVzdEZyb21UZW1wbGF0ZVN0cmluZyh0eXBlLmgsIHR5cGUuaFswXSksXG4gICAgICAgICAgICAgIHRoaXMub3B0aW9uc1xuICAgICAgICAgICAgKSksXG4gICAgICAgICAgdHlwZSk7XG5cbiAgICBpZiAoKHRoaXMuXyRjb21taXR0ZWRWYWx1ZSBhcyBUZW1wbGF0ZUluc3RhbmNlKT8uXyR0ZW1wbGF0ZSA9PT0gdGVtcGxhdGUpIHtcbiAgICAgIGRlYnVnTG9nRXZlbnQgJiZcbiAgICAgICAgZGVidWdMb2dFdmVudCh7XG4gICAgICAgICAga2luZDogJ3RlbXBsYXRlIHVwZGF0aW5nJyxcbiAgICAgICAgICB0ZW1wbGF0ZSxcbiAgICAgICAgICBpbnN0YW5jZTogdGhpcy5fJGNvbW1pdHRlZFZhbHVlIGFzIFRlbXBsYXRlSW5zdGFuY2UsXG4gICAgICAgICAgcGFydHM6ICh0aGlzLl8kY29tbWl0dGVkVmFsdWUgYXMgVGVtcGxhdGVJbnN0YW5jZSkuXyRwYXJ0cyxcbiAgICAgICAgICBvcHRpb25zOiB0aGlzLm9wdGlvbnMsXG4gICAgICAgICAgdmFsdWVzLFxuICAgICAgICB9KTtcbiAgICAgICh0aGlzLl8kY29tbWl0dGVkVmFsdWUgYXMgVGVtcGxhdGVJbnN0YW5jZSkuX3VwZGF0ZSh2YWx1ZXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBpbnN0YW5jZSA9IG5ldyBUZW1wbGF0ZUluc3RhbmNlKHRlbXBsYXRlIGFzIFRlbXBsYXRlLCB0aGlzKTtcbiAgICAgIGNvbnN0IGZyYWdtZW50ID0gaW5zdGFuY2UuX2Nsb25lKHRoaXMub3B0aW9ucyk7XG4gICAgICBkZWJ1Z0xvZ0V2ZW50ICYmXG4gICAgICAgIGRlYnVnTG9nRXZlbnQoe1xuICAgICAgICAgIGtpbmQ6ICd0ZW1wbGF0ZSBpbnN0YW50aWF0ZWQnLFxuICAgICAgICAgIHRlbXBsYXRlLFxuICAgICAgICAgIGluc3RhbmNlLFxuICAgICAgICAgIHBhcnRzOiBpbnN0YW5jZS5fJHBhcnRzLFxuICAgICAgICAgIG9wdGlvbnM6IHRoaXMub3B0aW9ucyxcbiAgICAgICAgICBmcmFnbWVudCxcbiAgICAgICAgICB2YWx1ZXMsXG4gICAgICAgIH0pO1xuICAgICAgaW5zdGFuY2UuX3VwZGF0ZSh2YWx1ZXMpO1xuICAgICAgZGVidWdMb2dFdmVudCAmJlxuICAgICAgICBkZWJ1Z0xvZ0V2ZW50KHtcbiAgICAgICAgICBraW5kOiAndGVtcGxhdGUgaW5zdGFudGlhdGVkIGFuZCB1cGRhdGVkJyxcbiAgICAgICAgICB0ZW1wbGF0ZSxcbiAgICAgICAgICBpbnN0YW5jZSxcbiAgICAgICAgICBwYXJ0czogaW5zdGFuY2UuXyRwYXJ0cyxcbiAgICAgICAgICBvcHRpb25zOiB0aGlzLm9wdGlvbnMsXG4gICAgICAgICAgZnJhZ21lbnQsXG4gICAgICAgICAgdmFsdWVzLFxuICAgICAgICB9KTtcbiAgICAgIHRoaXMuX2NvbW1pdE5vZGUoZnJhZ21lbnQpO1xuICAgICAgdGhpcy5fJGNvbW1pdHRlZFZhbHVlID0gaW5zdGFuY2U7XG4gICAgfVxuICB9XG5cbiAgLy8gT3ZlcnJpZGRlbiB2aWEgYGxpdEh0bWxQb2x5ZmlsbFN1cHBvcnRgIHRvIHByb3ZpZGUgcGxhdGZvcm0gc3VwcG9ydC5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfJGdldFRlbXBsYXRlKHJlc3VsdDogVW5jb21waWxlZFRlbXBsYXRlUmVzdWx0KSB7XG4gICAgbGV0IHRlbXBsYXRlID0gdGVtcGxhdGVDYWNoZS5nZXQocmVzdWx0LnN0cmluZ3MpO1xuICAgIGlmICh0ZW1wbGF0ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0ZW1wbGF0ZUNhY2hlLnNldChyZXN1bHQuc3RyaW5ncywgKHRlbXBsYXRlID0gbmV3IFRlbXBsYXRlKHJlc3VsdCkpKTtcbiAgICB9XG4gICAgcmV0dXJuIHRlbXBsYXRlO1xuICB9XG5cbiAgcHJpdmF0ZSBfY29tbWl0SXRlcmFibGUodmFsdWU6IEl0ZXJhYmxlPHVua25vd24+KTogdm9pZCB7XG4gICAgLy8gRm9yIGFuIEl0ZXJhYmxlLCB3ZSBjcmVhdGUgYSBuZXcgSW5zdGFuY2VQYXJ0IHBlciBpdGVtLCB0aGVuIHNldCBpdHNcbiAgICAvLyB2YWx1ZSB0byB0aGUgaXRlbS4gVGhpcyBpcyBhIGxpdHRsZSBiaXQgb2Ygb3ZlcmhlYWQgZm9yIGV2ZXJ5IGl0ZW0gaW5cbiAgICAvLyBhbiBJdGVyYWJsZSwgYnV0IGl0IGxldHMgdXMgcmVjdXJzZSBlYXNpbHkgYW5kIGVmZmljaWVudGx5IHVwZGF0ZSBBcnJheXNcbiAgICAvLyBvZiBUZW1wbGF0ZVJlc3VsdHMgdGhhdCB3aWxsIGJlIGNvbW1vbmx5IHJldHVybmVkIGZyb20gZXhwcmVzc2lvbnMgbGlrZTpcbiAgICAvLyBhcnJheS5tYXAoKGkpID0+IGh0bWxgJHtpfWApLCBieSByZXVzaW5nIGV4aXN0aW5nIFRlbXBsYXRlSW5zdGFuY2VzLlxuXG4gICAgLy8gSWYgdmFsdWUgaXMgYW4gYXJyYXksIHRoZW4gdGhlIHByZXZpb3VzIHJlbmRlciB3YXMgb2YgYW5cbiAgICAvLyBpdGVyYWJsZSBhbmQgdmFsdWUgd2lsbCBjb250YWluIHRoZSBDaGlsZFBhcnRzIGZyb20gdGhlIHByZXZpb3VzXG4gICAgLy8gcmVuZGVyLiBJZiB2YWx1ZSBpcyBub3QgYW4gYXJyYXksIGNsZWFyIHRoaXMgcGFydCBhbmQgbWFrZSBhIG5ld1xuICAgIC8vIGFycmF5IGZvciBDaGlsZFBhcnRzLlxuICAgIGlmICghaXNBcnJheSh0aGlzLl8kY29tbWl0dGVkVmFsdWUpKSB7XG4gICAgICB0aGlzLl8kY29tbWl0dGVkVmFsdWUgPSBbXTtcbiAgICAgIHRoaXMuXyRjbGVhcigpO1xuICAgIH1cblxuICAgIC8vIExldHMgdXMga2VlcCB0cmFjayBvZiBob3cgbWFueSBpdGVtcyB3ZSBzdGFtcGVkIHNvIHdlIGNhbiBjbGVhciBsZWZ0b3ZlclxuICAgIC8vIGl0ZW1zIGZyb20gYSBwcmV2aW91cyByZW5kZXJcbiAgICBjb25zdCBpdGVtUGFydHMgPSB0aGlzLl8kY29tbWl0dGVkVmFsdWUgYXMgQ2hpbGRQYXJ0W107XG4gICAgbGV0IHBhcnRJbmRleCA9IDA7XG4gICAgbGV0IGl0ZW1QYXJ0OiBDaGlsZFBhcnQgfCB1bmRlZmluZWQ7XG5cbiAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgdmFsdWUpIHtcbiAgICAgIGlmIChwYXJ0SW5kZXggPT09IGl0ZW1QYXJ0cy5sZW5ndGgpIHtcbiAgICAgICAgLy8gSWYgbm8gZXhpc3RpbmcgcGFydCwgY3JlYXRlIGEgbmV3IG9uZVxuICAgICAgICAvLyBUT0RPIChqdXN0aW5mYWduYW5pKTogdGVzdCBwZXJmIGltcGFjdCBvZiBhbHdheXMgY3JlYXRpbmcgdHdvIHBhcnRzXG4gICAgICAgIC8vIGluc3RlYWQgb2Ygc2hhcmluZyBwYXJ0cyBiZXR3ZWVuIG5vZGVzXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9saXQvbGl0L2lzc3Vlcy8xMjY2XG4gICAgICAgIGl0ZW1QYXJ0cy5wdXNoKFxuICAgICAgICAgIChpdGVtUGFydCA9IG5ldyBDaGlsZFBhcnQoXG4gICAgICAgICAgICB0aGlzLl9pbnNlcnQoY3JlYXRlTWFya2VyKCkpLFxuICAgICAgICAgICAgdGhpcy5faW5zZXJ0KGNyZWF0ZU1hcmtlcigpKSxcbiAgICAgICAgICAgIHRoaXMsXG4gICAgICAgICAgICB0aGlzLm9wdGlvbnNcbiAgICAgICAgICApKVxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gUmV1c2UgYW4gZXhpc3RpbmcgcGFydFxuICAgICAgICBpdGVtUGFydCA9IGl0ZW1QYXJ0c1twYXJ0SW5kZXhdO1xuICAgICAgfVxuICAgICAgaXRlbVBhcnQuXyRzZXRWYWx1ZShpdGVtKTtcbiAgICAgIHBhcnRJbmRleCsrO1xuICAgIH1cblxuICAgIGlmIChwYXJ0SW5kZXggPCBpdGVtUGFydHMubGVuZ3RoKSB7XG4gICAgICAvLyBpdGVtUGFydHMgYWx3YXlzIGhhdmUgZW5kIG5vZGVzXG4gICAgICB0aGlzLl8kY2xlYXIoXG4gICAgICAgIGl0ZW1QYXJ0ICYmIHdyYXAoaXRlbVBhcnQuXyRlbmROb2RlISkubmV4dFNpYmxpbmcsXG4gICAgICAgIHBhcnRJbmRleFxuICAgICAgKTtcbiAgICAgIC8vIFRydW5jYXRlIHRoZSBwYXJ0cyBhcnJheSBzbyBfdmFsdWUgcmVmbGVjdHMgdGhlIGN1cnJlbnQgc3RhdGVcbiAgICAgIGl0ZW1QYXJ0cy5sZW5ndGggPSBwYXJ0SW5kZXg7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgdGhlIG5vZGVzIGNvbnRhaW5lZCB3aXRoaW4gdGhpcyBQYXJ0IGZyb20gdGhlIERPTS5cbiAgICpcbiAgICogQHBhcmFtIHN0YXJ0IFN0YXJ0IG5vZGUgdG8gY2xlYXIgZnJvbSwgZm9yIGNsZWFyaW5nIGEgc3Vic2V0IG9mIHRoZSBwYXJ0J3NcbiAgICogICAgIERPTSAodXNlZCB3aGVuIHRydW5jYXRpbmcgaXRlcmFibGVzKVxuICAgKiBAcGFyYW0gZnJvbSAgV2hlbiBgc3RhcnRgIGlzIHNwZWNpZmllZCwgdGhlIGluZGV4IHdpdGhpbiB0aGUgaXRlcmFibGUgZnJvbVxuICAgKiAgICAgd2hpY2ggQ2hpbGRQYXJ0cyBhcmUgYmVpbmcgcmVtb3ZlZCwgdXNlZCBmb3IgZGlzY29ubmVjdGluZyBkaXJlY3RpdmVzIGluXG4gICAqICAgICB0aG9zZSBQYXJ0cy5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqL1xuICBfJGNsZWFyKFxuICAgIHN0YXJ0OiBDaGlsZE5vZGUgfCBudWxsID0gd3JhcCh0aGlzLl8kc3RhcnROb2RlKS5uZXh0U2libGluZyxcbiAgICBmcm9tPzogbnVtYmVyXG4gICkge1xuICAgIHRoaXMuXyRub3RpZnlDb25uZWN0aW9uQ2hhbmdlZD8uKGZhbHNlLCB0cnVlLCBmcm9tKTtcbiAgICB3aGlsZSAoc3RhcnQgJiYgc3RhcnQgIT09IHRoaXMuXyRlbmROb2RlKSB7XG4gICAgICBjb25zdCBuID0gd3JhcChzdGFydCEpLm5leHRTaWJsaW5nO1xuICAgICAgKHdyYXAoc3RhcnQhKSBhcyBFbGVtZW50KS5yZW1vdmUoKTtcbiAgICAgIHN0YXJ0ID0gbjtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEltcGxlbWVudGF0aW9uIG9mIFJvb3RQYXJ0J3MgYGlzQ29ubmVjdGVkYC4gTm90ZSB0aGF0IHRoaXMgbWV0aG9kXG4gICAqIHNob3VsZCBvbmx5IGJlIGNhbGxlZCBvbiBgUm9vdFBhcnRgcyAodGhlIGBDaGlsZFBhcnRgIHJldHVybmVkIGZyb20gYVxuICAgKiB0b3AtbGV2ZWwgYHJlbmRlcigpYCBjYWxsKS4gSXQgaGFzIG5vIGVmZmVjdCBvbiBub24tcm9vdCBDaGlsZFBhcnRzLlxuICAgKiBAcGFyYW0gaXNDb25uZWN0ZWQgV2hldGhlciB0byBzZXRcbiAgICogQGludGVybmFsXG4gICAqL1xuICBzZXRDb25uZWN0ZWQoaXNDb25uZWN0ZWQ6IGJvb2xlYW4pIHtcbiAgICBpZiAodGhpcy5fJHBhcmVudCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLl9faXNDb25uZWN0ZWQgPSBpc0Nvbm5lY3RlZDtcbiAgICAgIHRoaXMuXyRub3RpZnlDb25uZWN0aW9uQ2hhbmdlZD8uKGlzQ29ubmVjdGVkKTtcbiAgICB9IGVsc2UgaWYgKERFVl9NT0RFKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdwYXJ0LnNldENvbm5lY3RlZCgpIG1heSBvbmx5IGJlIGNhbGxlZCBvbiBhICcgK1xuICAgICAgICAgICdSb290UGFydCByZXR1cm5lZCBmcm9tIHJlbmRlcigpLidcbiAgICAgICk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQSB0b3AtbGV2ZWwgYENoaWxkUGFydGAgcmV0dXJuZWQgZnJvbSBgcmVuZGVyYCB0aGF0IG1hbmFnZXMgdGhlIGNvbm5lY3RlZFxuICogc3RhdGUgb2YgYEFzeW5jRGlyZWN0aXZlYHMgY3JlYXRlZCB0aHJvdWdob3V0IHRoZSB0cmVlIGJlbG93IGl0LlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJvb3RQYXJ0IGV4dGVuZHMgQ2hpbGRQYXJ0IHtcbiAgLyoqXG4gICAqIFNldHMgdGhlIGNvbm5lY3Rpb24gc3RhdGUgZm9yIGBBc3luY0RpcmVjdGl2ZWBzIGNvbnRhaW5lZCB3aXRoaW4gdGhpcyByb290XG4gICAqIENoaWxkUGFydC5cbiAgICpcbiAgICogbGl0LWh0bWwgZG9lcyBub3QgYXV0b21hdGljYWxseSBtb25pdG9yIHRoZSBjb25uZWN0ZWRuZXNzIG9mIERPTSByZW5kZXJlZDtcbiAgICogYXMgc3VjaCwgaXQgaXMgdGhlIHJlc3BvbnNpYmlsaXR5IG9mIHRoZSBjYWxsZXIgdG8gYHJlbmRlcmAgdG8gZW5zdXJlIHRoYXRcbiAgICogYHBhcnQuc2V0Q29ubmVjdGVkKGZhbHNlKWAgaXMgY2FsbGVkIGJlZm9yZSB0aGUgcGFydCBvYmplY3QgaXMgcG90ZW50aWFsbHlcbiAgICogZGlzY2FyZGVkLCB0byBlbnN1cmUgdGhhdCBgQXN5bmNEaXJlY3RpdmVgcyBoYXZlIGEgY2hhbmNlIHRvIGRpc3Bvc2Ugb2ZcbiAgICogYW55IHJlc291cmNlcyBiZWluZyBoZWxkLiBJZiBhIGBSb290UGFydGAgdGhhdCB3YXMgcHJldmlvdXNseVxuICAgKiBkaXNjb25uZWN0ZWQgaXMgc3Vic2VxdWVudGx5IHJlLWNvbm5lY3RlZCAoYW5kIGl0cyBgQXN5bmNEaXJlY3RpdmVgcyBzaG91bGRcbiAgICogcmUtY29ubmVjdCksIGBzZXRDb25uZWN0ZWQodHJ1ZSlgIHNob3VsZCBiZSBjYWxsZWQuXG4gICAqXG4gICAqIEBwYXJhbSBpc0Nvbm5lY3RlZCBXaGV0aGVyIGRpcmVjdGl2ZXMgd2l0aGluIHRoaXMgdHJlZSBzaG91bGQgYmUgY29ubmVjdGVkXG4gICAqIG9yIG5vdFxuICAgKi9cbiAgc2V0Q29ubmVjdGVkKGlzQ29ubmVjdGVkOiBib29sZWFuKTogdm9pZDtcbn1cblxuZXhwb3J0IHR5cGUge0F0dHJpYnV0ZVBhcnR9O1xuY2xhc3MgQXR0cmlidXRlUGFydCBpbXBsZW1lbnRzIERpc2Nvbm5lY3RhYmxlIHtcbiAgcmVhZG9ubHkgdHlwZTpcbiAgICB8IHR5cGVvZiBBVFRSSUJVVEVfUEFSVFxuICAgIHwgdHlwZW9mIFBST1BFUlRZX1BBUlRcbiAgICB8IHR5cGVvZiBCT09MRUFOX0FUVFJJQlVURV9QQVJUXG4gICAgfCB0eXBlb2YgRVZFTlRfUEFSVCA9IEFUVFJJQlVURV9QQVJUO1xuICByZWFkb25seSBlbGVtZW50OiBIVE1MRWxlbWVudDtcbiAgcmVhZG9ubHkgbmFtZTogc3RyaW5nO1xuICByZWFkb25seSBvcHRpb25zOiBSZW5kZXJPcHRpb25zIHwgdW5kZWZpbmVkO1xuXG4gIC8qKlxuICAgKiBJZiB0aGlzIGF0dHJpYnV0ZSBwYXJ0IHJlcHJlc2VudHMgYW4gaW50ZXJwb2xhdGlvbiwgdGhpcyBjb250YWlucyB0aGVcbiAgICogc3RhdGljIHN0cmluZ3Mgb2YgdGhlIGludGVycG9sYXRpb24uIEZvciBzaW5nbGUtdmFsdWUsIGNvbXBsZXRlIGJpbmRpbmdzLFxuICAgKiB0aGlzIGlzIHVuZGVmaW5lZC5cbiAgICovXG4gIHJlYWRvbmx5IHN0cmluZ3M/OiBSZWFkb25seUFycmF5PHN0cmluZz47XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgXyRjb21taXR0ZWRWYWx1ZTogdW5rbm93biB8IEFycmF5PHVua25vd24+ID0gbm90aGluZztcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfX2RpcmVjdGl2ZXM/OiBBcnJheTxEaXJlY3RpdmUgfCB1bmRlZmluZWQ+O1xuICAvKiogQGludGVybmFsICovXG4gIF8kcGFyZW50OiBEaXNjb25uZWN0YWJsZTtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfJGRpc2Nvbm5lY3RhYmxlQ2hpbGRyZW4/OiBTZXQ8RGlzY29ubmVjdGFibGU+ID0gdW5kZWZpbmVkO1xuXG4gIHByb3RlY3RlZCBfc2FuaXRpemVyOiBWYWx1ZVNhbml0aXplciB8IHVuZGVmaW5lZDtcblxuICBnZXQgdGFnTmFtZSgpIHtcbiAgICByZXR1cm4gdGhpcy5lbGVtZW50LnRhZ05hbWU7XG4gIH1cblxuICAvLyBTZWUgY29tbWVudCBpbiBEaXNjb25uZWN0YWJsZSBpbnRlcmZhY2UgZm9yIHdoeSB0aGlzIGlzIGEgZ2V0dGVyXG4gIGdldCBfJGlzQ29ubmVjdGVkKCkge1xuICAgIHJldHVybiB0aGlzLl8kcGFyZW50Ll8kaXNDb25uZWN0ZWQ7XG4gIH1cblxuICBjb25zdHJ1Y3RvcihcbiAgICBlbGVtZW50OiBIVE1MRWxlbWVudCxcbiAgICBuYW1lOiBzdHJpbmcsXG4gICAgc3RyaW5nczogUmVhZG9ubHlBcnJheTxzdHJpbmc+LFxuICAgIHBhcmVudDogRGlzY29ubmVjdGFibGUsXG4gICAgb3B0aW9uczogUmVuZGVyT3B0aW9ucyB8IHVuZGVmaW5lZFxuICApIHtcbiAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgdGhpcy5fJHBhcmVudCA9IHBhcmVudDtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIGlmIChzdHJpbmdzLmxlbmd0aCA+IDIgfHwgc3RyaW5nc1swXSAhPT0gJycgfHwgc3RyaW5nc1sxXSAhPT0gJycpIHtcbiAgICAgIHRoaXMuXyRjb21taXR0ZWRWYWx1ZSA9IG5ldyBBcnJheShzdHJpbmdzLmxlbmd0aCAtIDEpLmZpbGwobmV3IFN0cmluZygpKTtcbiAgICAgIHRoaXMuc3RyaW5ncyA9IHN0cmluZ3M7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuXyRjb21taXR0ZWRWYWx1ZSA9IG5vdGhpbmc7XG4gICAgfVxuICAgIGlmIChFTkFCTEVfRVhUUkFfU0VDVVJJVFlfSE9PS1MpIHtcbiAgICAgIHRoaXMuX3Nhbml0aXplciA9IHVuZGVmaW5lZDtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgdmFsdWUgb2YgdGhpcyBwYXJ0IGJ5IHJlc29sdmluZyB0aGUgdmFsdWUgZnJvbSBwb3NzaWJseSBtdWx0aXBsZVxuICAgKiB2YWx1ZXMgYW5kIHN0YXRpYyBzdHJpbmdzIGFuZCBjb21taXR0aW5nIGl0IHRvIHRoZSBET00uXG4gICAqIElmIHRoaXMgcGFydCBpcyBzaW5nbGUtdmFsdWVkLCBgdGhpcy5fc3RyaW5nc2Agd2lsbCBiZSB1bmRlZmluZWQsIGFuZCB0aGVcbiAgICogbWV0aG9kIHdpbGwgYmUgY2FsbGVkIHdpdGggYSBzaW5nbGUgdmFsdWUgYXJndW1lbnQuIElmIHRoaXMgcGFydCBpc1xuICAgKiBtdWx0aS12YWx1ZSwgYHRoaXMuX3N0cmluZ3NgIHdpbGwgYmUgZGVmaW5lZCwgYW5kIHRoZSBtZXRob2QgaXMgY2FsbGVkXG4gICAqIHdpdGggdGhlIHZhbHVlIGFycmF5IG9mIHRoZSBwYXJ0J3Mgb3duaW5nIFRlbXBsYXRlSW5zdGFuY2UsIGFuZCBhbiBvZmZzZXRcbiAgICogaW50byB0aGUgdmFsdWUgYXJyYXkgZnJvbSB3aGljaCB0aGUgdmFsdWVzIHNob3VsZCBiZSByZWFkLlxuICAgKiBUaGlzIG1ldGhvZCBpcyBvdmVybG9hZGVkIHRoaXMgd2F5IHRvIGVsaW1pbmF0ZSBzaG9ydC1saXZlZCBhcnJheSBzbGljZXNcbiAgICogb2YgdGhlIHRlbXBsYXRlIGluc3RhbmNlIHZhbHVlcywgYW5kIGFsbG93IGEgZmFzdC1wYXRoIGZvciBzaW5nbGUtdmFsdWVkXG4gICAqIHBhcnRzLlxuICAgKlxuICAgKiBAcGFyYW0gdmFsdWUgVGhlIHBhcnQgdmFsdWUsIG9yIGFuIGFycmF5IG9mIHZhbHVlcyBmb3IgbXVsdGktdmFsdWVkIHBhcnRzXG4gICAqIEBwYXJhbSB2YWx1ZUluZGV4IHRoZSBpbmRleCB0byBzdGFydCByZWFkaW5nIHZhbHVlcyBmcm9tLiBgdW5kZWZpbmVkYCBmb3JcbiAgICogICBzaW5nbGUtdmFsdWVkIHBhcnRzXG4gICAqIEBwYXJhbSBub0NvbW1pdCBjYXVzZXMgdGhlIHBhcnQgdG8gbm90IGNvbW1pdCBpdHMgdmFsdWUgdG8gdGhlIERPTS4gVXNlZFxuICAgKiAgIGluIGh5ZHJhdGlvbiB0byBwcmltZSBhdHRyaWJ1dGUgcGFydHMgd2l0aCB0aGVpciBmaXJzdC1yZW5kZXJlZCB2YWx1ZSxcbiAgICogICBidXQgbm90IHNldCB0aGUgYXR0cmlidXRlLCBhbmQgaW4gU1NSIHRvIG5vLW9wIHRoZSBET00gb3BlcmF0aW9uIGFuZFxuICAgKiAgIGNhcHR1cmUgdGhlIHZhbHVlIGZvciBzZXJpYWxpemF0aW9uLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIF8kc2V0VmFsdWUoXG4gICAgdmFsdWU6IHVua25vd24gfCBBcnJheTx1bmtub3duPixcbiAgICBkaXJlY3RpdmVQYXJlbnQ6IERpcmVjdGl2ZVBhcmVudCA9IHRoaXMsXG4gICAgdmFsdWVJbmRleD86IG51bWJlcixcbiAgICBub0NvbW1pdD86IGJvb2xlYW5cbiAgKSB7XG4gICAgY29uc3Qgc3RyaW5ncyA9IHRoaXMuc3RyaW5ncztcblxuICAgIC8vIFdoZXRoZXIgYW55IG9mIHRoZSB2YWx1ZXMgaGFzIGNoYW5nZWQsIGZvciBkaXJ0eS1jaGVja2luZ1xuICAgIGxldCBjaGFuZ2UgPSBmYWxzZTtcblxuICAgIGlmIChzdHJpbmdzID09PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIFNpbmdsZS12YWx1ZSBiaW5kaW5nIGNhc2VcbiAgICAgIHZhbHVlID0gcmVzb2x2ZURpcmVjdGl2ZSh0aGlzLCB2YWx1ZSwgZGlyZWN0aXZlUGFyZW50LCAwKTtcbiAgICAgIGNoYW5nZSA9XG4gICAgICAgICFpc1ByaW1pdGl2ZSh2YWx1ZSkgfHxcbiAgICAgICAgKHZhbHVlICE9PSB0aGlzLl8kY29tbWl0dGVkVmFsdWUgJiYgdmFsdWUgIT09IG5vQ2hhbmdlKTtcbiAgICAgIGlmIChjaGFuZ2UpIHtcbiAgICAgICAgdGhpcy5fJGNvbW1pdHRlZFZhbHVlID0gdmFsdWU7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEludGVycG9sYXRpb24gY2FzZVxuICAgICAgY29uc3QgdmFsdWVzID0gdmFsdWUgYXMgQXJyYXk8dW5rbm93bj47XG4gICAgICB2YWx1ZSA9IHN0cmluZ3NbMF07XG5cbiAgICAgIGxldCBpLCB2O1xuICAgICAgZm9yIChpID0gMDsgaSA8IHN0cmluZ3MubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICAgIHYgPSByZXNvbHZlRGlyZWN0aXZlKHRoaXMsIHZhbHVlc1t2YWx1ZUluZGV4ISArIGldLCBkaXJlY3RpdmVQYXJlbnQsIGkpO1xuXG4gICAgICAgIGlmICh2ID09PSBub0NoYW5nZSkge1xuICAgICAgICAgIC8vIElmIHRoZSB1c2VyLXByb3ZpZGVkIHZhbHVlIGlzIGBub0NoYW5nZWAsIHVzZSB0aGUgcHJldmlvdXMgdmFsdWVcbiAgICAgICAgICB2ID0gKHRoaXMuXyRjb21taXR0ZWRWYWx1ZSBhcyBBcnJheTx1bmtub3duPilbaV07XG4gICAgICAgIH1cbiAgICAgICAgY2hhbmdlIHx8PVxuICAgICAgICAgICFpc1ByaW1pdGl2ZSh2KSB8fCB2ICE9PSAodGhpcy5fJGNvbW1pdHRlZFZhbHVlIGFzIEFycmF5PHVua25vd24+KVtpXTtcbiAgICAgICAgaWYgKHYgPT09IG5vdGhpbmcpIHtcbiAgICAgICAgICB2YWx1ZSA9IG5vdGhpbmc7XG4gICAgICAgIH0gZWxzZSBpZiAodmFsdWUgIT09IG5vdGhpbmcpIHtcbiAgICAgICAgICB2YWx1ZSArPSAodiA/PyAnJykgKyBzdHJpbmdzW2kgKyAxXTtcbiAgICAgICAgfVxuICAgICAgICAvLyBXZSBhbHdheXMgcmVjb3JkIGVhY2ggdmFsdWUsIGV2ZW4gaWYgb25lIGlzIGBub3RoaW5nYCwgZm9yIGZ1dHVyZVxuICAgICAgICAvLyBjaGFuZ2UgZGV0ZWN0aW9uLlxuICAgICAgICAodGhpcy5fJGNvbW1pdHRlZFZhbHVlIGFzIEFycmF5PHVua25vd24+KVtpXSA9IHY7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChjaGFuZ2UgJiYgIW5vQ29tbWl0KSB7XG4gICAgICB0aGlzLl9jb21taXRWYWx1ZSh2YWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfY29tbWl0VmFsdWUodmFsdWU6IHVua25vd24pIHtcbiAgICBpZiAodmFsdWUgPT09IG5vdGhpbmcpIHtcbiAgICAgICh3cmFwKHRoaXMuZWxlbWVudCkgYXMgRWxlbWVudCkucmVtb3ZlQXR0cmlidXRlKHRoaXMubmFtZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChFTkFCTEVfRVhUUkFfU0VDVVJJVFlfSE9PS1MpIHtcbiAgICAgICAgaWYgKHRoaXMuX3Nhbml0aXplciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgdGhpcy5fc2FuaXRpemVyID0gc2FuaXRpemVyRmFjdG9yeUludGVybmFsKFxuICAgICAgICAgICAgdGhpcy5lbGVtZW50LFxuICAgICAgICAgICAgdGhpcy5uYW1lLFxuICAgICAgICAgICAgJ2F0dHJpYnV0ZSdcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHZhbHVlID0gdGhpcy5fc2FuaXRpemVyKHZhbHVlID8/ICcnKTtcbiAgICAgIH1cbiAgICAgIGRlYnVnTG9nRXZlbnQgJiZcbiAgICAgICAgZGVidWdMb2dFdmVudCh7XG4gICAgICAgICAga2luZDogJ2NvbW1pdCBhdHRyaWJ1dGUnLFxuICAgICAgICAgIGVsZW1lbnQ6IHRoaXMuZWxlbWVudCxcbiAgICAgICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgb3B0aW9uczogdGhpcy5vcHRpb25zLFxuICAgICAgICB9KTtcbiAgICAgICh3cmFwKHRoaXMuZWxlbWVudCkgYXMgRWxlbWVudCkuc2V0QXR0cmlidXRlKFxuICAgICAgICB0aGlzLm5hbWUsXG4gICAgICAgICh2YWx1ZSA/PyAnJykgYXMgc3RyaW5nXG4gICAgICApO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgdHlwZSB7UHJvcGVydHlQYXJ0fTtcbmNsYXNzIFByb3BlcnR5UGFydCBleHRlbmRzIEF0dHJpYnV0ZVBhcnQge1xuICBvdmVycmlkZSByZWFkb25seSB0eXBlID0gUFJPUEVSVFlfUEFSVDtcblxuICAvKiogQGludGVybmFsICovXG4gIG92ZXJyaWRlIF9jb21taXRWYWx1ZSh2YWx1ZTogdW5rbm93bikge1xuICAgIGlmIChFTkFCTEVfRVhUUkFfU0VDVVJJVFlfSE9PS1MpIHtcbiAgICAgIGlmICh0aGlzLl9zYW5pdGl6ZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLl9zYW5pdGl6ZXIgPSBzYW5pdGl6ZXJGYWN0b3J5SW50ZXJuYWwoXG4gICAgICAgICAgdGhpcy5lbGVtZW50LFxuICAgICAgICAgIHRoaXMubmFtZSxcbiAgICAgICAgICAncHJvcGVydHknXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICB2YWx1ZSA9IHRoaXMuX3Nhbml0aXplcih2YWx1ZSk7XG4gICAgfVxuICAgIGRlYnVnTG9nRXZlbnQgJiZcbiAgICAgIGRlYnVnTG9nRXZlbnQoe1xuICAgICAgICBraW5kOiAnY29tbWl0IHByb3BlcnR5JyxcbiAgICAgICAgZWxlbWVudDogdGhpcy5lbGVtZW50LFxuICAgICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICAgIHZhbHVlLFxuICAgICAgICBvcHRpb25zOiB0aGlzLm9wdGlvbnMsXG4gICAgICB9KTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICh0aGlzLmVsZW1lbnQgYXMgYW55KVt0aGlzLm5hbWVdID0gdmFsdWUgPT09IG5vdGhpbmcgPyB1bmRlZmluZWQgOiB2YWx1ZTtcbiAgfVxufVxuXG5leHBvcnQgdHlwZSB7Qm9vbGVhbkF0dHJpYnV0ZVBhcnR9O1xuY2xhc3MgQm9vbGVhbkF0dHJpYnV0ZVBhcnQgZXh0ZW5kcyBBdHRyaWJ1dGVQYXJ0IHtcbiAgb3ZlcnJpZGUgcmVhZG9ubHkgdHlwZSA9IEJPT0xFQU5fQVRUUklCVVRFX1BBUlQ7XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBvdmVycmlkZSBfY29tbWl0VmFsdWUodmFsdWU6IHVua25vd24pIHtcbiAgICBkZWJ1Z0xvZ0V2ZW50ICYmXG4gICAgICBkZWJ1Z0xvZ0V2ZW50KHtcbiAgICAgICAga2luZDogJ2NvbW1pdCBib29sZWFuIGF0dHJpYnV0ZScsXG4gICAgICAgIGVsZW1lbnQ6IHRoaXMuZWxlbWVudCxcbiAgICAgICAgbmFtZTogdGhpcy5uYW1lLFxuICAgICAgICB2YWx1ZTogISEodmFsdWUgJiYgdmFsdWUgIT09IG5vdGhpbmcpLFxuICAgICAgICBvcHRpb25zOiB0aGlzLm9wdGlvbnMsXG4gICAgICB9KTtcbiAgICAod3JhcCh0aGlzLmVsZW1lbnQpIGFzIEVsZW1lbnQpLnRvZ2dsZUF0dHJpYnV0ZShcbiAgICAgIHRoaXMubmFtZSxcbiAgICAgICEhdmFsdWUgJiYgdmFsdWUgIT09IG5vdGhpbmdcbiAgICApO1xuICB9XG59XG5cbnR5cGUgRXZlbnRMaXN0ZW5lcldpdGhPcHRpb25zID0gRXZlbnRMaXN0ZW5lck9yRXZlbnRMaXN0ZW5lck9iamVjdCAmXG4gIFBhcnRpYWw8QWRkRXZlbnRMaXN0ZW5lck9wdGlvbnM+O1xuXG4vKipcbiAqIEFuIEF0dHJpYnV0ZVBhcnQgdGhhdCBtYW5hZ2VzIGFuIGV2ZW50IGxpc3RlbmVyIHZpYSBhZGQvcmVtb3ZlRXZlbnRMaXN0ZW5lci5cbiAqXG4gKiBUaGlzIHBhcnQgd29ya3MgYnkgYWRkaW5nIGl0c2VsZiBhcyB0aGUgZXZlbnQgbGlzdGVuZXIgb24gYW4gZWxlbWVudCwgdGhlblxuICogZGVsZWdhdGluZyB0byB0aGUgdmFsdWUgcGFzc2VkIHRvIGl0LiBUaGlzIHJlZHVjZXMgdGhlIG51bWJlciBvZiBjYWxscyB0b1xuICogYWRkL3JlbW92ZUV2ZW50TGlzdGVuZXIgaWYgdGhlIGxpc3RlbmVyIGNoYW5nZXMgZnJlcXVlbnRseSwgc3VjaCBhcyB3aGVuIGFuXG4gKiBpbmxpbmUgZnVuY3Rpb24gaXMgdXNlZCBhcyBhIGxpc3RlbmVyLlxuICpcbiAqIEJlY2F1c2UgZXZlbnQgb3B0aW9ucyBhcmUgcGFzc2VkIHdoZW4gYWRkaW5nIGxpc3RlbmVycywgd2UgbXVzdCB0YWtlIGNhc2VcbiAqIHRvIGFkZCBhbmQgcmVtb3ZlIHRoZSBwYXJ0IGFzIGEgbGlzdGVuZXIgd2hlbiB0aGUgZXZlbnQgb3B0aW9ucyBjaGFuZ2UuXG4gKi9cbmV4cG9ydCB0eXBlIHtFdmVudFBhcnR9O1xuY2xhc3MgRXZlbnRQYXJ0IGV4dGVuZHMgQXR0cmlidXRlUGFydCB7XG4gIG92ZXJyaWRlIHJlYWRvbmx5IHR5cGUgPSBFVkVOVF9QQVJUO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIGVsZW1lbnQ6IEhUTUxFbGVtZW50LFxuICAgIG5hbWU6IHN0cmluZyxcbiAgICBzdHJpbmdzOiBSZWFkb25seUFycmF5PHN0cmluZz4sXG4gICAgcGFyZW50OiBEaXNjb25uZWN0YWJsZSxcbiAgICBvcHRpb25zOiBSZW5kZXJPcHRpb25zIHwgdW5kZWZpbmVkXG4gICkge1xuICAgIHN1cGVyKGVsZW1lbnQsIG5hbWUsIHN0cmluZ3MsIHBhcmVudCwgb3B0aW9ucyk7XG5cbiAgICBpZiAoREVWX01PREUgJiYgdGhpcy5zdHJpbmdzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYEEgXFxgPCR7ZWxlbWVudC5sb2NhbE5hbWV9PlxcYCBoYXMgYSBcXGBAJHtuYW1lfT0uLi5cXGAgbGlzdGVuZXIgd2l0aCBgICtcbiAgICAgICAgICAnaW52YWxpZCBjb250ZW50LiBFdmVudCBsaXN0ZW5lcnMgaW4gdGVtcGxhdGVzIG11c3QgaGF2ZSBleGFjdGx5ICcgK1xuICAgICAgICAgICdvbmUgZXhwcmVzc2lvbiBhbmQgbm8gc3Vycm91bmRpbmcgdGV4dC4nXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIC8vIEV2ZW50UGFydCBkb2VzIG5vdCB1c2UgdGhlIGJhc2UgXyRzZXRWYWx1ZS9fcmVzb2x2ZVZhbHVlIGltcGxlbWVudGF0aW9uXG4gIC8vIHNpbmNlIHRoZSBkaXJ0eSBjaGVja2luZyBpcyBtb3JlIGNvbXBsZXhcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBvdmVycmlkZSBfJHNldFZhbHVlKFxuICAgIG5ld0xpc3RlbmVyOiB1bmtub3duLFxuICAgIGRpcmVjdGl2ZVBhcmVudDogRGlyZWN0aXZlUGFyZW50ID0gdGhpc1xuICApIHtcbiAgICBuZXdMaXN0ZW5lciA9XG4gICAgICByZXNvbHZlRGlyZWN0aXZlKHRoaXMsIG5ld0xpc3RlbmVyLCBkaXJlY3RpdmVQYXJlbnQsIDApID8/IG5vdGhpbmc7XG4gICAgaWYgKG5ld0xpc3RlbmVyID09PSBub0NoYW5nZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBvbGRMaXN0ZW5lciA9IHRoaXMuXyRjb21taXR0ZWRWYWx1ZTtcblxuICAgIC8vIElmIHRoZSBuZXcgdmFsdWUgaXMgbm90aGluZyBvciBhbnkgb3B0aW9ucyBjaGFuZ2Ugd2UgaGF2ZSB0byByZW1vdmUgdGhlXG4gICAgLy8gcGFydCBhcyBhIGxpc3RlbmVyLlxuICAgIGNvbnN0IHNob3VsZFJlbW92ZUxpc3RlbmVyID1cbiAgICAgIChuZXdMaXN0ZW5lciA9PT0gbm90aGluZyAmJiBvbGRMaXN0ZW5lciAhPT0gbm90aGluZykgfHxcbiAgICAgIChuZXdMaXN0ZW5lciBhcyBFdmVudExpc3RlbmVyV2l0aE9wdGlvbnMpLmNhcHR1cmUgIT09XG4gICAgICAgIChvbGRMaXN0ZW5lciBhcyBFdmVudExpc3RlbmVyV2l0aE9wdGlvbnMpLmNhcHR1cmUgfHxcbiAgICAgIChuZXdMaXN0ZW5lciBhcyBFdmVudExpc3RlbmVyV2l0aE9wdGlvbnMpLm9uY2UgIT09XG4gICAgICAgIChvbGRMaXN0ZW5lciBhcyBFdmVudExpc3RlbmVyV2l0aE9wdGlvbnMpLm9uY2UgfHxcbiAgICAgIChuZXdMaXN0ZW5lciBhcyBFdmVudExpc3RlbmVyV2l0aE9wdGlvbnMpLnBhc3NpdmUgIT09XG4gICAgICAgIChvbGRMaXN0ZW5lciBhcyBFdmVudExpc3RlbmVyV2l0aE9wdGlvbnMpLnBhc3NpdmU7XG5cbiAgICAvLyBJZiB0aGUgbmV3IHZhbHVlIGlzIG5vdCBub3RoaW5nIGFuZCB3ZSByZW1vdmVkIHRoZSBsaXN0ZW5lciwgd2UgaGF2ZVxuICAgIC8vIHRvIGFkZCB0aGUgcGFydCBhcyBhIGxpc3RlbmVyLlxuICAgIGNvbnN0IHNob3VsZEFkZExpc3RlbmVyID1cbiAgICAgIG5ld0xpc3RlbmVyICE9PSBub3RoaW5nICYmXG4gICAgICAob2xkTGlzdGVuZXIgPT09IG5vdGhpbmcgfHwgc2hvdWxkUmVtb3ZlTGlzdGVuZXIpO1xuXG4gICAgZGVidWdMb2dFdmVudCAmJlxuICAgICAgZGVidWdMb2dFdmVudCh7XG4gICAgICAgIGtpbmQ6ICdjb21taXQgZXZlbnQgbGlzdGVuZXInLFxuICAgICAgICBlbGVtZW50OiB0aGlzLmVsZW1lbnQsXG4gICAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgICAgdmFsdWU6IG5ld0xpc3RlbmVyLFxuICAgICAgICBvcHRpb25zOiB0aGlzLm9wdGlvbnMsXG4gICAgICAgIHJlbW92ZUxpc3RlbmVyOiBzaG91bGRSZW1vdmVMaXN0ZW5lcixcbiAgICAgICAgYWRkTGlzdGVuZXI6IHNob3VsZEFkZExpc3RlbmVyLFxuICAgICAgICBvbGRMaXN0ZW5lcixcbiAgICAgIH0pO1xuICAgIGlmIChzaG91bGRSZW1vdmVMaXN0ZW5lcikge1xuICAgICAgdGhpcy5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgIHRoaXMubmFtZSxcbiAgICAgICAgdGhpcyxcbiAgICAgICAgb2xkTGlzdGVuZXIgYXMgRXZlbnRMaXN0ZW5lcldpdGhPcHRpb25zXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoc2hvdWxkQWRkTGlzdGVuZXIpIHtcbiAgICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICB0aGlzLm5hbWUsXG4gICAgICAgIHRoaXMsXG4gICAgICAgIG5ld0xpc3RlbmVyIGFzIEV2ZW50TGlzdGVuZXJXaXRoT3B0aW9uc1xuICAgICAgKTtcbiAgICB9XG4gICAgdGhpcy5fJGNvbW1pdHRlZFZhbHVlID0gbmV3TGlzdGVuZXI7XG4gIH1cblxuICBoYW5kbGVFdmVudChldmVudDogRXZlbnQpIHtcbiAgICBpZiAodHlwZW9mIHRoaXMuXyRjb21taXR0ZWRWYWx1ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhpcy5fJGNvbW1pdHRlZFZhbHVlLmNhbGwodGhpcy5vcHRpb25zPy5ob3N0ID8/IHRoaXMuZWxlbWVudCwgZXZlbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICAodGhpcy5fJGNvbW1pdHRlZFZhbHVlIGFzIEV2ZW50TGlzdGVuZXJPYmplY3QpLmhhbmRsZUV2ZW50KGV2ZW50KTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IHR5cGUge0VsZW1lbnRQYXJ0fTtcbmNsYXNzIEVsZW1lbnRQYXJ0IGltcGxlbWVudHMgRGlzY29ubmVjdGFibGUge1xuICByZWFkb25seSB0eXBlID0gRUxFTUVOVF9QQVJUO1xuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX19kaXJlY3RpdmU/OiBEaXJlY3RpdmU7XG5cbiAgLy8gVGhpcyBpcyB0byBlbnN1cmUgdGhhdCBldmVyeSBQYXJ0IGhhcyBhIF8kY29tbWl0dGVkVmFsdWVcbiAgXyRjb21taXR0ZWRWYWx1ZTogdW5kZWZpbmVkO1xuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgXyRwYXJlbnQhOiBEaXNjb25uZWN0YWJsZTtcblxuICAvKiogQGludGVybmFsICovXG4gIF8kZGlzY29ubmVjdGFibGVDaGlsZHJlbj86IFNldDxEaXNjb25uZWN0YWJsZT4gPSB1bmRlZmluZWQ7XG5cbiAgb3B0aW9uczogUmVuZGVyT3B0aW9ucyB8IHVuZGVmaW5lZDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgZWxlbWVudDogRWxlbWVudCxcbiAgICBwYXJlbnQ6IERpc2Nvbm5lY3RhYmxlLFxuICAgIG9wdGlvbnM6IFJlbmRlck9wdGlvbnMgfCB1bmRlZmluZWRcbiAgKSB7XG4gICAgdGhpcy5fJHBhcmVudCA9IHBhcmVudDtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICB9XG5cbiAgLy8gU2VlIGNvbW1lbnQgaW4gRGlzY29ubmVjdGFibGUgaW50ZXJmYWNlIGZvciB3aHkgdGhpcyBpcyBhIGdldHRlclxuICBnZXQgXyRpc0Nvbm5lY3RlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5fJHBhcmVudC5fJGlzQ29ubmVjdGVkO1xuICB9XG5cbiAgXyRzZXRWYWx1ZSh2YWx1ZTogdW5rbm93bik6IHZvaWQge1xuICAgIGRlYnVnTG9nRXZlbnQgJiZcbiAgICAgIGRlYnVnTG9nRXZlbnQoe1xuICAgICAgICBraW5kOiAnY29tbWl0IHRvIGVsZW1lbnQgYmluZGluZycsXG4gICAgICAgIGVsZW1lbnQ6IHRoaXMuZWxlbWVudCxcbiAgICAgICAgdmFsdWUsXG4gICAgICAgIG9wdGlvbnM6IHRoaXMub3B0aW9ucyxcbiAgICAgIH0pO1xuICAgIHJlc29sdmVEaXJlY3RpdmUodGhpcywgdmFsdWUpO1xuICB9XG59XG5cbi8qKlxuICogRU5EIFVTRVJTIFNIT1VMRCBOT1QgUkVMWSBPTiBUSElTIE9CSkVDVC5cbiAqXG4gKiBQcml2YXRlIGV4cG9ydHMgZm9yIHVzZSBieSBvdGhlciBMaXQgcGFja2FnZXMsIG5vdCBpbnRlbmRlZCBmb3IgdXNlIGJ5XG4gKiBleHRlcm5hbCB1c2Vycy5cbiAqXG4gKiBXZSBjdXJyZW50bHkgZG8gbm90IG1ha2UgYSBtYW5nbGVkIHJvbGx1cCBidWlsZCBvZiB0aGUgbGl0LXNzciBjb2RlLiBJbiBvcmRlclxuICogdG8ga2VlcCBhIG51bWJlciBvZiAob3RoZXJ3aXNlIHByaXZhdGUpIHRvcC1sZXZlbCBleHBvcnRzIG1hbmdsZWQgaW4gdGhlXG4gKiBjbGllbnQgc2lkZSBjb2RlLCB3ZSBleHBvcnQgYSBfJExIIG9iamVjdCBjb250YWluaW5nIHRob3NlIG1lbWJlcnMgKG9yXG4gKiBoZWxwZXIgbWV0aG9kcyBmb3IgYWNjZXNzaW5nIHByaXZhdGUgZmllbGRzIG9mIHRob3NlIG1lbWJlcnMpLCBhbmQgdGhlblxuICogcmUtZXhwb3J0IHRoZW0gZm9yIHVzZSBpbiBsaXQtc3NyLiBUaGlzIGtlZXBzIGxpdC1zc3IgYWdub3N0aWMgdG8gd2hldGhlciB0aGVcbiAqIGNsaWVudC1zaWRlIGNvZGUgaXMgYmVpbmcgdXNlZCBpbiBgZGV2YCBtb2RlIG9yIGBwcm9kYCBtb2RlLlxuICpcbiAqIFRoaXMgaGFzIGEgdW5pcXVlIG5hbWUsIHRvIGRpc2FtYmlndWF0ZSBpdCBmcm9tIHByaXZhdGUgZXhwb3J0cyBpblxuICogbGl0LWVsZW1lbnQsIHdoaWNoIHJlLWV4cG9ydHMgYWxsIG9mIGxpdC1odG1sLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBjb25zdCBfJExIID0ge1xuICAvLyBVc2VkIGluIGxpdC1zc3JcbiAgX2JvdW5kQXR0cmlidXRlU3VmZml4OiBib3VuZEF0dHJpYnV0ZVN1ZmZpeCxcbiAgX21hcmtlcjogbWFya2VyLFxuICBfbWFya2VyTWF0Y2g6IG1hcmtlck1hdGNoLFxuICBfSFRNTF9SRVNVTFQ6IEhUTUxfUkVTVUxULFxuICBfZ2V0VGVtcGxhdGVIdG1sOiBnZXRUZW1wbGF0ZUh0bWwsXG4gIC8vIFVzZWQgaW4gdGVzdHMgYW5kIHByaXZhdGUtc3NyLXN1cHBvcnRcbiAgX1RlbXBsYXRlSW5zdGFuY2U6IFRlbXBsYXRlSW5zdGFuY2UsXG4gIF9pc0l0ZXJhYmxlOiBpc0l0ZXJhYmxlLFxuICBfcmVzb2x2ZURpcmVjdGl2ZTogcmVzb2x2ZURpcmVjdGl2ZSxcbiAgX0NoaWxkUGFydDogQ2hpbGRQYXJ0LFxuICBfQXR0cmlidXRlUGFydDogQXR0cmlidXRlUGFydCxcbiAgX0Jvb2xlYW5BdHRyaWJ1dGVQYXJ0OiBCb29sZWFuQXR0cmlidXRlUGFydCxcbiAgX0V2ZW50UGFydDogRXZlbnRQYXJ0LFxuICBfUHJvcGVydHlQYXJ0OiBQcm9wZXJ0eVBhcnQsXG4gIF9FbGVtZW50UGFydDogRWxlbWVudFBhcnQsXG59O1xuXG4vLyBBcHBseSBwb2x5ZmlsbHMgaWYgYXZhaWxhYmxlXG5jb25zdCBwb2x5ZmlsbFN1cHBvcnQgPSBERVZfTU9ERVxuICA/IGdsb2JhbC5saXRIdG1sUG9seWZpbGxTdXBwb3J0RGV2TW9kZVxuICA6IGdsb2JhbC5saXRIdG1sUG9seWZpbGxTdXBwb3J0O1xucG9seWZpbGxTdXBwb3J0Py4oVGVtcGxhdGUsIENoaWxkUGFydCk7XG5cbi8vIElNUE9SVEFOVDogZG8gbm90IGNoYW5nZSB0aGUgcHJvcGVydHkgbmFtZSBvciB0aGUgYXNzaWdubWVudCBleHByZXNzaW9uLlxuLy8gVGhpcyBsaW5lIHdpbGwgYmUgdXNlZCBpbiByZWdleGVzIHRvIHNlYXJjaCBmb3IgbGl0LWh0bWwgdXNhZ2UuXG4oZ2xvYmFsLmxpdEh0bWxWZXJzaW9ucyA/Pz0gW10pLnB1c2goJzMuMy4wJyk7XG5pZiAoREVWX01PREUgJiYgZ2xvYmFsLmxpdEh0bWxWZXJzaW9ucy5sZW5ndGggPiAxKSB7XG4gIHF1ZXVlTWljcm90YXNrKCgpID0+IHtcbiAgICBpc3N1ZVdhcm5pbmchKFxuICAgICAgJ211bHRpcGxlLXZlcnNpb25zJyxcbiAgICAgIGBNdWx0aXBsZSB2ZXJzaW9ucyBvZiBMaXQgbG9hZGVkLiBgICtcbiAgICAgICAgYExvYWRpbmcgbXVsdGlwbGUgdmVyc2lvbnMgaXMgbm90IHJlY29tbWVuZGVkLmBcbiAgICApO1xuICB9KTtcbn1cblxuLyoqXG4gKiBSZW5kZXJzIGEgdmFsdWUsIHVzdWFsbHkgYSBsaXQtaHRtbCBUZW1wbGF0ZVJlc3VsdCwgdG8gdGhlIGNvbnRhaW5lci5cbiAqXG4gKiBUaGlzIGV4YW1wbGUgcmVuZGVycyB0aGUgdGV4dCBcIkhlbGxvLCBab2UhXCIgaW5zaWRlIGEgcGFyYWdyYXBoIHRhZywgYXBwZW5kaW5nXG4gKiBpdCB0byB0aGUgY29udGFpbmVyIGBkb2N1bWVudC5ib2R5YC5cbiAqXG4gKiBgYGBqc1xuICogaW1wb3J0IHtodG1sLCByZW5kZXJ9IGZyb20gJ2xpdCc7XG4gKlxuICogY29uc3QgbmFtZSA9IFwiWm9lXCI7XG4gKiByZW5kZXIoaHRtbGA8cD5IZWxsbywgJHtuYW1lfSE8L3A+YCwgZG9jdW1lbnQuYm9keSk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gdmFsdWUgQW55IFtyZW5kZXJhYmxlXG4gKiAgIHZhbHVlXShodHRwczovL2xpdC5kZXYvZG9jcy90ZW1wbGF0ZXMvZXhwcmVzc2lvbnMvI2NoaWxkLWV4cHJlc3Npb25zKSxcbiAqICAgdHlwaWNhbGx5IGEge0BsaW5rY29kZSBUZW1wbGF0ZVJlc3VsdH0gY3JlYXRlZCBieSBldmFsdWF0aW5nIGEgdGVtcGxhdGUgdGFnXG4gKiAgIGxpa2Uge0BsaW5rY29kZSBodG1sfSBvciB7QGxpbmtjb2RlIHN2Z30uXG4gKiBAcGFyYW0gY29udGFpbmVyIEEgRE9NIGNvbnRhaW5lciB0byByZW5kZXIgdG8uIFRoZSBmaXJzdCByZW5kZXIgd2lsbCBhcHBlbmRcbiAqICAgdGhlIHJlbmRlcmVkIHZhbHVlIHRvIHRoZSBjb250YWluZXIsIGFuZCBzdWJzZXF1ZW50IHJlbmRlcnMgd2lsbFxuICogICBlZmZpY2llbnRseSB1cGRhdGUgdGhlIHJlbmRlcmVkIHZhbHVlIGlmIHRoZSBzYW1lIHJlc3VsdCB0eXBlIHdhc1xuICogICBwcmV2aW91c2x5IHJlbmRlcmVkIHRoZXJlLlxuICogQHBhcmFtIG9wdGlvbnMgU2VlIHtAbGlua2NvZGUgUmVuZGVyT3B0aW9uc30gZm9yIG9wdGlvbnMgZG9jdW1lbnRhdGlvbi5cbiAqIEBzZWVcbiAqIHtAbGluayBodHRwczovL2xpdC5kZXYvZG9jcy9saWJyYXJpZXMvc3RhbmRhbG9uZS10ZW1wbGF0ZXMvI3JlbmRlcmluZy1saXQtaHRtbC10ZW1wbGF0ZXN8IFJlbmRlcmluZyBMaXQgSFRNTCBUZW1wbGF0ZXN9XG4gKi9cbmV4cG9ydCBjb25zdCByZW5kZXIgPSAoXG4gIHZhbHVlOiB1bmtub3duLFxuICBjb250YWluZXI6IEhUTUxFbGVtZW50IHwgRG9jdW1lbnRGcmFnbWVudCxcbiAgb3B0aW9ucz86IFJlbmRlck9wdGlvbnNcbik6IFJvb3RQYXJ0ID0+IHtcbiAgaWYgKERFVl9NT0RFICYmIGNvbnRhaW5lciA9PSBudWxsKSB7XG4gICAgLy8gR2l2ZSBhIGNsZWFyZXIgZXJyb3IgbWVzc2FnZSB0aGFuXG4gICAgLy8gICAgIFVuY2F1Z2h0IFR5cGVFcnJvcjogQ2Fubm90IHJlYWQgcHJvcGVydGllcyBvZiBudWxsIChyZWFkaW5nXG4gICAgLy8gICAgICdfJGxpdFBhcnQkJylcbiAgICAvLyB3aGljaCByZWFkcyBsaWtlIGFuIGludGVybmFsIExpdCBlcnJvci5cbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBUaGUgY29udGFpbmVyIHRvIHJlbmRlciBpbnRvIG1heSBub3QgYmUgJHtjb250YWluZXJ9YCk7XG4gIH1cbiAgY29uc3QgcmVuZGVySWQgPSBERVZfTU9ERSA/IGRlYnVnTG9nUmVuZGVySWQrKyA6IDA7XG4gIGNvbnN0IHBhcnRPd25lck5vZGUgPSBvcHRpb25zPy5yZW5kZXJCZWZvcmUgPz8gY29udGFpbmVyO1xuICAvLyBUaGlzIHByb3BlcnR5IG5lZWRzIHRvIHJlbWFpbiB1bm1pbmlmaWVkLlxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICBsZXQgcGFydDogQ2hpbGRQYXJ0ID0gKHBhcnRPd25lck5vZGUgYXMgYW55KVsnXyRsaXRQYXJ0JCddO1xuICBkZWJ1Z0xvZ0V2ZW50ICYmXG4gICAgZGVidWdMb2dFdmVudCh7XG4gICAgICBraW5kOiAnYmVnaW4gcmVuZGVyJyxcbiAgICAgIGlkOiByZW5kZXJJZCxcbiAgICAgIHZhbHVlLFxuICAgICAgY29udGFpbmVyLFxuICAgICAgb3B0aW9ucyxcbiAgICAgIHBhcnQsXG4gICAgfSk7XG4gIGlmIChwYXJ0ID09PSB1bmRlZmluZWQpIHtcbiAgICBjb25zdCBlbmROb2RlID0gb3B0aW9ucz8ucmVuZGVyQmVmb3JlID8/IG51bGw7XG4gICAgLy8gVGhpcyBwcm9wZXJ0eSBuZWVkcyB0byByZW1haW4gdW5taW5pZmllZC5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIChwYXJ0T3duZXJOb2RlIGFzIGFueSlbJ18kbGl0UGFydCQnXSA9IHBhcnQgPSBuZXcgQ2hpbGRQYXJ0KFxuICAgICAgY29udGFpbmVyLmluc2VydEJlZm9yZShjcmVhdGVNYXJrZXIoKSwgZW5kTm9kZSksXG4gICAgICBlbmROb2RlLFxuICAgICAgdW5kZWZpbmVkLFxuICAgICAgb3B0aW9ucyA/PyB7fVxuICAgICk7XG4gIH1cbiAgcGFydC5fJHNldFZhbHVlKHZhbHVlKTtcbiAgZGVidWdMb2dFdmVudCAmJlxuICAgIGRlYnVnTG9nRXZlbnQoe1xuICAgICAga2luZDogJ2VuZCByZW5kZXInLFxuICAgICAgaWQ6IHJlbmRlcklkLFxuICAgICAgdmFsdWUsXG4gICAgICBjb250YWluZXIsXG4gICAgICBvcHRpb25zLFxuICAgICAgcGFydCxcbiAgICB9KTtcbiAgcmV0dXJuIHBhcnQgYXMgUm9vdFBhcnQ7XG59O1xuXG5pZiAoRU5BQkxFX0VYVFJBX1NFQ1VSSVRZX0hPT0tTKSB7XG4gIHJlbmRlci5zZXRTYW5pdGl6ZXIgPSBzZXRTYW5pdGl6ZXI7XG4gIHJlbmRlci5jcmVhdGVTYW5pdGl6ZXIgPSBjcmVhdGVTYW5pdGl6ZXI7XG4gIGlmIChERVZfTU9ERSkge1xuICAgIHJlbmRlci5fdGVzdE9ubHlDbGVhclNhbml0aXplckZhY3RvcnlEb05vdENhbGxPckVsc2UgPVxuICAgICAgX3Rlc3RPbmx5Q2xlYXJTYW5pdGl6ZXJGYWN0b3J5RG9Ob3RDYWxsT3JFbHNlO1xuICB9XG59XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMSBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQlNELTMtQ2xhdXNlXG4gKi9cbmNvbnN0IHI9KHIsbyx0KT0+e2Zvcihjb25zdCB0IG9mIG8paWYodFswXT09PXIpcmV0dXJuKDAsdFsxXSkoKTtyZXR1cm4gdD8uKCl9O2V4cG9ydHtyIGFzIGNob29zZX07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaG9vc2UuanMubWFwXG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMSBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQlNELTMtQ2xhdXNlXG4gKi9cblxuLyoqXG4gKiBDaG9vc2VzIGFuZCBldmFsdWF0ZXMgYSB0ZW1wbGF0ZSBmdW5jdGlvbiBmcm9tIGEgbGlzdCBiYXNlZCBvbiBtYXRjaGluZ1xuICogdGhlIGdpdmVuIGB2YWx1ZWAgdG8gYSBjYXNlLlxuICpcbiAqIENhc2VzIGFyZSBzdHJ1Y3R1cmVkIGFzIGBbY2FzZVZhbHVlLCBmdW5jXWAuIGB2YWx1ZWAgaXMgbWF0Y2hlZCB0b1xuICogYGNhc2VWYWx1ZWAgYnkgc3RyaWN0IGVxdWFsaXR5LiBUaGUgZmlyc3QgbWF0Y2ggaXMgc2VsZWN0ZWQuIENhc2UgdmFsdWVzXG4gKiBjYW4gYmUgb2YgYW55IHR5cGUgaW5jbHVkaW5nIHByaW1pdGl2ZXMsIG9iamVjdHMsIGFuZCBzeW1ib2xzLlxuICpcbiAqIFRoaXMgaXMgc2ltaWxhciB0byBhIHN3aXRjaCBzdGF0ZW1lbnQsIGJ1dCBhcyBhbiBleHByZXNzaW9uIGFuZCB3aXRob3V0XG4gKiBmYWxsdGhyb3VnaC5cbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIGBgYHRzXG4gKiByZW5kZXIoKSB7XG4gKiAgIHJldHVybiBodG1sYFxuICogICAgICR7Y2hvb3NlKHRoaXMuc2VjdGlvbiwgW1xuICogICAgICAgWydob21lJywgKCkgPT4gaHRtbGA8aDE+SG9tZTwvaDE+YF0sXG4gKiAgICAgICBbJ2Fib3V0JywgKCkgPT4gaHRtbGA8aDE+QWJvdXQ8L2gxPmBdXG4gKiAgICAgXSxcbiAqICAgICAoKSA9PiBodG1sYDxoMT5FcnJvcjwvaDE+YCl9XG4gKiAgIGA7XG4gKiB9XG4gKiBgYGBcbiAqL1xuZXhwb3J0IGNvbnN0IGNob29zZSA9IDxULCBWLCBLIGV4dGVuZHMgVCA9IFQ+KFxuICB2YWx1ZTogVCxcbiAgY2FzZXM6IEFycmF5PFtLLCAoKSA9PiBWXT4sXG4gIGRlZmF1bHRDYXNlPzogKCkgPT4gVlxuKSA9PiB7XG4gIGZvciAoY29uc3QgYyBvZiBjYXNlcykge1xuICAgIGNvbnN0IGNhc2VWYWx1ZSA9IGNbMF07XG4gICAgaWYgKGNhc2VWYWx1ZSA9PT0gdmFsdWUpIHtcbiAgICAgIGNvbnN0IGZuID0gY1sxXTtcbiAgICAgIHJldHVybiBmbigpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZGVmYXVsdENhc2U/LigpO1xufTtcbiIsImltcG9ydHtub0NoYW5nZSBhcyB0fWZyb21cIi4uL2xpdC1odG1sLmpzXCI7aW1wb3J0e2RpcmVjdGl2ZSBhcyBzLERpcmVjdGl2ZSBhcyBpLFBhcnRUeXBlIGFzIHJ9ZnJvbVwiLi4vZGlyZWN0aXZlLmpzXCI7XG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOCBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQlNELTMtQ2xhdXNlXG4gKi9jb25zdCBlPXMoY2xhc3MgZXh0ZW5kcyBpe2NvbnN0cnVjdG9yKHQpe2lmKHN1cGVyKHQpLHQudHlwZSE9PXIuQVRUUklCVVRFfHxcImNsYXNzXCIhPT10Lm5hbWV8fHQuc3RyaW5ncz8ubGVuZ3RoPjIpdGhyb3cgRXJyb3IoXCJgY2xhc3NNYXAoKWAgY2FuIG9ubHkgYmUgdXNlZCBpbiB0aGUgYGNsYXNzYCBhdHRyaWJ1dGUgYW5kIG11c3QgYmUgdGhlIG9ubHkgcGFydCBpbiB0aGUgYXR0cmlidXRlLlwiKX1yZW5kZXIodCl7cmV0dXJuXCIgXCIrT2JqZWN0LmtleXModCkuZmlsdGVyKChzPT50W3NdKSkuam9pbihcIiBcIikrXCIgXCJ9dXBkYXRlKHMsW2ldKXtpZih2b2lkIDA9PT10aGlzLnN0KXt0aGlzLnN0PW5ldyBTZXQsdm9pZCAwIT09cy5zdHJpbmdzJiYodGhpcy5udD1uZXcgU2V0KHMuc3RyaW5ncy5qb2luKFwiIFwiKS5zcGxpdCgvXFxzLykuZmlsdGVyKCh0PT5cIlwiIT09dCkpKSk7Zm9yKGNvbnN0IHQgaW4gaSlpW3RdJiYhdGhpcy5udD8uaGFzKHQpJiZ0aGlzLnN0LmFkZCh0KTtyZXR1cm4gdGhpcy5yZW5kZXIoaSl9Y29uc3Qgcj1zLmVsZW1lbnQuY2xhc3NMaXN0O2Zvcihjb25zdCB0IG9mIHRoaXMuc3QpdCBpbiBpfHwoci5yZW1vdmUodCksdGhpcy5zdC5kZWxldGUodCkpO2Zvcihjb25zdCB0IGluIGkpe2NvbnN0IHM9ISFpW3RdO3M9PT10aGlzLnN0Lmhhcyh0KXx8dGhpcy5udD8uaGFzKHQpfHwocz8oci5hZGQodCksdGhpcy5zdC5hZGQodCkpOihyLnJlbW92ZSh0KSx0aGlzLnN0LmRlbGV0ZSh0KSkpfXJldHVybiB0fX0pO2V4cG9ydHtlIGFzIGNsYXNzTWFwfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNsYXNzLW1hcC5qcy5tYXBcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE4IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBCU0QtMy1DbGF1c2VcbiAqL1xuXG5pbXBvcnQge0F0dHJpYnV0ZVBhcnQsIG5vQ2hhbmdlfSBmcm9tICcuLi9saXQtaHRtbC5qcyc7XG5pbXBvcnQge1xuICBkaXJlY3RpdmUsXG4gIERpcmVjdGl2ZSxcbiAgRGlyZWN0aXZlUGFyYW1ldGVycyxcbiAgUGFydEluZm8sXG4gIFBhcnRUeXBlLFxufSBmcm9tICcuLi9kaXJlY3RpdmUuanMnO1xuXG4vKipcbiAqIEEga2V5LXZhbHVlIHNldCBvZiBjbGFzcyBuYW1lcyB0byB0cnV0aHkgdmFsdWVzLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIENsYXNzSW5mbyB7XG4gIHJlYWRvbmx5IFtuYW1lOiBzdHJpbmddOiBzdHJpbmcgfCBib29sZWFuIHwgbnVtYmVyO1xufVxuXG5jbGFzcyBDbGFzc01hcERpcmVjdGl2ZSBleHRlbmRzIERpcmVjdGl2ZSB7XG4gIC8qKlxuICAgKiBTdG9yZXMgdGhlIENsYXNzSW5mbyBvYmplY3QgYXBwbGllZCB0byBhIGdpdmVuIEF0dHJpYnV0ZVBhcnQuXG4gICAqIFVzZWQgdG8gdW5zZXQgZXhpc3RpbmcgdmFsdWVzIHdoZW4gYSBuZXcgQ2xhc3NJbmZvIG9iamVjdCBpcyBhcHBsaWVkLlxuICAgKi9cbiAgcHJpdmF0ZSBfcHJldmlvdXNDbGFzc2VzPzogU2V0PHN0cmluZz47XG4gIHByaXZhdGUgX3N0YXRpY0NsYXNzZXM/OiBTZXQ8c3RyaW5nPjtcblxuICBjb25zdHJ1Y3RvcihwYXJ0SW5mbzogUGFydEluZm8pIHtcbiAgICBzdXBlcihwYXJ0SW5mbyk7XG4gICAgaWYgKFxuICAgICAgcGFydEluZm8udHlwZSAhPT0gUGFydFR5cGUuQVRUUklCVVRFIHx8XG4gICAgICBwYXJ0SW5mby5uYW1lICE9PSAnY2xhc3MnIHx8XG4gICAgICAocGFydEluZm8uc3RyaW5ncz8ubGVuZ3RoIGFzIG51bWJlcikgPiAyXG4gICAgKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdgY2xhc3NNYXAoKWAgY2FuIG9ubHkgYmUgdXNlZCBpbiB0aGUgYGNsYXNzYCBhdHRyaWJ1dGUgJyArXG4gICAgICAgICAgJ2FuZCBtdXN0IGJlIHRoZSBvbmx5IHBhcnQgaW4gdGhlIGF0dHJpYnV0ZS4nXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcihjbGFzc0luZm86IENsYXNzSW5mbykge1xuICAgIC8vIEFkZCBzcGFjZXMgdG8gZW5zdXJlIHNlcGFyYXRpb24gZnJvbSBzdGF0aWMgY2xhc3Nlc1xuICAgIHJldHVybiAoXG4gICAgICAnICcgK1xuICAgICAgT2JqZWN0LmtleXMoY2xhc3NJbmZvKVxuICAgICAgICAuZmlsdGVyKChrZXkpID0+IGNsYXNzSW5mb1trZXldKVxuICAgICAgICAuam9pbignICcpICtcbiAgICAgICcgJ1xuICAgICk7XG4gIH1cblxuICBvdmVycmlkZSB1cGRhdGUocGFydDogQXR0cmlidXRlUGFydCwgW2NsYXNzSW5mb106IERpcmVjdGl2ZVBhcmFtZXRlcnM8dGhpcz4pIHtcbiAgICAvLyBSZW1lbWJlciBkeW5hbWljIGNsYXNzZXMgb24gdGhlIGZpcnN0IHJlbmRlclxuICAgIGlmICh0aGlzLl9wcmV2aW91c0NsYXNzZXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5fcHJldmlvdXNDbGFzc2VzID0gbmV3IFNldCgpO1xuICAgICAgaWYgKHBhcnQuc3RyaW5ncyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMuX3N0YXRpY0NsYXNzZXMgPSBuZXcgU2V0KFxuICAgICAgICAgIHBhcnQuc3RyaW5nc1xuICAgICAgICAgICAgLmpvaW4oJyAnKVxuICAgICAgICAgICAgLnNwbGl0KC9cXHMvKVxuICAgICAgICAgICAgLmZpbHRlcigocykgPT4gcyAhPT0gJycpXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBmb3IgKGNvbnN0IG5hbWUgaW4gY2xhc3NJbmZvKSB7XG4gICAgICAgIGlmIChjbGFzc0luZm9bbmFtZV0gJiYgIXRoaXMuX3N0YXRpY0NsYXNzZXM/LmhhcyhuYW1lKSkge1xuICAgICAgICAgIHRoaXMuX3ByZXZpb3VzQ2xhc3Nlcy5hZGQobmFtZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLnJlbmRlcihjbGFzc0luZm8pO1xuICAgIH1cblxuICAgIGNvbnN0IGNsYXNzTGlzdCA9IHBhcnQuZWxlbWVudC5jbGFzc0xpc3Q7XG5cbiAgICAvLyBSZW1vdmUgb2xkIGNsYXNzZXMgdGhhdCBubyBsb25nZXIgYXBwbHlcbiAgICBmb3IgKGNvbnN0IG5hbWUgb2YgdGhpcy5fcHJldmlvdXNDbGFzc2VzKSB7XG4gICAgICBpZiAoIShuYW1lIGluIGNsYXNzSW5mbykpIHtcbiAgICAgICAgY2xhc3NMaXN0LnJlbW92ZShuYW1lKTtcbiAgICAgICAgdGhpcy5fcHJldmlvdXNDbGFzc2VzIS5kZWxldGUobmFtZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQWRkIG9yIHJlbW92ZSBjbGFzc2VzIGJhc2VkIG9uIHRoZWlyIGNsYXNzTWFwIHZhbHVlXG4gICAgZm9yIChjb25zdCBuYW1lIGluIGNsYXNzSW5mbykge1xuICAgICAgLy8gV2UgZXhwbGljaXRseSB3YW50IGEgbG9vc2UgdHJ1dGh5IGNoZWNrIG9mIGB2YWx1ZWAgYmVjYXVzZSBpdCBzZWVtc1xuICAgICAgLy8gbW9yZSBjb252ZW5pZW50IHRoYXQgJycgYW5kIDAgYXJlIHNraXBwZWQuXG4gICAgICBjb25zdCB2YWx1ZSA9ICEhY2xhc3NJbmZvW25hbWVdO1xuICAgICAgaWYgKFxuICAgICAgICB2YWx1ZSAhPT0gdGhpcy5fcHJldmlvdXNDbGFzc2VzLmhhcyhuYW1lKSAmJlxuICAgICAgICAhdGhpcy5fc3RhdGljQ2xhc3Nlcz8uaGFzKG5hbWUpXG4gICAgICApIHtcbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgY2xhc3NMaXN0LmFkZChuYW1lKTtcbiAgICAgICAgICB0aGlzLl9wcmV2aW91c0NsYXNzZXMuYWRkKG5hbWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNsYXNzTGlzdC5yZW1vdmUobmFtZSk7XG4gICAgICAgICAgdGhpcy5fcHJldmlvdXNDbGFzc2VzLmRlbGV0ZShuYW1lKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbm9DaGFuZ2U7XG4gIH1cbn1cblxuLyoqXG4gKiBBIGRpcmVjdGl2ZSB0aGF0IGFwcGxpZXMgZHluYW1pYyBDU1MgY2xhc3Nlcy5cbiAqXG4gKiBUaGlzIG11c3QgYmUgdXNlZCBpbiB0aGUgYGNsYXNzYCBhdHRyaWJ1dGUgYW5kIG11c3QgYmUgdGhlIG9ubHkgcGFydCB1c2VkIGluXG4gKiB0aGUgYXR0cmlidXRlLiBJdCB0YWtlcyBlYWNoIHByb3BlcnR5IGluIHRoZSBgY2xhc3NJbmZvYCBhcmd1bWVudCBhbmQgYWRkc1xuICogdGhlIHByb3BlcnR5IG5hbWUgdG8gdGhlIGVsZW1lbnQncyBgY2xhc3NMaXN0YCBpZiB0aGUgcHJvcGVydHkgdmFsdWUgaXNcbiAqIHRydXRoeTsgaWYgdGhlIHByb3BlcnR5IHZhbHVlIGlzIGZhbHN5LCB0aGUgcHJvcGVydHkgbmFtZSBpcyByZW1vdmVkIGZyb21cbiAqIHRoZSBlbGVtZW50J3MgYGNsYXNzYC5cbiAqXG4gKiBGb3IgZXhhbXBsZSBge2ZvbzogYmFyfWAgYXBwbGllcyB0aGUgY2xhc3MgYGZvb2AgaWYgdGhlIHZhbHVlIG9mIGBiYXJgIGlzXG4gKiB0cnV0aHkuXG4gKlxuICogQHBhcmFtIGNsYXNzSW5mb1xuICovXG5leHBvcnQgY29uc3QgY2xhc3NNYXAgPSBkaXJlY3RpdmUoQ2xhc3NNYXBEaXJlY3RpdmUpO1xuXG4vKipcbiAqIFRoZSB0eXBlIG9mIHRoZSBjbGFzcyB0aGF0IHBvd2VycyB0aGlzIGRpcmVjdGl2ZS4gTmVjZXNzYXJ5IGZvciBuYW1pbmcgdGhlXG4gKiBkaXJlY3RpdmUncyByZXR1cm4gdHlwZS5cbiAqL1xuZXhwb3J0IHR5cGUge0NsYXNzTWFwRGlyZWN0aXZlfTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBCU0QtMy1DbGF1c2VcbiAqL1xuY29uc3QgdD17QVRUUklCVVRFOjEsQ0hJTEQ6MixQUk9QRVJUWTozLEJPT0xFQU5fQVRUUklCVVRFOjQsRVZFTlQ6NSxFTEVNRU5UOjZ9LGU9dD0+KC4uLmUpPT4oe18kbGl0RGlyZWN0aXZlJDp0LHZhbHVlczplfSk7Y2xhc3MgaXtjb25zdHJ1Y3Rvcih0KXt9Z2V0IF8kQVUoKXtyZXR1cm4gdGhpcy5fJEFNLl8kQVV9XyRBVCh0LGUsaSl7dGhpcy5fJEN0PXQsdGhpcy5fJEFNPWUsdGhpcy5fJENpPWl9XyRBUyh0LGUpe3JldHVybiB0aGlzLnVwZGF0ZSh0LGUpfXVwZGF0ZSh0LGUpe3JldHVybiB0aGlzLnJlbmRlciguLi5lKX19ZXhwb3J0e2kgYXMgRGlyZWN0aXZlLHQgYXMgUGFydFR5cGUsZSBhcyBkaXJlY3RpdmV9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGlyZWN0aXZlLmpzLm1hcFxuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEJTRC0zLUNsYXVzZVxuICovXG5cbmltcG9ydCB7RGlzY29ubmVjdGFibGUsIFBhcnR9IGZyb20gJy4vbGl0LWh0bWwuanMnO1xuXG5leHBvcnQge1xuICBBdHRyaWJ1dGVQYXJ0LFxuICBCb29sZWFuQXR0cmlidXRlUGFydCxcbiAgQ2hpbGRQYXJ0LFxuICBFbGVtZW50UGFydCxcbiAgRXZlbnRQYXJ0LFxuICBQYXJ0LFxuICBQcm9wZXJ0eVBhcnQsXG59IGZyb20gJy4vbGl0LWh0bWwuanMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIERpcmVjdGl2ZUNsYXNzIHtcbiAgbmV3IChwYXJ0OiBQYXJ0SW5mbyk6IERpcmVjdGl2ZTtcbn1cblxuLyoqXG4gKiBUaGlzIHV0aWxpdHkgdHlwZSBleHRyYWN0cyB0aGUgc2lnbmF0dXJlIG9mIGEgZGlyZWN0aXZlIGNsYXNzJ3MgcmVuZGVyKClcbiAqIG1ldGhvZCBzbyB3ZSBjYW4gdXNlIGl0IGZvciB0aGUgdHlwZSBvZiB0aGUgZ2VuZXJhdGVkIGRpcmVjdGl2ZSBmdW5jdGlvbi5cbiAqL1xuZXhwb3J0IHR5cGUgRGlyZWN0aXZlUGFyYW1ldGVyczxDIGV4dGVuZHMgRGlyZWN0aXZlPiA9IFBhcmFtZXRlcnM8Q1sncmVuZGVyJ10+O1xuXG4vKipcbiAqIEEgZ2VuZXJhdGVkIGRpcmVjdGl2ZSBmdW5jdGlvbiBkb2Vzbid0IGV2YWx1YXRlIHRoZSBkaXJlY3RpdmUsIGJ1dCBqdXN0XG4gKiByZXR1cm5zIGEgRGlyZWN0aXZlUmVzdWx0IG9iamVjdCB0aGF0IGNhcHR1cmVzIHRoZSBhcmd1bWVudHMuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRGlyZWN0aXZlUmVzdWx0PEMgZXh0ZW5kcyBEaXJlY3RpdmVDbGFzcyA9IERpcmVjdGl2ZUNsYXNzPiB7XG4gIC8qKlxuICAgKiBUaGlzIHByb3BlcnR5IG5lZWRzIHRvIHJlbWFpbiB1bm1pbmlmaWVkLlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIFsnXyRsaXREaXJlY3RpdmUkJ106IEM7XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgdmFsdWVzOiBEaXJlY3RpdmVQYXJhbWV0ZXJzPEluc3RhbmNlVHlwZTxDPj47XG59XG5cbmV4cG9ydCBjb25zdCBQYXJ0VHlwZSA9IHtcbiAgQVRUUklCVVRFOiAxLFxuICBDSElMRDogMixcbiAgUFJPUEVSVFk6IDMsXG4gIEJPT0xFQU5fQVRUUklCVVRFOiA0LFxuICBFVkVOVDogNSxcbiAgRUxFTUVOVDogNixcbn0gYXMgY29uc3Q7XG5cbmV4cG9ydCB0eXBlIFBhcnRUeXBlID0gKHR5cGVvZiBQYXJ0VHlwZSlba2V5b2YgdHlwZW9mIFBhcnRUeXBlXTtcblxuZXhwb3J0IGludGVyZmFjZSBDaGlsZFBhcnRJbmZvIHtcbiAgcmVhZG9ubHkgdHlwZTogdHlwZW9mIFBhcnRUeXBlLkNISUxEO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEF0dHJpYnV0ZVBhcnRJbmZvIHtcbiAgcmVhZG9ubHkgdHlwZTpcbiAgICB8IHR5cGVvZiBQYXJ0VHlwZS5BVFRSSUJVVEVcbiAgICB8IHR5cGVvZiBQYXJ0VHlwZS5QUk9QRVJUWVxuICAgIHwgdHlwZW9mIFBhcnRUeXBlLkJPT0xFQU5fQVRUUklCVVRFXG4gICAgfCB0eXBlb2YgUGFydFR5cGUuRVZFTlQ7XG4gIHJlYWRvbmx5IHN0cmluZ3M/OiBSZWFkb25seUFycmF5PHN0cmluZz47XG4gIHJlYWRvbmx5IG5hbWU6IHN0cmluZztcbiAgcmVhZG9ubHkgdGFnTmFtZTogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEVsZW1lbnRQYXJ0SW5mbyB7XG4gIHJlYWRvbmx5IHR5cGU6IHR5cGVvZiBQYXJ0VHlwZS5FTEVNRU5UO1xufVxuXG4vKipcbiAqIEluZm9ybWF0aW9uIGFib3V0IHRoZSBwYXJ0IGEgZGlyZWN0aXZlIGlzIGJvdW5kIHRvLlxuICpcbiAqIFRoaXMgaXMgdXNlZnVsIGZvciBjaGVja2luZyB0aGF0IGEgZGlyZWN0aXZlIGlzIGF0dGFjaGVkIHRvIGEgdmFsaWQgcGFydCxcbiAqIHN1Y2ggYXMgd2l0aCBkaXJlY3RpdmUgdGhhdCBjYW4gb25seSBiZSB1c2VkIG9uIGF0dHJpYnV0ZSBiaW5kaW5ncy5cbiAqL1xuZXhwb3J0IHR5cGUgUGFydEluZm8gPSBDaGlsZFBhcnRJbmZvIHwgQXR0cmlidXRlUGFydEluZm8gfCBFbGVtZW50UGFydEluZm87XG5cbi8qKlxuICogQ3JlYXRlcyBhIHVzZXItZmFjaW5nIGRpcmVjdGl2ZSBmdW5jdGlvbiBmcm9tIGEgRGlyZWN0aXZlIGNsYXNzLiBUaGlzXG4gKiBmdW5jdGlvbiBoYXMgdGhlIHNhbWUgcGFyYW1ldGVycyBhcyB0aGUgZGlyZWN0aXZlJ3MgcmVuZGVyKCkgbWV0aG9kLlxuICovXG5leHBvcnQgY29uc3QgZGlyZWN0aXZlID1cbiAgPEMgZXh0ZW5kcyBEaXJlY3RpdmVDbGFzcz4oYzogQykgPT5cbiAgKC4uLnZhbHVlczogRGlyZWN0aXZlUGFyYW1ldGVyczxJbnN0YW5jZVR5cGU8Qz4+KTogRGlyZWN0aXZlUmVzdWx0PEM+ID0+ICh7XG4gICAgLy8gVGhpcyBwcm9wZXJ0eSBuZWVkcyB0byByZW1haW4gdW5taW5pZmllZC5cbiAgICBbJ18kbGl0RGlyZWN0aXZlJCddOiBjLFxuICAgIHZhbHVlcyxcbiAgfSk7XG5cbi8qKlxuICogQmFzZSBjbGFzcyBmb3IgY3JlYXRpbmcgY3VzdG9tIGRpcmVjdGl2ZXMuIFVzZXJzIHNob3VsZCBleHRlbmQgdGhpcyBjbGFzcyxcbiAqIGltcGxlbWVudCBgcmVuZGVyYCBhbmQvb3IgYHVwZGF0ZWAsIGFuZCB0aGVuIHBhc3MgdGhlaXIgc3ViY2xhc3MgdG9cbiAqIGBkaXJlY3RpdmVgLlxuICovXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgRGlyZWN0aXZlIGltcGxlbWVudHMgRGlzY29ubmVjdGFibGUge1xuICAvL0BpbnRlcm5hbFxuICBfX3BhcnQhOiBQYXJ0O1xuICAvL0BpbnRlcm5hbFxuICBfX2F0dHJpYnV0ZUluZGV4OiBudW1iZXIgfCB1bmRlZmluZWQ7XG4gIC8vQGludGVybmFsXG4gIF9fZGlyZWN0aXZlPzogRGlyZWN0aXZlO1xuXG4gIC8vQGludGVybmFsXG4gIF8kcGFyZW50ITogRGlzY29ubmVjdGFibGU7XG5cbiAgLy8gVGhlc2Ugd2lsbCBvbmx5IGV4aXN0IG9uIHRoZSBBc3luY0RpcmVjdGl2ZSBzdWJjbGFzc1xuICAvL0BpbnRlcm5hbFxuICBfJGRpc2Nvbm5lY3RhYmxlQ2hpbGRyZW4/OiBTZXQ8RGlzY29ubmVjdGFibGU+O1xuICAvLyBUaGlzIHByb3BlcnR5IG5lZWRzIHRvIHJlbWFpbiB1bm1pbmlmaWVkLlxuICAvL0BpbnRlcm5hbFxuICBbJ18kbm90aWZ5RGlyZWN0aXZlQ29ubmVjdGlvbkNoYW5nZWQnXT8oaXNDb25uZWN0ZWQ6IGJvb2xlYW4pOiB2b2lkO1xuXG4gIGNvbnN0cnVjdG9yKF9wYXJ0SW5mbzogUGFydEluZm8pIHt9XG5cbiAgLy8gU2VlIGNvbW1lbnQgaW4gRGlzY29ubmVjdGFibGUgaW50ZXJmYWNlIGZvciB3aHkgdGhpcyBpcyBhIGdldHRlclxuICBnZXQgXyRpc0Nvbm5lY3RlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5fJHBhcmVudC5fJGlzQ29ubmVjdGVkO1xuICB9XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfJGluaXRpYWxpemUoXG4gICAgcGFydDogUGFydCxcbiAgICBwYXJlbnQ6IERpc2Nvbm5lY3RhYmxlLFxuICAgIGF0dHJpYnV0ZUluZGV4OiBudW1iZXIgfCB1bmRlZmluZWRcbiAgKSB7XG4gICAgdGhpcy5fX3BhcnQgPSBwYXJ0O1xuICAgIHRoaXMuXyRwYXJlbnQgPSBwYXJlbnQ7XG4gICAgdGhpcy5fX2F0dHJpYnV0ZUluZGV4ID0gYXR0cmlidXRlSW5kZXg7XG4gIH1cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfJHJlc29sdmUocGFydDogUGFydCwgcHJvcHM6IEFycmF5PHVua25vd24+KTogdW5rbm93biB7XG4gICAgcmV0dXJuIHRoaXMudXBkYXRlKHBhcnQsIHByb3BzKTtcbiAgfVxuXG4gIGFic3RyYWN0IHJlbmRlciguLi5wcm9wczogQXJyYXk8dW5rbm93bj4pOiB1bmtub3duO1xuXG4gIHVwZGF0ZShfcGFydDogUGFydCwgcHJvcHM6IEFycmF5PHVua25vd24+KTogdW5rbm93biB7XG4gICAgcmV0dXJuIHRoaXMucmVuZGVyKC4uLnByb3BzKTtcbiAgfVxufVxuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjEgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEJTRC0zLUNsYXVzZVxuICovXG5mdW5jdGlvbipvKG8sZil7aWYodm9pZCAwIT09byl7bGV0IGk9MDtmb3IoY29uc3QgdCBvZiBvKXlpZWxkIGYodCxpKyspfX1leHBvcnR7byBhcyBtYXB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFwLmpzLm1hcFxuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjEgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEJTRC0zLUNsYXVzZVxuICovXG5cbi8qKlxuICogUmV0dXJucyBhbiBpdGVyYWJsZSBjb250YWluaW5nIHRoZSByZXN1bHQgb2YgY2FsbGluZyBgZih2YWx1ZSlgIG9uIGVhY2hcbiAqIHZhbHVlIGluIGBpdGVtc2AuXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBgYGB0c1xuICogcmVuZGVyKCkge1xuICogICByZXR1cm4gaHRtbGBcbiAqICAgICA8dWw+XG4gKiAgICAgICAke21hcChpdGVtcywgKGkpID0+IGh0bWxgPGxpPiR7aX08L2xpPmApfVxuICogICAgIDwvdWw+XG4gKiAgIGA7XG4gKiB9XG4gKiBgYGBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uKiBtYXA8VD4oXG4gIGl0ZW1zOiBJdGVyYWJsZTxUPiB8IHVuZGVmaW5lZCxcbiAgZjogKHZhbHVlOiBULCBpbmRleDogbnVtYmVyKSA9PiB1bmtub3duXG4pIHtcbiAgaWYgKGl0ZW1zICE9PSB1bmRlZmluZWQpIHtcbiAgICBsZXQgaSA9IDA7XG4gICAgZm9yIChjb25zdCB2YWx1ZSBvZiBpdGVtcykge1xuICAgICAgeWllbGQgZih2YWx1ZSwgaSsrKTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydHtub0NoYW5nZSBhcyBlfWZyb21cIi4uL2xpdC1odG1sLmpzXCI7aW1wb3J0e2RpcmVjdGl2ZSBhcyBzLERpcmVjdGl2ZSBhcyB0LFBhcnRUeXBlIGFzIHJ9ZnJvbVwiLi4vZGlyZWN0aXZlLmpzXCI7aW1wb3J0e2dldENvbW1pdHRlZFZhbHVlIGFzIGwsc2V0Q2hpbGRQYXJ0VmFsdWUgYXMgbyxpbnNlcnRQYXJ0IGFzIGkscmVtb3ZlUGFydCBhcyBuLHNldENvbW1pdHRlZFZhbHVlIGFzIGZ9ZnJvbVwiLi4vZGlyZWN0aXZlLWhlbHBlcnMuanNcIjtcbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBCU0QtMy1DbGF1c2VcbiAqL1xuY29uc3QgdT0oZSxzLHQpPT57Y29uc3Qgcj1uZXcgTWFwO2ZvcihsZXQgbD1zO2w8PXQ7bCsrKXIuc2V0KGVbbF0sbCk7cmV0dXJuIHJ9LGM9cyhjbGFzcyBleHRlbmRzIHR7Y29uc3RydWN0b3IoZSl7aWYoc3VwZXIoZSksZS50eXBlIT09ci5DSElMRCl0aHJvdyBFcnJvcihcInJlcGVhdCgpIGNhbiBvbmx5IGJlIHVzZWQgaW4gdGV4dCBleHByZXNzaW9uc1wiKX1kdChlLHMsdCl7bGV0IHI7dm9pZCAwPT09dD90PXM6dm9pZCAwIT09cyYmKHI9cyk7Y29uc3QgbD1bXSxvPVtdO2xldCBpPTA7Zm9yKGNvbnN0IHMgb2YgZSlsW2ldPXI/cihzLGkpOmksb1tpXT10KHMsaSksaSsrO3JldHVybnt2YWx1ZXM6byxrZXlzOmx9fXJlbmRlcihlLHMsdCl7cmV0dXJuIHRoaXMuZHQoZSxzLHQpLnZhbHVlc311cGRhdGUocyxbdCxyLGNdKXtjb25zdCBkPWwocykse3ZhbHVlczpwLGtleXM6YX09dGhpcy5kdCh0LHIsYyk7aWYoIUFycmF5LmlzQXJyYXkoZCkpcmV0dXJuIHRoaXMudXQ9YSxwO2NvbnN0IGg9dGhpcy51dD8/PVtdLHY9W107bGV0IG0seSx4PTAsaj1kLmxlbmd0aC0xLGs9MCx3PXAubGVuZ3RoLTE7Zm9yKDt4PD1qJiZrPD13OylpZihudWxsPT09ZFt4XSl4Kys7ZWxzZSBpZihudWxsPT09ZFtqXSlqLS07ZWxzZSBpZihoW3hdPT09YVtrXSl2W2tdPW8oZFt4XSxwW2tdKSx4KyssaysrO2Vsc2UgaWYoaFtqXT09PWFbd10pdlt3XT1vKGRbal0scFt3XSksai0tLHctLTtlbHNlIGlmKGhbeF09PT1hW3ddKXZbd109byhkW3hdLHBbd10pLGkocyx2W3crMV0sZFt4XSkseCsrLHctLTtlbHNlIGlmKGhbal09PT1hW2tdKXZba109byhkW2pdLHBba10pLGkocyxkW3hdLGRbal0pLGotLSxrKys7ZWxzZSBpZih2b2lkIDA9PT1tJiYobT11KGEsayx3KSx5PXUoaCx4LGopKSxtLmhhcyhoW3hdKSlpZihtLmhhcyhoW2pdKSl7Y29uc3QgZT15LmdldChhW2tdKSx0PXZvaWQgMCE9PWU/ZFtlXTpudWxsO2lmKG51bGw9PT10KXtjb25zdCBlPWkocyxkW3hdKTtvKGUscFtrXSksdltrXT1lfWVsc2UgdltrXT1vKHQscFtrXSksaShzLGRbeF0sdCksZFtlXT1udWxsO2srK31lbHNlIG4oZFtqXSksai0tO2Vsc2UgbihkW3hdKSx4Kys7Zm9yKDtrPD13Oyl7Y29uc3QgZT1pKHMsdlt3KzFdKTtvKGUscFtrXSksdltrKytdPWV9Zm9yKDt4PD1qOyl7Y29uc3QgZT1kW3grK107bnVsbCE9PWUmJm4oZSl9cmV0dXJuIHRoaXMudXQ9YSxmKHMsdiksZX19KTtleHBvcnR7YyBhcyByZXBlYXR9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVwZWF0LmpzLm1hcFxuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEJTRC0zLUNsYXVzZVxuICovXG5cbmltcG9ydCB7Q2hpbGRQYXJ0LCBub0NoYW5nZX0gZnJvbSAnLi4vbGl0LWh0bWwuanMnO1xuaW1wb3J0IHtkaXJlY3RpdmUsIERpcmVjdGl2ZSwgUGFydEluZm8sIFBhcnRUeXBlfSBmcm9tICcuLi9kaXJlY3RpdmUuanMnO1xuaW1wb3J0IHtcbiAgaW5zZXJ0UGFydCxcbiAgZ2V0Q29tbWl0dGVkVmFsdWUsXG4gIHJlbW92ZVBhcnQsXG4gIHNldENvbW1pdHRlZFZhbHVlLFxuICBzZXRDaGlsZFBhcnRWYWx1ZSxcbn0gZnJvbSAnLi4vZGlyZWN0aXZlLWhlbHBlcnMuanMnO1xuXG5leHBvcnQgdHlwZSBLZXlGbjxUPiA9IChpdGVtOiBULCBpbmRleDogbnVtYmVyKSA9PiB1bmtub3duO1xuZXhwb3J0IHR5cGUgSXRlbVRlbXBsYXRlPFQ+ID0gKGl0ZW06IFQsIGluZGV4OiBudW1iZXIpID0+IHVua25vd247XG5cbi8vIEhlbHBlciBmb3IgZ2VuZXJhdGluZyBhIG1hcCBvZiBhcnJheSBpdGVtIHRvIGl0cyBpbmRleCBvdmVyIGEgc3Vic2V0XG4vLyBvZiBhbiBhcnJheSAodXNlZCB0byBsYXppbHkgZ2VuZXJhdGUgYG5ld0tleVRvSW5kZXhNYXBgIGFuZFxuLy8gYG9sZEtleVRvSW5kZXhNYXBgKVxuY29uc3QgZ2VuZXJhdGVNYXAgPSAobGlzdDogdW5rbm93bltdLCBzdGFydDogbnVtYmVyLCBlbmQ6IG51bWJlcikgPT4ge1xuICBjb25zdCBtYXAgPSBuZXcgTWFwPHVua25vd24sIG51bWJlcj4oKTtcbiAgZm9yIChsZXQgaSA9IHN0YXJ0OyBpIDw9IGVuZDsgaSsrKSB7XG4gICAgbWFwLnNldChsaXN0W2ldLCBpKTtcbiAgfVxuICByZXR1cm4gbWFwO1xufTtcblxuY2xhc3MgUmVwZWF0RGlyZWN0aXZlIGV4dGVuZHMgRGlyZWN0aXZlIHtcbiAgcHJpdmF0ZSBfaXRlbUtleXM/OiB1bmtub3duW107XG5cbiAgY29uc3RydWN0b3IocGFydEluZm86IFBhcnRJbmZvKSB7XG4gICAgc3VwZXIocGFydEluZm8pO1xuICAgIGlmIChwYXJ0SW5mby50eXBlICE9PSBQYXJ0VHlwZS5DSElMRCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdyZXBlYXQoKSBjYW4gb25seSBiZSB1c2VkIGluIHRleHQgZXhwcmVzc2lvbnMnKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIF9nZXRWYWx1ZXNBbmRLZXlzPFQ+KFxuICAgIGl0ZW1zOiBJdGVyYWJsZTxUPixcbiAgICBrZXlGbk9yVGVtcGxhdGU6IEtleUZuPFQ+IHwgSXRlbVRlbXBsYXRlPFQ+LFxuICAgIHRlbXBsYXRlPzogSXRlbVRlbXBsYXRlPFQ+XG4gICkge1xuICAgIGxldCBrZXlGbjogS2V5Rm48VD4gfCB1bmRlZmluZWQ7XG4gICAgaWYgKHRlbXBsYXRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRlbXBsYXRlID0ga2V5Rm5PclRlbXBsYXRlO1xuICAgIH0gZWxzZSBpZiAoa2V5Rm5PclRlbXBsYXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGtleUZuID0ga2V5Rm5PclRlbXBsYXRlIGFzIEtleUZuPFQ+O1xuICAgIH1cbiAgICBjb25zdCBrZXlzID0gW107XG4gICAgY29uc3QgdmFsdWVzID0gW107XG4gICAgbGV0IGluZGV4ID0gMDtcbiAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgaXRlbXMpIHtcbiAgICAgIGtleXNbaW5kZXhdID0ga2V5Rm4gPyBrZXlGbihpdGVtLCBpbmRleCkgOiBpbmRleDtcbiAgICAgIHZhbHVlc1tpbmRleF0gPSB0ZW1wbGF0ZSEoaXRlbSwgaW5kZXgpO1xuICAgICAgaW5kZXgrKztcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHZhbHVlcyxcbiAgICAgIGtleXMsXG4gICAgfTtcbiAgfVxuXG4gIHJlbmRlcjxUPihpdGVtczogSXRlcmFibGU8VD4sIHRlbXBsYXRlOiBJdGVtVGVtcGxhdGU8VD4pOiBBcnJheTx1bmtub3duPjtcbiAgcmVuZGVyPFQ+KFxuICAgIGl0ZW1zOiBJdGVyYWJsZTxUPixcbiAgICBrZXlGbjogS2V5Rm48VD4gfCBJdGVtVGVtcGxhdGU8VD4sXG4gICAgdGVtcGxhdGU6IEl0ZW1UZW1wbGF0ZTxUPlxuICApOiBBcnJheTx1bmtub3duPjtcbiAgcmVuZGVyPFQ+KFxuICAgIGl0ZW1zOiBJdGVyYWJsZTxUPixcbiAgICBrZXlGbk9yVGVtcGxhdGU6IEtleUZuPFQ+IHwgSXRlbVRlbXBsYXRlPFQ+LFxuICAgIHRlbXBsYXRlPzogSXRlbVRlbXBsYXRlPFQ+XG4gICkge1xuICAgIHJldHVybiB0aGlzLl9nZXRWYWx1ZXNBbmRLZXlzKGl0ZW1zLCBrZXlGbk9yVGVtcGxhdGUsIHRlbXBsYXRlKS52YWx1ZXM7XG4gIH1cblxuICBvdmVycmlkZSB1cGRhdGU8VD4oXG4gICAgY29udGFpbmVyUGFydDogQ2hpbGRQYXJ0LFxuICAgIFtpdGVtcywga2V5Rm5PclRlbXBsYXRlLCB0ZW1wbGF0ZV06IFtcbiAgICAgIEl0ZXJhYmxlPFQ+LFxuICAgICAgS2V5Rm48VD4gfCBJdGVtVGVtcGxhdGU8VD4sXG4gICAgICBJdGVtVGVtcGxhdGU8VD4sXG4gICAgXVxuICApIHtcbiAgICAvLyBPbGQgcGFydCAmIGtleSBsaXN0cyBhcmUgcmV0cmlldmVkIGZyb20gdGhlIGxhc3QgdXBkYXRlICh3aGljaCBtYXlcbiAgICAvLyBiZSBwcmltZWQgYnkgaHlkcmF0aW9uKVxuICAgIGNvbnN0IG9sZFBhcnRzID0gZ2V0Q29tbWl0dGVkVmFsdWUoXG4gICAgICBjb250YWluZXJQYXJ0XG4gICAgKSBhcyBBcnJheTxDaGlsZFBhcnQgfCBudWxsPjtcbiAgICBjb25zdCB7dmFsdWVzOiBuZXdWYWx1ZXMsIGtleXM6IG5ld0tleXN9ID0gdGhpcy5fZ2V0VmFsdWVzQW5kS2V5cyhcbiAgICAgIGl0ZW1zLFxuICAgICAga2V5Rm5PclRlbXBsYXRlLFxuICAgICAgdGVtcGxhdGVcbiAgICApO1xuXG4gICAgLy8gV2UgY2hlY2sgdGhhdCBvbGRQYXJ0cywgdGhlIGNvbW1pdHRlZCB2YWx1ZSwgaXMgYW4gQXJyYXkgYXMgYW5cbiAgICAvLyBpbmRpY2F0b3IgdGhhdCB0aGUgcHJldmlvdXMgdmFsdWUgY2FtZSBmcm9tIGEgcmVwZWF0KCkgY2FsbC4gSWZcbiAgICAvLyBvbGRQYXJ0cyBpcyBub3QgYW4gQXJyYXkgdGhlbiB0aGlzIGlzIHRoZSBmaXJzdCByZW5kZXIgYW5kIHdlIHJldHVyblxuICAgIC8vIGFuIGFycmF5IGZvciBsaXQtaHRtbCdzIGFycmF5IGhhbmRsaW5nIHRvIHJlbmRlciwgYW5kIHJlbWVtYmVyIHRoZVxuICAgIC8vIGtleXMuXG4gICAgaWYgKCFBcnJheS5pc0FycmF5KG9sZFBhcnRzKSkge1xuICAgICAgdGhpcy5faXRlbUtleXMgPSBuZXdLZXlzO1xuICAgICAgcmV0dXJuIG5ld1ZhbHVlcztcbiAgICB9XG5cbiAgICAvLyBJbiBTU1IgaHlkcmF0aW9uIGl0J3MgcG9zc2libGUgZm9yIG9sZFBhcnRzIHRvIGJlIGFuIGFycmF5IGJ1dCBmb3IgdXNcbiAgICAvLyB0byBub3QgaGF2ZSBpdGVtIGtleXMgYmVjYXVzZSB0aGUgdXBkYXRlKCkgaGFzbid0IHJ1biB5ZXQuIFdlIHNldCB0aGVcbiAgICAvLyBrZXlzIHRvIGFuIGVtcHR5IGFycmF5LiBUaGlzIHdpbGwgY2F1c2UgYWxsIG9sZEtleS9uZXdLZXkgY29tcGFyaXNvbnNcbiAgICAvLyB0byBmYWlsIGFuZCBleGVjdXRpb24gdG8gZmFsbCB0byB0aGUgbGFzdCBuZXN0ZWQgYnJhY2ggYmVsb3cgd2hpY2hcbiAgICAvLyByZXVzZXMgdGhlIG9sZFBhcnQuXG4gICAgY29uc3Qgb2xkS2V5cyA9ICh0aGlzLl9pdGVtS2V5cyA/Pz0gW10pO1xuXG4gICAgLy8gTmV3IHBhcnQgbGlzdCB3aWxsIGJlIGJ1aWx0IHVwIGFzIHdlIGdvIChlaXRoZXIgcmV1c2VkIGZyb21cbiAgICAvLyBvbGQgcGFydHMgb3IgY3JlYXRlZCBmb3IgbmV3IGtleXMgaW4gdGhpcyB1cGRhdGUpLiBUaGlzIGlzXG4gICAgLy8gc2F2ZWQgaW4gdGhlIGFib3ZlIGNhY2hlIGF0IHRoZSBlbmQgb2YgdGhlIHVwZGF0ZS5cbiAgICBjb25zdCBuZXdQYXJ0czogQ2hpbGRQYXJ0W10gPSBbXTtcblxuICAgIC8vIE1hcHMgZnJvbSBrZXkgdG8gaW5kZXggZm9yIGN1cnJlbnQgYW5kIHByZXZpb3VzIHVwZGF0ZTsgdGhlc2VcbiAgICAvLyBhcmUgZ2VuZXJhdGVkIGxhemlseSBvbmx5IHdoZW4gbmVlZGVkIGFzIGEgcGVyZm9ybWFuY2VcbiAgICAvLyBvcHRpbWl6YXRpb24sIHNpbmNlIHRoZXkgYXJlIG9ubHkgcmVxdWlyZWQgZm9yIG11bHRpcGxlXG4gICAgLy8gbm9uLWNvbnRpZ3VvdXMgY2hhbmdlcyBpbiB0aGUgbGlzdCwgd2hpY2ggYXJlIGxlc3MgY29tbW9uLlxuICAgIGxldCBuZXdLZXlUb0luZGV4TWFwITogTWFwPHVua25vd24sIG51bWJlcj47XG4gICAgbGV0IG9sZEtleVRvSW5kZXhNYXAhOiBNYXA8dW5rbm93biwgbnVtYmVyPjtcblxuICAgIC8vIEhlYWQgYW5kIHRhaWwgcG9pbnRlcnMgdG8gb2xkIHBhcnRzIGFuZCBuZXcgdmFsdWVzXG4gICAgbGV0IG9sZEhlYWQgPSAwO1xuICAgIGxldCBvbGRUYWlsID0gb2xkUGFydHMubGVuZ3RoIC0gMTtcbiAgICBsZXQgbmV3SGVhZCA9IDA7XG4gICAgbGV0IG5ld1RhaWwgPSBuZXdWYWx1ZXMubGVuZ3RoIC0gMTtcblxuICAgIC8vIE92ZXJ2aWV3IG9mIE8obikgcmVjb25jaWxpYXRpb24gYWxnb3JpdGhtIChnZW5lcmFsIGFwcHJvYWNoXG4gICAgLy8gYmFzZWQgb24gaWRlYXMgZm91bmQgaW4gaXZpLCB2dWUsIHNuYWJiZG9tLCBldGMuKTpcbiAgICAvL1xuICAgIC8vICogV2Ugc3RhcnQgd2l0aCB0aGUgbGlzdCBvZiBvbGQgcGFydHMgYW5kIG5ldyB2YWx1ZXMgKGFuZFxuICAgIC8vICAgYXJyYXlzIG9mIHRoZWlyIHJlc3BlY3RpdmUga2V5cyksIGhlYWQvdGFpbCBwb2ludGVycyBpbnRvXG4gICAgLy8gICBlYWNoLCBhbmQgd2UgYnVpbGQgdXAgdGhlIG5ldyBsaXN0IG9mIHBhcnRzIGJ5IHVwZGF0aW5nXG4gICAgLy8gICAoYW5kIHdoZW4gbmVlZGVkLCBtb3ZpbmcpIG9sZCBwYXJ0cyBvciBjcmVhdGluZyBuZXcgb25lcy5cbiAgICAvLyAgIFRoZSBpbml0aWFsIHNjZW5hcmlvIG1pZ2h0IGxvb2sgbGlrZSB0aGlzIChmb3IgYnJldml0eSBvZlxuICAgIC8vICAgdGhlIGRpYWdyYW1zLCB0aGUgbnVtYmVycyBpbiB0aGUgYXJyYXkgcmVmbGVjdCBrZXlzXG4gICAgLy8gICBhc3NvY2lhdGVkIHdpdGggdGhlIG9sZCBwYXJ0cyBvciBuZXcgdmFsdWVzLCBhbHRob3VnaCBrZXlzXG4gICAgLy8gICBhbmQgcGFydHMvdmFsdWVzIGFyZSBhY3R1YWxseSBzdG9yZWQgaW4gcGFyYWxsZWwgYXJyYXlzXG4gICAgLy8gICBpbmRleGVkIHVzaW5nIHRoZSBzYW1lIGhlYWQvdGFpbCBwb2ludGVycyk6XG4gICAgLy9cbiAgICAvLyAgICAgIG9sZEhlYWQgdiAgICAgICAgICAgICAgICAgdiBvbGRUYWlsXG4gICAgLy8gICBvbGRLZXlzOiAgWzAsIDEsIDIsIDMsIDQsIDUsIDZdXG4gICAgLy8gICBuZXdQYXJ0czogWyAsICAsICAsICAsICAsICAsICBdXG4gICAgLy8gICBuZXdLZXlzOiAgWzAsIDIsIDEsIDQsIDMsIDcsIDZdIDwtIHJlZmxlY3RzIHRoZSB1c2VyJ3MgbmV3XG4gICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0gb3JkZXJcbiAgICAvLyAgICAgIG5ld0hlYWQgXiAgICAgICAgICAgICAgICAgXiBuZXdUYWlsXG4gICAgLy9cbiAgICAvLyAqIEl0ZXJhdGUgb2xkICYgbmV3IGxpc3RzIGZyb20gYm90aCBzaWRlcywgdXBkYXRpbmcsXG4gICAgLy8gICBzd2FwcGluZywgb3IgcmVtb3ZpbmcgcGFydHMgYXQgdGhlIGhlYWQvdGFpbCBsb2NhdGlvbnNcbiAgICAvLyAgIHVudGlsIG5laXRoZXIgaGVhZCBub3IgdGFpbCBjYW4gbW92ZS5cbiAgICAvL1xuICAgIC8vICogRXhhbXBsZSBiZWxvdzoga2V5cyBhdCBoZWFkIHBvaW50ZXJzIG1hdGNoLCBzbyB1cGRhdGUgb2xkXG4gICAgLy8gICBwYXJ0IDAgaW4tcGxhY2UgKG5vIG5lZWQgdG8gbW92ZSBpdCkgYW5kIHJlY29yZCBwYXJ0IDAgaW5cbiAgICAvLyAgIHRoZSBgbmV3UGFydHNgIGxpc3QuIFRoZSBsYXN0IHRoaW5nIHdlIGRvIGlzIGFkdmFuY2UgdGhlXG4gICAgLy8gICBgb2xkSGVhZGAgYW5kIGBuZXdIZWFkYCBwb2ludGVycyAod2lsbCBiZSByZWZsZWN0ZWQgaW4gdGhlXG4gICAgLy8gICBuZXh0IGRpYWdyYW0pLlxuICAgIC8vXG4gICAgLy8gICAgICBvbGRIZWFkIHYgICAgICAgICAgICAgICAgIHYgb2xkVGFpbFxuICAgIC8vICAgb2xkS2V5czogIFswLCAxLCAyLCAzLCA0LCA1LCA2XVxuICAgIC8vICAgbmV3UGFydHM6IFswLCAgLCAgLCAgLCAgLCAgLCAgXSA8LSBoZWFkcyBtYXRjaGVkOiB1cGRhdGUgMFxuICAgIC8vICAgbmV3S2V5czogIFswLCAyLCAxLCA0LCAzLCA3LCA2XSAgICBhbmQgYWR2YW5jZSBib3RoIG9sZEhlYWRcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiBuZXdIZWFkXG4gICAgLy8gICAgICBuZXdIZWFkIF4gICAgICAgICAgICAgICAgIF4gbmV3VGFpbFxuICAgIC8vXG4gICAgLy8gKiBFeGFtcGxlIGJlbG93OiBoZWFkIHBvaW50ZXJzIGRvbid0IG1hdGNoLCBidXQgdGFpbFxuICAgIC8vICAgcG9pbnRlcnMgZG8sIHNvIHVwZGF0ZSBwYXJ0IDYgaW4gcGxhY2UgKG5vIG5lZWQgdG8gbW92ZVxuICAgIC8vICAgaXQpLCBhbmQgcmVjb3JkIHBhcnQgNiBpbiB0aGUgYG5ld1BhcnRzYCBsaXN0LiBMYXN0LFxuICAgIC8vICAgYWR2YW5jZSB0aGUgYG9sZFRhaWxgIGFuZCBgb2xkSGVhZGAgcG9pbnRlcnMuXG4gICAgLy9cbiAgICAvLyAgICAgICAgIG9sZEhlYWQgdiAgICAgICAgICAgICAgdiBvbGRUYWlsXG4gICAgLy8gICBvbGRLZXlzOiAgWzAsIDEsIDIsIDMsIDQsIDUsIDZdXG4gICAgLy8gICBuZXdQYXJ0czogWzAsICAsICAsICAsICAsICAsIDZdIDwtIHRhaWxzIG1hdGNoZWQ6IHVwZGF0ZSA2XG4gICAgLy8gICBuZXdLZXlzOiAgWzAsIDIsIDEsIDQsIDMsIDcsIDZdICAgIGFuZCBhZHZhbmNlIGJvdGggb2xkVGFpbFxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmIG5ld1RhaWxcbiAgICAvLyAgICAgICAgIG5ld0hlYWQgXiAgICAgICAgICAgICAgXiBuZXdUYWlsXG4gICAgLy9cbiAgICAvLyAqIElmIG5laXRoZXIgaGVhZCBub3IgdGFpbCBtYXRjaDsgbmV4dCBjaGVjayBpZiBvbmUgb2YgdGhlXG4gICAgLy8gICBvbGQgaGVhZC90YWlsIGl0ZW1zIHdhcyByZW1vdmVkLiBXZSBmaXJzdCBuZWVkIHRvIGdlbmVyYXRlXG4gICAgLy8gICB0aGUgcmV2ZXJzZSBtYXAgb2YgbmV3IGtleXMgdG8gaW5kZXggKGBuZXdLZXlUb0luZGV4TWFwYCksXG4gICAgLy8gICB3aGljaCBpcyBkb25lIG9uY2UgbGF6aWx5IGFzIGEgcGVyZm9ybWFuY2Ugb3B0aW1pemF0aW9uLFxuICAgIC8vICAgc2luY2Ugd2Ugb25seSBoaXQgdGhpcyBjYXNlIGlmIG11bHRpcGxlIG5vbi1jb250aWd1b3VzXG4gICAgLy8gICBjaGFuZ2VzIHdlcmUgbWFkZS4gTm90ZSB0aGF0IGZvciBjb250aWd1b3VzIHJlbW92YWxcbiAgICAvLyAgIGFueXdoZXJlIGluIHRoZSBsaXN0LCB0aGUgaGVhZCBhbmQgdGFpbHMgd291bGQgYWR2YW5jZVxuICAgIC8vICAgZnJvbSBlaXRoZXIgZW5kIGFuZCBwYXNzIGVhY2ggb3RoZXIgYmVmb3JlIHdlIGdldCB0byB0aGlzXG4gICAgLy8gICBjYXNlIGFuZCByZW1vdmFscyB3b3VsZCBiZSBoYW5kbGVkIGluIHRoZSBmaW5hbCB3aGlsZSBsb29wXG4gICAgLy8gICB3aXRob3V0IG5lZWRpbmcgdG8gZ2VuZXJhdGUgdGhlIG1hcC5cbiAgICAvL1xuICAgIC8vICogRXhhbXBsZSBiZWxvdzogVGhlIGtleSBhdCBgb2xkVGFpbGAgd2FzIHJlbW92ZWQgKG5vIGxvbmdlclxuICAgIC8vICAgaW4gdGhlIGBuZXdLZXlUb0luZGV4TWFwYCksIHNvIHJlbW92ZSB0aGF0IHBhcnQgZnJvbSB0aGVcbiAgICAvLyAgIERPTSBhbmQgYWR2YW5jZSBqdXN0IHRoZSBgb2xkVGFpbGAgcG9pbnRlci5cbiAgICAvL1xuICAgIC8vICAgICAgICAgb2xkSGVhZCB2ICAgICAgICAgICB2IG9sZFRhaWxcbiAgICAvLyAgIG9sZEtleXM6ICBbMCwgMSwgMiwgMywgNCwgNSwgNl1cbiAgICAvLyAgIG5ld1BhcnRzOiBbMCwgICwgICwgICwgICwgICwgNl0gPC0gNSBub3QgaW4gbmV3IG1hcDogcmVtb3ZlXG4gICAgLy8gICBuZXdLZXlzOiAgWzAsIDIsIDEsIDQsIDMsIDcsIDZdICAgIDUgYW5kIGFkdmFuY2Ugb2xkVGFpbFxuICAgIC8vICAgICAgICAgbmV3SGVhZCBeICAgICAgICAgICBeIG5ld1RhaWxcbiAgICAvL1xuICAgIC8vICogT25jZSBoZWFkIGFuZCB0YWlsIGNhbm5vdCBtb3ZlLCBhbnkgbWlzbWF0Y2hlcyBhcmUgZHVlIHRvXG4gICAgLy8gICBlaXRoZXIgbmV3IG9yIG1vdmVkIGl0ZW1zOyBpZiBhIG5ldyBrZXkgaXMgaW4gdGhlIHByZXZpb3VzXG4gICAgLy8gICBcIm9sZCBrZXkgdG8gb2xkIGluZGV4XCIgbWFwLCBtb3ZlIHRoZSBvbGQgcGFydCB0byB0aGUgbmV3XG4gICAgLy8gICBsb2NhdGlvbiwgb3RoZXJ3aXNlIGNyZWF0ZSBhbmQgaW5zZXJ0IGEgbmV3IHBhcnQuIE5vdGVcbiAgICAvLyAgIHRoYXQgd2hlbiBtb3ZpbmcgYW4gb2xkIHBhcnQgd2UgbnVsbCBpdHMgcG9zaXRpb24gaW4gdGhlXG4gICAgLy8gICBvbGRQYXJ0cyBhcnJheSBpZiBpdCBsaWVzIGJldHdlZW4gdGhlIGhlYWQgYW5kIHRhaWwgc28gd2VcbiAgICAvLyAgIGtub3cgdG8gc2tpcCBpdCB3aGVuIHRoZSBwb2ludGVycyBnZXQgdGhlcmUuXG4gICAgLy9cbiAgICAvLyAqIEV4YW1wbGUgYmVsb3c6IG5laXRoZXIgaGVhZCBub3IgdGFpbCBtYXRjaCwgYW5kIG5laXRoZXJcbiAgICAvLyAgIHdlcmUgcmVtb3ZlZDsgc28gZmluZCB0aGUgYG5ld0hlYWRgIGtleSBpbiB0aGVcbiAgICAvLyAgIGBvbGRLZXlUb0luZGV4TWFwYCwgYW5kIG1vdmUgdGhhdCBvbGQgcGFydCdzIERPTSBpbnRvIHRoZVxuICAgIC8vICAgbmV4dCBoZWFkIHBvc2l0aW9uIChiZWZvcmUgYG9sZFBhcnRzW29sZEhlYWRdYCkuIExhc3QsXG4gICAgLy8gICBudWxsIHRoZSBwYXJ0IGluIHRoZSBgb2xkUGFydGAgYXJyYXkgc2luY2UgaXQgd2FzXG4gICAgLy8gICBzb21ld2hlcmUgaW4gdGhlIHJlbWFpbmluZyBvbGRQYXJ0cyBzdGlsbCB0byBiZSBzY2FubmVkXG4gICAgLy8gICAoYmV0d2VlbiB0aGUgaGVhZCBhbmQgdGFpbCBwb2ludGVycykgc28gdGhhdCB3ZSBrbm93IHRvXG4gICAgLy8gICBza2lwIHRoYXQgb2xkIHBhcnQgb24gZnV0dXJlIGl0ZXJhdGlvbnMuXG4gICAgLy9cbiAgICAvLyAgICAgICAgIG9sZEhlYWQgdiAgICAgICAgdiBvbGRUYWlsXG4gICAgLy8gICBvbGRLZXlzOiAgWzAsIDEsIC0sIDMsIDQsIDUsIDZdXG4gICAgLy8gICBuZXdQYXJ0czogWzAsIDIsICAsICAsICAsICAsIDZdIDwtIHN0dWNrOiB1cGRhdGUgJiBtb3ZlIDJcbiAgICAvLyAgIG5ld0tleXM6ICBbMCwgMiwgMSwgNCwgMywgNywgNl0gICAgaW50byBwbGFjZSBhbmQgYWR2YW5jZVxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdIZWFkXG4gICAgLy8gICAgICAgICBuZXdIZWFkIF4gICAgICAgICAgIF4gbmV3VGFpbFxuICAgIC8vXG4gICAgLy8gKiBOb3RlIHRoYXQgZm9yIG1vdmVzL2luc2VydGlvbnMgbGlrZSB0aGUgb25lIGFib3ZlLCBhIHBhcnRcbiAgICAvLyAgIGluc2VydGVkIGF0IHRoZSBoZWFkIHBvaW50ZXIgaXMgaW5zZXJ0ZWQgYmVmb3JlIHRoZVxuICAgIC8vICAgY3VycmVudCBgb2xkUGFydHNbb2xkSGVhZF1gLCBhbmQgYSBwYXJ0IGluc2VydGVkIGF0IHRoZVxuICAgIC8vICAgdGFpbCBwb2ludGVyIGlzIGluc2VydGVkIGJlZm9yZSBgbmV3UGFydHNbbmV3VGFpbCsxXWAuIFRoZVxuICAgIC8vICAgc2VlbWluZyBhc3ltbWV0cnkgbGllcyBpbiB0aGUgZmFjdCB0aGF0IG5ldyBwYXJ0cyBhcmVcbiAgICAvLyAgIG1vdmVkIGludG8gcGxhY2Ugb3V0c2lkZSBpbiwgc28gdG8gdGhlIHJpZ2h0IG9mIHRoZSBoZWFkXG4gICAgLy8gICBwb2ludGVyIGFyZSBvbGQgcGFydHMsIGFuZCB0byB0aGUgcmlnaHQgb2YgdGhlIHRhaWxcbiAgICAvLyAgIHBvaW50ZXIgYXJlIG5ldyBwYXJ0cy5cbiAgICAvL1xuICAgIC8vICogV2UgYWx3YXlzIHJlc3RhcnQgYmFjayBmcm9tIHRoZSB0b3Agb2YgdGhlIGFsZ29yaXRobSxcbiAgICAvLyAgIGFsbG93aW5nIG1hdGNoaW5nIGFuZCBzaW1wbGUgdXBkYXRlcyBpbiBwbGFjZSB0b1xuICAgIC8vICAgY29udGludWUuLi5cbiAgICAvL1xuICAgIC8vICogRXhhbXBsZSBiZWxvdzogdGhlIGhlYWQgcG9pbnRlcnMgb25jZSBhZ2FpbiBtYXRjaCwgc29cbiAgICAvLyAgIHNpbXBseSB1cGRhdGUgcGFydCAxIGFuZCByZWNvcmQgaXQgaW4gdGhlIGBuZXdQYXJ0c2BcbiAgICAvLyAgIGFycmF5LiAgTGFzdCwgYWR2YW5jZSBib3RoIGhlYWQgcG9pbnRlcnMuXG4gICAgLy9cbiAgICAvLyAgICAgICAgIG9sZEhlYWQgdiAgICAgICAgdiBvbGRUYWlsXG4gICAgLy8gICBvbGRLZXlzOiAgWzAsIDEsIC0sIDMsIDQsIDUsIDZdXG4gICAgLy8gICBuZXdQYXJ0czogWzAsIDIsIDEsICAsICAsICAsIDZdIDwtIGhlYWRzIG1hdGNoZWQ6IHVwZGF0ZSAxXG4gICAgLy8gICBuZXdLZXlzOiAgWzAsIDIsIDEsIDQsIDMsIDcsIDZdICAgIGFuZCBhZHZhbmNlIGJvdGggb2xkSGVhZFxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmIG5ld0hlYWRcbiAgICAvLyAgICAgICAgICAgIG5ld0hlYWQgXiAgICAgICAgXiBuZXdUYWlsXG4gICAgLy9cbiAgICAvLyAqIEFzIG1lbnRpb25lZCBhYm92ZSwgaXRlbXMgdGhhdCB3ZXJlIG1vdmVkIGFzIGEgcmVzdWx0IG9mXG4gICAgLy8gICBiZWluZyBzdHVjayAodGhlIGZpbmFsIGVsc2UgY2xhdXNlIGluIHRoZSBjb2RlIGJlbG93KSBhcmVcbiAgICAvLyAgIG1hcmtlZCB3aXRoIG51bGwsIHNvIHdlIGFsd2F5cyBhZHZhbmNlIG9sZCBwb2ludGVycyBvdmVyXG4gICAgLy8gICB0aGVzZSBzbyB3ZSdyZSBjb21wYXJpbmcgdGhlIG5leHQgYWN0dWFsIG9sZCB2YWx1ZSBvblxuICAgIC8vICAgZWl0aGVyIGVuZC5cbiAgICAvL1xuICAgIC8vICogRXhhbXBsZSBiZWxvdzogYG9sZEhlYWRgIGlzIG51bGwgKGFscmVhZHkgcGxhY2VkIGluXG4gICAgLy8gICBuZXdQYXJ0cyksIHNvIGFkdmFuY2UgYG9sZEhlYWRgLlxuICAgIC8vXG4gICAgLy8gICAgICAgICAgICBvbGRIZWFkIHYgICAgIHYgb2xkVGFpbFxuICAgIC8vICAgb2xkS2V5czogIFswLCAxLCAtLCAzLCA0LCA1LCA2XSA8LSBvbGQgaGVhZCBhbHJlYWR5IHVzZWQ6XG4gICAgLy8gICBuZXdQYXJ0czogWzAsIDIsIDEsICAsICAsICAsIDZdICAgIGFkdmFuY2Ugb2xkSGVhZFxuICAgIC8vICAgbmV3S2V5czogIFswLCAyLCAxLCA0LCAzLCA3LCA2XVxuICAgIC8vICAgICAgICAgICAgICAgbmV3SGVhZCBeICAgICBeIG5ld1RhaWxcbiAgICAvL1xuICAgIC8vICogTm90ZSBpdCdzIG5vdCBjcml0aWNhbCB0byBtYXJrIG9sZCBwYXJ0cyBhcyBudWxsIHdoZW4gdGhleVxuICAgIC8vICAgYXJlIG1vdmVkIGZyb20gaGVhZCB0byB0YWlsIG9yIHRhaWwgdG8gaGVhZCwgc2luY2UgdGhleVxuICAgIC8vICAgd2lsbCBiZSBvdXRzaWRlIHRoZSBwb2ludGVyIHJhbmdlIGFuZCBuZXZlciB2aXNpdGVkIGFnYWluLlxuICAgIC8vXG4gICAgLy8gKiBFeGFtcGxlIGJlbG93OiBIZXJlIHRoZSBvbGQgdGFpbCBrZXkgbWF0Y2hlcyB0aGUgbmV3IGhlYWRcbiAgICAvLyAgIGtleSwgc28gdGhlIHBhcnQgYXQgdGhlIGBvbGRUYWlsYCBwb3NpdGlvbiBhbmQgbW92ZSBpdHNcbiAgICAvLyAgIERPTSB0byB0aGUgbmV3IGhlYWQgcG9zaXRpb24gKGJlZm9yZSBgb2xkUGFydHNbb2xkSGVhZF1gKS5cbiAgICAvLyAgIExhc3QsIGFkdmFuY2UgYG9sZFRhaWxgIGFuZCBgbmV3SGVhZGAgcG9pbnRlcnMuXG4gICAgLy9cbiAgICAvLyAgICAgICAgICAgICAgIG9sZEhlYWQgdiAgdiBvbGRUYWlsXG4gICAgLy8gICBvbGRLZXlzOiAgWzAsIDEsIC0sIDMsIDQsIDUsIDZdXG4gICAgLy8gICBuZXdQYXJ0czogWzAsIDIsIDEsIDQsICAsICAsIDZdIDwtIG9sZCB0YWlsIG1hdGNoZXMgbmV3XG4gICAgLy8gICBuZXdLZXlzOiAgWzAsIDIsIDEsIDQsIDMsIDcsIDZdICAgaGVhZDogdXBkYXRlICYgbW92ZSA0LFxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkdmFuY2Ugb2xkVGFpbCAmIG5ld0hlYWRcbiAgICAvLyAgICAgICAgICAgICAgIG5ld0hlYWQgXiAgICAgXiBuZXdUYWlsXG4gICAgLy9cbiAgICAvLyAqIEV4YW1wbGUgYmVsb3c6IE9sZCBhbmQgbmV3IGhlYWQga2V5cyBtYXRjaCwgc28gdXBkYXRlIHRoZVxuICAgIC8vICAgb2xkIGhlYWQgcGFydCBpbiBwbGFjZSwgYW5kIGFkdmFuY2UgdGhlIGBvbGRIZWFkYCBhbmRcbiAgICAvLyAgIGBuZXdIZWFkYCBwb2ludGVycy5cbiAgICAvL1xuICAgIC8vICAgICAgICAgICAgICAgb2xkSGVhZCB2IG9sZFRhaWxcbiAgICAvLyAgIG9sZEtleXM6ICBbMCwgMSwgLSwgMywgNCwgNSwgNl1cbiAgICAvLyAgIG5ld1BhcnRzOiBbMCwgMiwgMSwgNCwgMywgICAsNl0gPC0gaGVhZHMgbWF0Y2g6IHVwZGF0ZSAzXG4gICAgLy8gICBuZXdLZXlzOiAgWzAsIDIsIDEsIDQsIDMsIDcsIDZdICAgIGFuZCBhZHZhbmNlIG9sZEhlYWQgJlxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdIZWFkXG4gICAgLy8gICAgICAgICAgICAgICAgICBuZXdIZWFkIF4gIF4gbmV3VGFpbFxuICAgIC8vXG4gICAgLy8gKiBPbmNlIHRoZSBuZXcgb3Igb2xkIHBvaW50ZXJzIG1vdmUgcGFzdCBlYWNoIG90aGVyIHRoZW4gYWxsXG4gICAgLy8gICB3ZSBoYXZlIGxlZnQgaXMgYWRkaXRpb25zIChpZiBvbGQgbGlzdCBleGhhdXN0ZWQpIG9yXG4gICAgLy8gICByZW1vdmFscyAoaWYgbmV3IGxpc3QgZXhoYXVzdGVkKS4gVGhvc2UgYXJlIGhhbmRsZWQgaW4gdGhlXG4gICAgLy8gICBmaW5hbCB3aGlsZSBsb29wcyBhdCB0aGUgZW5kLlxuICAgIC8vXG4gICAgLy8gKiBFeGFtcGxlIGJlbG93OiBgb2xkSGVhZGAgZXhjZWVkZWQgYG9sZFRhaWxgLCBzbyB3ZSdyZSBkb25lXG4gICAgLy8gICB3aXRoIHRoZSBtYWluIGxvb3AuICBDcmVhdGUgdGhlIHJlbWFpbmluZyBwYXJ0IGFuZCBpbnNlcnRcbiAgICAvLyAgIGl0IGF0IHRoZSBuZXcgaGVhZCBwb3NpdGlvbiwgYW5kIHRoZSB1cGRhdGUgaXMgY29tcGxldGUuXG4gICAgLy9cbiAgICAvLyAgICAgICAgICAgICAgICAgICAob2xkSGVhZCA+IG9sZFRhaWwpXG4gICAgLy8gICBvbGRLZXlzOiAgWzAsIDEsIC0sIDMsIDQsIDUsIDZdXG4gICAgLy8gICBuZXdQYXJ0czogWzAsIDIsIDEsIDQsIDMsIDcgLDZdIDwtIGNyZWF0ZSBhbmQgaW5zZXJ0IDdcbiAgICAvLyAgIG5ld0tleXM6ICBbMCwgMiwgMSwgNCwgMywgNywgNl1cbiAgICAvLyAgICAgICAgICAgICAgICAgICAgIG5ld0hlYWQgXiBuZXdUYWlsXG4gICAgLy9cbiAgICAvLyAqIE5vdGUgdGhhdCB0aGUgb3JkZXIgb2YgdGhlIGlmL2Vsc2UgY2xhdXNlcyBpcyBub3RcbiAgICAvLyAgIGltcG9ydGFudCB0byB0aGUgYWxnb3JpdGhtLCBhcyBsb25nIGFzIHRoZSBudWxsIGNoZWNrc1xuICAgIC8vICAgY29tZSBmaXJzdCAodG8gZW5zdXJlIHdlJ3JlIGFsd2F5cyB3b3JraW5nIG9uIHZhbGlkIG9sZFxuICAgIC8vICAgcGFydHMpIGFuZCB0aGF0IHRoZSBmaW5hbCBlbHNlIGNsYXVzZSBjb21lcyBsYXN0IChzaW5jZVxuICAgIC8vICAgdGhhdCdzIHdoZXJlIHRoZSBleHBlbnNpdmUgbW92ZXMgb2NjdXIpLiBUaGUgb3JkZXIgb2ZcbiAgICAvLyAgIHJlbWFpbmluZyBjbGF1c2VzIGlzIGp1c3QgYSBzaW1wbGUgZ3Vlc3MgYXQgd2hpY2ggY2FzZXNcbiAgICAvLyAgIHdpbGwgYmUgbW9zdCBjb21tb24uXG4gICAgLy9cbiAgICAvLyAqIE5vdGUsIHdlIGNvdWxkIGNhbGN1bGF0ZSB0aGUgbG9uZ2VzdFxuICAgIC8vICAgaW5jcmVhc2luZyBzdWJzZXF1ZW5jZSAoTElTKSBvZiBvbGQgaXRlbXMgaW4gbmV3IHBvc2l0aW9uLFxuICAgIC8vICAgYW5kIG9ubHkgbW92ZSB0aG9zZSBub3QgaW4gdGhlIExJUyBzZXQuIEhvd2V2ZXIgdGhhdCBjb3N0c1xuICAgIC8vICAgTyhubG9nbikgdGltZSBhbmQgYWRkcyBhIGJpdCBtb3JlIGNvZGUsIGFuZCBvbmx5IGhlbHBzXG4gICAgLy8gICBtYWtlIHJhcmUgdHlwZXMgb2YgbXV0YXRpb25zIHJlcXVpcmUgZmV3ZXIgbW92ZXMuIFRoZVxuICAgIC8vICAgYWJvdmUgaGFuZGxlcyByZW1vdmVzLCBhZGRzLCByZXZlcnNhbCwgc3dhcHMsIGFuZCBzaW5nbGVcbiAgICAvLyAgIG1vdmVzIG9mIGNvbnRpZ3VvdXMgaXRlbXMgaW4gbGluZWFyIHRpbWUsIGluIHRoZSBtaW5pbXVtXG4gICAgLy8gICBudW1iZXIgb2YgbW92ZXMuIEFzIHRoZSBudW1iZXIgb2YgbXVsdGlwbGUgbW92ZXMgd2hlcmUgTElTXG4gICAgLy8gICBtaWdodCBoZWxwIGFwcHJvYWNoZXMgYSByYW5kb20gc2h1ZmZsZSwgdGhlIExJU1xuICAgIC8vICAgb3B0aW1pemF0aW9uIGJlY29tZXMgbGVzcyBoZWxwZnVsLCBzbyBpdCBzZWVtcyBub3Qgd29ydGhcbiAgICAvLyAgIHRoZSBjb2RlIGF0IHRoaXMgcG9pbnQuIENvdWxkIHJlY29uc2lkZXIgaWYgYSBjb21wZWxsaW5nXG4gICAgLy8gICBjYXNlIGFyaXNlcy5cblxuICAgIHdoaWxlIChvbGRIZWFkIDw9IG9sZFRhaWwgJiYgbmV3SGVhZCA8PSBuZXdUYWlsKSB7XG4gICAgICBpZiAob2xkUGFydHNbb2xkSGVhZF0gPT09IG51bGwpIHtcbiAgICAgICAgLy8gYG51bGxgIG1lYW5zIG9sZCBwYXJ0IGF0IGhlYWQgaGFzIGFscmVhZHkgYmVlbiB1c2VkXG4gICAgICAgIC8vIGJlbG93OyBza2lwXG4gICAgICAgIG9sZEhlYWQrKztcbiAgICAgIH0gZWxzZSBpZiAob2xkUGFydHNbb2xkVGFpbF0gPT09IG51bGwpIHtcbiAgICAgICAgLy8gYG51bGxgIG1lYW5zIG9sZCBwYXJ0IGF0IHRhaWwgaGFzIGFscmVhZHkgYmVlbiB1c2VkXG4gICAgICAgIC8vIGJlbG93OyBza2lwXG4gICAgICAgIG9sZFRhaWwtLTtcbiAgICAgIH0gZWxzZSBpZiAob2xkS2V5c1tvbGRIZWFkXSA9PT0gbmV3S2V5c1tuZXdIZWFkXSkge1xuICAgICAgICAvLyBPbGQgaGVhZCBtYXRjaGVzIG5ldyBoZWFkOyB1cGRhdGUgaW4gcGxhY2VcbiAgICAgICAgbmV3UGFydHNbbmV3SGVhZF0gPSBzZXRDaGlsZFBhcnRWYWx1ZShcbiAgICAgICAgICBvbGRQYXJ0c1tvbGRIZWFkXSEsXG4gICAgICAgICAgbmV3VmFsdWVzW25ld0hlYWRdXG4gICAgICAgICk7XG4gICAgICAgIG9sZEhlYWQrKztcbiAgICAgICAgbmV3SGVhZCsrO1xuICAgICAgfSBlbHNlIGlmIChvbGRLZXlzW29sZFRhaWxdID09PSBuZXdLZXlzW25ld1RhaWxdKSB7XG4gICAgICAgIC8vIE9sZCB0YWlsIG1hdGNoZXMgbmV3IHRhaWw7IHVwZGF0ZSBpbiBwbGFjZVxuICAgICAgICBuZXdQYXJ0c1tuZXdUYWlsXSA9IHNldENoaWxkUGFydFZhbHVlKFxuICAgICAgICAgIG9sZFBhcnRzW29sZFRhaWxdISxcbiAgICAgICAgICBuZXdWYWx1ZXNbbmV3VGFpbF1cbiAgICAgICAgKTtcbiAgICAgICAgb2xkVGFpbC0tO1xuICAgICAgICBuZXdUYWlsLS07XG4gICAgICB9IGVsc2UgaWYgKG9sZEtleXNbb2xkSGVhZF0gPT09IG5ld0tleXNbbmV3VGFpbF0pIHtcbiAgICAgICAgLy8gT2xkIGhlYWQgbWF0Y2hlcyBuZXcgdGFpbDsgdXBkYXRlIGFuZCBtb3ZlIHRvIG5ldyB0YWlsXG4gICAgICAgIG5ld1BhcnRzW25ld1RhaWxdID0gc2V0Q2hpbGRQYXJ0VmFsdWUoXG4gICAgICAgICAgb2xkUGFydHNbb2xkSGVhZF0hLFxuICAgICAgICAgIG5ld1ZhbHVlc1tuZXdUYWlsXVxuICAgICAgICApO1xuICAgICAgICBpbnNlcnRQYXJ0KGNvbnRhaW5lclBhcnQsIG5ld1BhcnRzW25ld1RhaWwgKyAxXSwgb2xkUGFydHNbb2xkSGVhZF0hKTtcbiAgICAgICAgb2xkSGVhZCsrO1xuICAgICAgICBuZXdUYWlsLS07XG4gICAgICB9IGVsc2UgaWYgKG9sZEtleXNbb2xkVGFpbF0gPT09IG5ld0tleXNbbmV3SGVhZF0pIHtcbiAgICAgICAgLy8gT2xkIHRhaWwgbWF0Y2hlcyBuZXcgaGVhZDsgdXBkYXRlIGFuZCBtb3ZlIHRvIG5ldyBoZWFkXG4gICAgICAgIG5ld1BhcnRzW25ld0hlYWRdID0gc2V0Q2hpbGRQYXJ0VmFsdWUoXG4gICAgICAgICAgb2xkUGFydHNbb2xkVGFpbF0hLFxuICAgICAgICAgIG5ld1ZhbHVlc1tuZXdIZWFkXVxuICAgICAgICApO1xuICAgICAgICBpbnNlcnRQYXJ0KGNvbnRhaW5lclBhcnQsIG9sZFBhcnRzW29sZEhlYWRdISwgb2xkUGFydHNbb2xkVGFpbF0hKTtcbiAgICAgICAgb2xkVGFpbC0tO1xuICAgICAgICBuZXdIZWFkKys7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAobmV3S2V5VG9JbmRleE1hcCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgLy8gTGF6aWx5IGdlbmVyYXRlIGtleS10by1pbmRleCBtYXBzLCB1c2VkIGZvciByZW1vdmFscyAmXG4gICAgICAgICAgLy8gbW92ZXMgYmVsb3dcbiAgICAgICAgICBuZXdLZXlUb0luZGV4TWFwID0gZ2VuZXJhdGVNYXAobmV3S2V5cywgbmV3SGVhZCwgbmV3VGFpbCk7XG4gICAgICAgICAgb2xkS2V5VG9JbmRleE1hcCA9IGdlbmVyYXRlTWFwKG9sZEtleXMsIG9sZEhlYWQsIG9sZFRhaWwpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghbmV3S2V5VG9JbmRleE1hcC5oYXMob2xkS2V5c1tvbGRIZWFkXSkpIHtcbiAgICAgICAgICAvLyBPbGQgaGVhZCBpcyBubyBsb25nZXIgaW4gbmV3IGxpc3Q7IHJlbW92ZVxuICAgICAgICAgIHJlbW92ZVBhcnQob2xkUGFydHNbb2xkSGVhZF0hKTtcbiAgICAgICAgICBvbGRIZWFkKys7XG4gICAgICAgIH0gZWxzZSBpZiAoIW5ld0tleVRvSW5kZXhNYXAuaGFzKG9sZEtleXNbb2xkVGFpbF0pKSB7XG4gICAgICAgICAgLy8gT2xkIHRhaWwgaXMgbm8gbG9uZ2VyIGluIG5ldyBsaXN0OyByZW1vdmVcbiAgICAgICAgICByZW1vdmVQYXJ0KG9sZFBhcnRzW29sZFRhaWxdISk7XG4gICAgICAgICAgb2xkVGFpbC0tO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIEFueSBtaXNtYXRjaGVzIGF0IHRoaXMgcG9pbnQgYXJlIGR1ZSB0byBhZGRpdGlvbnMgb3JcbiAgICAgICAgICAvLyBtb3Zlczsgc2VlIGlmIHdlIGhhdmUgYW4gb2xkIHBhcnQgd2UgY2FuIHJldXNlIGFuZCBtb3ZlXG4gICAgICAgICAgLy8gaW50byBwbGFjZVxuICAgICAgICAgIGNvbnN0IG9sZEluZGV4ID0gb2xkS2V5VG9JbmRleE1hcC5nZXQobmV3S2V5c1tuZXdIZWFkXSk7XG4gICAgICAgICAgY29uc3Qgb2xkUGFydCA9IG9sZEluZGV4ICE9PSB1bmRlZmluZWQgPyBvbGRQYXJ0c1tvbGRJbmRleF0gOiBudWxsO1xuICAgICAgICAgIGlmIChvbGRQYXJ0ID09PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBObyBvbGQgcGFydCBmb3IgdGhpcyB2YWx1ZTsgY3JlYXRlIGEgbmV3IG9uZSBhbmRcbiAgICAgICAgICAgIC8vIGluc2VydCBpdFxuICAgICAgICAgICAgY29uc3QgbmV3UGFydCA9IGluc2VydFBhcnQoY29udGFpbmVyUGFydCwgb2xkUGFydHNbb2xkSGVhZF0hKTtcbiAgICAgICAgICAgIHNldENoaWxkUGFydFZhbHVlKG5ld1BhcnQsIG5ld1ZhbHVlc1tuZXdIZWFkXSk7XG4gICAgICAgICAgICBuZXdQYXJ0c1tuZXdIZWFkXSA9IG5ld1BhcnQ7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFJldXNlIG9sZCBwYXJ0XG4gICAgICAgICAgICBuZXdQYXJ0c1tuZXdIZWFkXSA9IHNldENoaWxkUGFydFZhbHVlKG9sZFBhcnQsIG5ld1ZhbHVlc1tuZXdIZWFkXSk7XG4gICAgICAgICAgICBpbnNlcnRQYXJ0KGNvbnRhaW5lclBhcnQsIG9sZFBhcnRzW29sZEhlYWRdISwgb2xkUGFydCk7XG4gICAgICAgICAgICAvLyBUaGlzIG1hcmtzIHRoZSBvbGQgcGFydCBhcyBoYXZpbmcgYmVlbiB1c2VkLCBzbyB0aGF0XG4gICAgICAgICAgICAvLyBpdCB3aWxsIGJlIHNraXBwZWQgaW4gdGhlIGZpcnN0IHR3byBjaGVja3MgYWJvdmVcbiAgICAgICAgICAgIG9sZFBhcnRzW29sZEluZGV4IGFzIG51bWJlcl0gPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgICBuZXdIZWFkKys7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgLy8gQWRkIHBhcnRzIGZvciBhbnkgcmVtYWluaW5nIG5ldyB2YWx1ZXNcbiAgICB3aGlsZSAobmV3SGVhZCA8PSBuZXdUYWlsKSB7XG4gICAgICAvLyBGb3IgYWxsIHJlbWFpbmluZyBhZGRpdGlvbnMsIHdlIGluc2VydCBiZWZvcmUgbGFzdCBuZXdcbiAgICAgIC8vIHRhaWwsIHNpbmNlIG9sZCBwb2ludGVycyBhcmUgbm8gbG9uZ2VyIHZhbGlkXG4gICAgICBjb25zdCBuZXdQYXJ0ID0gaW5zZXJ0UGFydChjb250YWluZXJQYXJ0LCBuZXdQYXJ0c1tuZXdUYWlsICsgMV0pO1xuICAgICAgc2V0Q2hpbGRQYXJ0VmFsdWUobmV3UGFydCwgbmV3VmFsdWVzW25ld0hlYWRdKTtcbiAgICAgIG5ld1BhcnRzW25ld0hlYWQrK10gPSBuZXdQYXJ0O1xuICAgIH1cbiAgICAvLyBSZW1vdmUgYW55IHJlbWFpbmluZyB1bnVzZWQgb2xkIHBhcnRzXG4gICAgd2hpbGUgKG9sZEhlYWQgPD0gb2xkVGFpbCkge1xuICAgICAgY29uc3Qgb2xkUGFydCA9IG9sZFBhcnRzW29sZEhlYWQrK107XG4gICAgICBpZiAob2xkUGFydCAhPT0gbnVsbCkge1xuICAgICAgICByZW1vdmVQYXJ0KG9sZFBhcnQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFNhdmUgb3JkZXIgb2YgbmV3IHBhcnRzIGZvciBuZXh0IHJvdW5kXG4gICAgdGhpcy5faXRlbUtleXMgPSBuZXdLZXlzO1xuICAgIC8vIERpcmVjdGx5IHNldCBwYXJ0IHZhbHVlLCBieXBhc3NpbmcgaXQncyBkaXJ0eS1jaGVja2luZ1xuICAgIHNldENvbW1pdHRlZFZhbHVlKGNvbnRhaW5lclBhcnQsIG5ld1BhcnRzKTtcbiAgICByZXR1cm4gbm9DaGFuZ2U7XG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBSZXBlYXREaXJlY3RpdmVGbiB7XG4gIDxUPihcbiAgICBpdGVtczogSXRlcmFibGU8VD4sXG4gICAga2V5Rm5PclRlbXBsYXRlOiBLZXlGbjxUPiB8IEl0ZW1UZW1wbGF0ZTxUPixcbiAgICB0ZW1wbGF0ZT86IEl0ZW1UZW1wbGF0ZTxUPlxuICApOiB1bmtub3duO1xuICA8VD4oaXRlbXM6IEl0ZXJhYmxlPFQ+LCB0ZW1wbGF0ZTogSXRlbVRlbXBsYXRlPFQ+KTogdW5rbm93bjtcbiAgPFQ+KFxuICAgIGl0ZW1zOiBJdGVyYWJsZTxUPixcbiAgICBrZXlGbjogS2V5Rm48VD4gfCBJdGVtVGVtcGxhdGU8VD4sXG4gICAgdGVtcGxhdGU6IEl0ZW1UZW1wbGF0ZTxUPlxuICApOiB1bmtub3duO1xufVxuXG4vKipcbiAqIEEgZGlyZWN0aXZlIHRoYXQgcmVwZWF0cyBhIHNlcmllcyBvZiB2YWx1ZXMgKHVzdWFsbHkgYFRlbXBsYXRlUmVzdWx0c2ApXG4gKiBnZW5lcmF0ZWQgZnJvbSBhbiBpdGVyYWJsZSwgYW5kIHVwZGF0ZXMgdGhvc2UgaXRlbXMgZWZmaWNpZW50bHkgd2hlbiB0aGVcbiAqIGl0ZXJhYmxlIGNoYW5nZXMgYmFzZWQgb24gdXNlci1wcm92aWRlZCBga2V5c2AgYXNzb2NpYXRlZCB3aXRoIGVhY2ggaXRlbS5cbiAqXG4gKiBOb3RlIHRoYXQgaWYgYSBga2V5Rm5gIGlzIHByb3ZpZGVkLCBzdHJpY3Qga2V5LXRvLURPTSBtYXBwaW5nIGlzIG1haW50YWluZWQsXG4gKiBtZWFuaW5nIHByZXZpb3VzIERPTSBmb3IgYSBnaXZlbiBrZXkgaXMgbW92ZWQgaW50byB0aGUgbmV3IHBvc2l0aW9uIGlmXG4gKiBuZWVkZWQsIGFuZCBET00gd2lsbCBuZXZlciBiZSByZXVzZWQgd2l0aCB2YWx1ZXMgZm9yIGRpZmZlcmVudCBrZXlzIChuZXcgRE9NXG4gKiB3aWxsIGFsd2F5cyBiZSBjcmVhdGVkIGZvciBuZXcga2V5cykuIFRoaXMgaXMgZ2VuZXJhbGx5IHRoZSBtb3N0IGVmZmljaWVudFxuICogd2F5IHRvIHVzZSBgcmVwZWF0YCBzaW5jZSBpdCBwZXJmb3JtcyBtaW5pbXVtIHVubmVjZXNzYXJ5IHdvcmsgZm9yIGluc2VydGlvbnNcbiAqIGFuZCByZW1vdmFscy5cbiAqXG4gKiBUaGUgYGtleUZuYCB0YWtlcyB0d28gcGFyYW1ldGVycywgdGhlIGl0ZW0gYW5kIGl0cyBpbmRleCwgYW5kIHJldHVybnMgYSB1bmlxdWUga2V5IHZhbHVlLlxuICpcbiAqIGBgYGpzXG4gKiBodG1sYFxuICogICA8b2w+XG4gKiAgICAgJHtyZXBlYXQodGhpcy5pdGVtcywgKGl0ZW0pID0+IGl0ZW0uaWQsIChpdGVtLCBpbmRleCkgPT4ge1xuICogICAgICAgcmV0dXJuIGh0bWxgPGxpPiR7aW5kZXh9OiAke2l0ZW0ubmFtZX08L2xpPmA7XG4gKiAgICAgfSl9XG4gKiAgIDwvb2w+XG4gKiBgXG4gKiBgYGBcbiAqXG4gKiAqKkltcG9ydGFudCoqOiBJZiBwcm92aWRpbmcgYSBga2V5Rm5gLCBrZXlzICptdXN0KiBiZSB1bmlxdWUgZm9yIGFsbCBpdGVtcyBpbiBhXG4gKiBnaXZlbiBjYWxsIHRvIGByZXBlYXRgLiBUaGUgYmVoYXZpb3Igd2hlbiB0d28gb3IgbW9yZSBpdGVtcyBoYXZlIHRoZSBzYW1lIGtleVxuICogaXMgdW5kZWZpbmVkLlxuICpcbiAqIElmIG5vIGBrZXlGbmAgaXMgcHJvdmlkZWQsIHRoaXMgZGlyZWN0aXZlIHdpbGwgcGVyZm9ybSBzaW1pbGFyIHRvIG1hcHBpbmdcbiAqIGl0ZW1zIHRvIHZhbHVlcywgYW5kIERPTSB3aWxsIGJlIHJldXNlZCBhZ2FpbnN0IHBvdGVudGlhbGx5IGRpZmZlcmVudCBpdGVtcy5cbiAqL1xuZXhwb3J0IGNvbnN0IHJlcGVhdCA9IGRpcmVjdGl2ZShSZXBlYXREaXJlY3RpdmUpIGFzIFJlcGVhdERpcmVjdGl2ZUZuO1xuXG4vKipcbiAqIFRoZSB0eXBlIG9mIHRoZSBjbGFzcyB0aGF0IHBvd2VycyB0aGlzIGRpcmVjdGl2ZS4gTmVjZXNzYXJ5IGZvciBuYW1pbmcgdGhlXG4gKiBkaXJlY3RpdmUncyByZXR1cm4gdHlwZS5cbiAqL1xuZXhwb3J0IHR5cGUge1JlcGVhdERpcmVjdGl2ZX07XG4iLCJpbXBvcnR7XyRMSCBhcyBvfWZyb21cIi4vbGl0LWh0bWwuanNcIjtcbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBCU0QtMy1DbGF1c2VcbiAqL2NvbnN0e0k6dH09byxpPW89Pm51bGw9PT1vfHxcIm9iamVjdFwiIT10eXBlb2YgbyYmXCJmdW5jdGlvblwiIT10eXBlb2YgbyxuPXtIVE1MOjEsU1ZHOjIsTUFUSE1MOjN9LGU9KG8sdCk9PnZvaWQgMD09PXQ/dm9pZCAwIT09bz8uXyRsaXRUeXBlJDpvPy5fJGxpdFR5cGUkPT09dCxsPW89Pm51bGwhPW8/Ll8kbGl0VHlwZSQ/LmgsYz1vPT52b2lkIDAhPT1vPy5fJGxpdERpcmVjdGl2ZSQsZD1vPT5vPy5fJGxpdERpcmVjdGl2ZSQsZj1vPT52b2lkIDA9PT1vLnN0cmluZ3Mscz0oKT0+ZG9jdW1lbnQuY3JlYXRlQ29tbWVudChcIlwiKSxyPShvLGksbik9Pntjb25zdCBlPW8uXyRBQS5wYXJlbnROb2RlLGw9dm9pZCAwPT09aT9vLl8kQUI6aS5fJEFBO2lmKHZvaWQgMD09PW4pe2NvbnN0IGk9ZS5pbnNlcnRCZWZvcmUocygpLGwpLGM9ZS5pbnNlcnRCZWZvcmUocygpLGwpO249bmV3IHQoaSxjLG8sby5vcHRpb25zKX1lbHNle2NvbnN0IHQ9bi5fJEFCLm5leHRTaWJsaW5nLGk9bi5fJEFNLGM9aSE9PW87aWYoYyl7bGV0IHQ7bi5fJEFRPy4obyksbi5fJEFNPW8sdm9pZCAwIT09bi5fJEFQJiYodD1vLl8kQVUpIT09aS5fJEFVJiZuLl8kQVAodCl9aWYodCE9PWx8fGMpe2xldCBvPW4uXyRBQTtmb3IoO28hPT10Oyl7Y29uc3QgdD1vLm5leHRTaWJsaW5nO2UuaW5zZXJ0QmVmb3JlKG8sbCksbz10fX19cmV0dXJuIG59LHY9KG8sdCxpPW8pPT4oby5fJEFJKHQsaSksbyksdT17fSxtPShvLHQ9dSk9Pm8uXyRBSD10LHA9bz0+by5fJEFILE09bz0+e28uXyRBUD8uKCExLCEwKTtsZXQgdD1vLl8kQUE7Y29uc3QgaT1vLl8kQUIubmV4dFNpYmxpbmc7Zm9yKDt0IT09aTspe2NvbnN0IG89dC5uZXh0U2libGluZzt0LnJlbW92ZSgpLHQ9b319LGg9bz0+e28uXyRBUigpfTtleHBvcnR7biBhcyBUZW1wbGF0ZVJlc3VsdFR5cGUsaCBhcyBjbGVhclBhcnQscCBhcyBnZXRDb21taXR0ZWRWYWx1ZSxkIGFzIGdldERpcmVjdGl2ZUNsYXNzLHIgYXMgaW5zZXJ0UGFydCxsIGFzIGlzQ29tcGlsZWRUZW1wbGF0ZVJlc3VsdCxjIGFzIGlzRGlyZWN0aXZlUmVzdWx0LGkgYXMgaXNQcmltaXRpdmUsZiBhcyBpc1NpbmdsZUV4cHJlc3Npb24sZSBhcyBpc1RlbXBsYXRlUmVzdWx0LE0gYXMgcmVtb3ZlUGFydCx2IGFzIHNldENoaWxkUGFydFZhbHVlLG0gYXMgc2V0Q29tbWl0dGVkVmFsdWV9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGlyZWN0aXZlLWhlbHBlcnMuanMubWFwXG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQlNELTMtQ2xhdXNlXG4gKi9cblxuaW1wb3J0IHtcbiAgXyRMSCxcbiAgUGFydCxcbiAgRGlyZWN0aXZlUGFyZW50LFxuICBDb21waWxlZFRlbXBsYXRlUmVzdWx0LFxuICBNYXliZUNvbXBpbGVkVGVtcGxhdGVSZXN1bHQsXG4gIFVuY29tcGlsZWRUZW1wbGF0ZVJlc3VsdCxcbn0gZnJvbSAnLi9saXQtaHRtbC5qcyc7XG5pbXBvcnQge1xuICBEaXJlY3RpdmVSZXN1bHQsXG4gIERpcmVjdGl2ZUNsYXNzLFxuICBQYXJ0SW5mbyxcbiAgQXR0cmlidXRlUGFydEluZm8sXG59IGZyb20gJy4vZGlyZWN0aXZlLmpzJztcbnR5cGUgUHJpbWl0aXZlID0gbnVsbCB8IHVuZGVmaW5lZCB8IGJvb2xlYW4gfCBudW1iZXIgfCBzdHJpbmcgfCBzeW1ib2wgfCBiaWdpbnQ7XG5cbmNvbnN0IHtfQ2hpbGRQYXJ0OiBDaGlsZFBhcnR9ID0gXyRMSDtcblxudHlwZSBDaGlsZFBhcnQgPSBJbnN0YW5jZVR5cGU8dHlwZW9mIENoaWxkUGFydD47XG5cbmNvbnN0IEVOQUJMRV9TSEFEWURPTV9OT1BBVENIID0gdHJ1ZTtcblxuY29uc3Qgd3JhcCA9XG4gIEVOQUJMRV9TSEFEWURPTV9OT1BBVENIICYmXG4gIHdpbmRvdy5TaGFkeURPTT8uaW5Vc2UgJiZcbiAgd2luZG93LlNoYWR5RE9NPy5ub1BhdGNoID09PSB0cnVlXG4gICAgPyB3aW5kb3cuU2hhZHlET00hLndyYXBcbiAgICA6IChub2RlOiBOb2RlKSA9PiBub2RlO1xuXG4vKipcbiAqIFRlc3RzIGlmIGEgdmFsdWUgaXMgYSBwcmltaXRpdmUgdmFsdWUuXG4gKlxuICogU2VlIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLXR5cGVvZi1vcGVyYXRvclxuICovXG5leHBvcnQgY29uc3QgaXNQcmltaXRpdmUgPSAodmFsdWU6IHVua25vd24pOiB2YWx1ZSBpcyBQcmltaXRpdmUgPT5cbiAgdmFsdWUgPT09IG51bGwgfHwgKHR5cGVvZiB2YWx1ZSAhPSAnb2JqZWN0JyAmJiB0eXBlb2YgdmFsdWUgIT0gJ2Z1bmN0aW9uJyk7XG5cbmV4cG9ydCBjb25zdCBUZW1wbGF0ZVJlc3VsdFR5cGUgPSB7XG4gIEhUTUw6IDEsXG4gIFNWRzogMixcbiAgTUFUSE1MOiAzLFxufSBhcyBjb25zdDtcblxuZXhwb3J0IHR5cGUgVGVtcGxhdGVSZXN1bHRUeXBlID1cbiAgKHR5cGVvZiBUZW1wbGF0ZVJlc3VsdFR5cGUpW2tleW9mIHR5cGVvZiBUZW1wbGF0ZVJlc3VsdFR5cGVdO1xuXG50eXBlIElzVGVtcGxhdGVSZXN1bHQgPSB7XG4gICh2YWw6IHVua25vd24pOiB2YWwgaXMgTWF5YmVDb21waWxlZFRlbXBsYXRlUmVzdWx0O1xuICA8VCBleHRlbmRzIFRlbXBsYXRlUmVzdWx0VHlwZT4oXG4gICAgdmFsOiB1bmtub3duLFxuICAgIHR5cGU6IFRcbiAgKTogdmFsIGlzIFVuY29tcGlsZWRUZW1wbGF0ZVJlc3VsdDxUPjtcbn07XG5cbi8qKlxuICogVGVzdHMgaWYgYSB2YWx1ZSBpcyBhIFRlbXBsYXRlUmVzdWx0IG9yIGEgQ29tcGlsZWRUZW1wbGF0ZVJlc3VsdC5cbiAqL1xuZXhwb3J0IGNvbnN0IGlzVGVtcGxhdGVSZXN1bHQ6IElzVGVtcGxhdGVSZXN1bHQgPSAoXG4gIHZhbHVlOiB1bmtub3duLFxuICB0eXBlPzogVGVtcGxhdGVSZXN1bHRUeXBlXG4pOiB2YWx1ZSBpcyBVbmNvbXBpbGVkVGVtcGxhdGVSZXN1bHQgPT5cbiAgdHlwZSA9PT0gdW5kZWZpbmVkXG4gICAgPyAvLyBUaGlzIHByb3BlcnR5IG5lZWRzIHRvIHJlbWFpbiB1bm1pbmlmaWVkLlxuICAgICAgKHZhbHVlIGFzIFVuY29tcGlsZWRUZW1wbGF0ZVJlc3VsdCk/LlsnXyRsaXRUeXBlJCddICE9PSB1bmRlZmluZWRcbiAgICA6ICh2YWx1ZSBhcyBVbmNvbXBpbGVkVGVtcGxhdGVSZXN1bHQpPy5bJ18kbGl0VHlwZSQnXSA9PT0gdHlwZTtcblxuLyoqXG4gKiBUZXN0cyBpZiBhIHZhbHVlIGlzIGEgQ29tcGlsZWRUZW1wbGF0ZVJlc3VsdC5cbiAqL1xuZXhwb3J0IGNvbnN0IGlzQ29tcGlsZWRUZW1wbGF0ZVJlc3VsdCA9IChcbiAgdmFsdWU6IHVua25vd25cbik6IHZhbHVlIGlzIENvbXBpbGVkVGVtcGxhdGVSZXN1bHQgPT4ge1xuICByZXR1cm4gKHZhbHVlIGFzIENvbXBpbGVkVGVtcGxhdGVSZXN1bHQpPy5bJ18kbGl0VHlwZSQnXT8uaCAhPSBudWxsO1xufTtcblxuLyoqXG4gKiBUZXN0cyBpZiBhIHZhbHVlIGlzIGEgRGlyZWN0aXZlUmVzdWx0LlxuICovXG5leHBvcnQgY29uc3QgaXNEaXJlY3RpdmVSZXN1bHQgPSAodmFsdWU6IHVua25vd24pOiB2YWx1ZSBpcyBEaXJlY3RpdmVSZXN1bHQgPT5cbiAgLy8gVGhpcyBwcm9wZXJ0eSBuZWVkcyB0byByZW1haW4gdW5taW5pZmllZC5cbiAgKHZhbHVlIGFzIERpcmVjdGl2ZVJlc3VsdCk/LlsnXyRsaXREaXJlY3RpdmUkJ10gIT09IHVuZGVmaW5lZDtcblxuLyoqXG4gKiBSZXRyaWV2ZXMgdGhlIERpcmVjdGl2ZSBjbGFzcyBmb3IgYSBEaXJlY3RpdmVSZXN1bHRcbiAqL1xuZXhwb3J0IGNvbnN0IGdldERpcmVjdGl2ZUNsYXNzID0gKHZhbHVlOiB1bmtub3duKTogRGlyZWN0aXZlQ2xhc3MgfCB1bmRlZmluZWQgPT5cbiAgLy8gVGhpcyBwcm9wZXJ0eSBuZWVkcyB0byByZW1haW4gdW5taW5pZmllZC5cbiAgKHZhbHVlIGFzIERpcmVjdGl2ZVJlc3VsdCk/LlsnXyRsaXREaXJlY3RpdmUkJ107XG5cbi8qKlxuICogVGVzdHMgd2hldGhlciBhIHBhcnQgaGFzIG9ubHkgYSBzaW5nbGUtZXhwcmVzc2lvbiB3aXRoIG5vIHN0cmluZ3MgdG9cbiAqIGludGVycG9sYXRlIGJldHdlZW4uXG4gKlxuICogT25seSBBdHRyaWJ1dGVQYXJ0IGFuZCBQcm9wZXJ0eVBhcnQgY2FuIGhhdmUgbXVsdGlwbGUgZXhwcmVzc2lvbnMuXG4gKiBNdWx0aS1leHByZXNzaW9uIHBhcnRzIGhhdmUgYSBgc3RyaW5nc2AgcHJvcGVydHkgYW5kIHNpbmdsZS1leHByZXNzaW9uXG4gKiBwYXJ0cyBkbyBub3QuXG4gKi9cbmV4cG9ydCBjb25zdCBpc1NpbmdsZUV4cHJlc3Npb24gPSAocGFydDogUGFydEluZm8pID0+XG4gIChwYXJ0IGFzIEF0dHJpYnV0ZVBhcnRJbmZvKS5zdHJpbmdzID09PSB1bmRlZmluZWQ7XG5cbmNvbnN0IGNyZWF0ZU1hcmtlciA9ICgpID0+IGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoJycpO1xuXG4vKipcbiAqIEluc2VydHMgYSBDaGlsZFBhcnQgaW50byB0aGUgZ2l2ZW4gY29udGFpbmVyIENoaWxkUGFydCdzIERPTSwgZWl0aGVyIGF0IHRoZVxuICogZW5kIG9mIHRoZSBjb250YWluZXIgQ2hpbGRQYXJ0LCBvciBiZWZvcmUgdGhlIG9wdGlvbmFsIGByZWZQYXJ0YC5cbiAqXG4gKiBUaGlzIGRvZXMgbm90IGFkZCB0aGUgcGFydCB0byB0aGUgY29udGFpbmVyUGFydCdzIGNvbW1pdHRlZCB2YWx1ZS4gVGhhdCBtdXN0XG4gKiBiZSBkb25lIGJ5IGNhbGxlcnMuXG4gKlxuICogQHBhcmFtIGNvbnRhaW5lclBhcnQgUGFydCB3aXRoaW4gd2hpY2ggdG8gYWRkIHRoZSBuZXcgQ2hpbGRQYXJ0XG4gKiBAcGFyYW0gcmVmUGFydCBQYXJ0IGJlZm9yZSB3aGljaCB0byBhZGQgdGhlIG5ldyBDaGlsZFBhcnQ7IHdoZW4gb21pdHRlZCB0aGVcbiAqICAgICBwYXJ0IGFkZGVkIHRvIHRoZSBlbmQgb2YgdGhlIGBjb250YWluZXJQYXJ0YFxuICogQHBhcmFtIHBhcnQgUGFydCB0byBpbnNlcnQsIG9yIHVuZGVmaW5lZCB0byBjcmVhdGUgYSBuZXcgcGFydFxuICovXG5leHBvcnQgY29uc3QgaW5zZXJ0UGFydCA9IChcbiAgY29udGFpbmVyUGFydDogQ2hpbGRQYXJ0LFxuICByZWZQYXJ0PzogQ2hpbGRQYXJ0LFxuICBwYXJ0PzogQ2hpbGRQYXJ0XG4pOiBDaGlsZFBhcnQgPT4ge1xuICBjb25zdCBjb250YWluZXIgPSB3cmFwKGNvbnRhaW5lclBhcnQuXyRzdGFydE5vZGUpLnBhcmVudE5vZGUhO1xuXG4gIGNvbnN0IHJlZk5vZGUgPVxuICAgIHJlZlBhcnQgPT09IHVuZGVmaW5lZCA/IGNvbnRhaW5lclBhcnQuXyRlbmROb2RlIDogcmVmUGFydC5fJHN0YXJ0Tm9kZTtcblxuICBpZiAocGFydCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgY29uc3Qgc3RhcnROb2RlID0gd3JhcChjb250YWluZXIpLmluc2VydEJlZm9yZShjcmVhdGVNYXJrZXIoKSwgcmVmTm9kZSk7XG4gICAgY29uc3QgZW5kTm9kZSA9IHdyYXAoY29udGFpbmVyKS5pbnNlcnRCZWZvcmUoY3JlYXRlTWFya2VyKCksIHJlZk5vZGUpO1xuICAgIHBhcnQgPSBuZXcgQ2hpbGRQYXJ0KFxuICAgICAgc3RhcnROb2RlLFxuICAgICAgZW5kTm9kZSxcbiAgICAgIGNvbnRhaW5lclBhcnQsXG4gICAgICBjb250YWluZXJQYXJ0Lm9wdGlvbnNcbiAgICApO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IGVuZE5vZGUgPSB3cmFwKHBhcnQuXyRlbmROb2RlISkubmV4dFNpYmxpbmc7XG4gICAgY29uc3Qgb2xkUGFyZW50ID0gcGFydC5fJHBhcmVudDtcbiAgICBjb25zdCBwYXJlbnRDaGFuZ2VkID0gb2xkUGFyZW50ICE9PSBjb250YWluZXJQYXJ0O1xuICAgIGlmIChwYXJlbnRDaGFuZ2VkKSB7XG4gICAgICBwYXJ0Ll8kcmVwYXJlbnREaXNjb25uZWN0YWJsZXM/Lihjb250YWluZXJQYXJ0KTtcbiAgICAgIC8vIE5vdGUgdGhhdCBhbHRob3VnaCBgXyRyZXBhcmVudERpc2Nvbm5lY3RhYmxlc2AgdXBkYXRlcyB0aGUgcGFydCdzXG4gICAgICAvLyBgXyRwYXJlbnRgIHJlZmVyZW5jZSBhZnRlciB1bmxpbmtpbmcgZnJvbSBpdHMgY3VycmVudCBwYXJlbnQsIHRoYXRcbiAgICAgIC8vIG1ldGhvZCBvbmx5IGV4aXN0cyBpZiBEaXNjb25uZWN0YWJsZXMgYXJlIHByZXNlbnQsIHNvIHdlIG5lZWQgdG9cbiAgICAgIC8vIHVuY29uZGl0aW9uYWxseSBzZXQgaXQgaGVyZVxuICAgICAgcGFydC5fJHBhcmVudCA9IGNvbnRhaW5lclBhcnQ7XG4gICAgICAvLyBTaW5jZSB0aGUgXyRpc0Nvbm5lY3RlZCBnZXR0ZXIgaXMgc29tZXdoYXQgY29zdGx5LCBvbmx5XG4gICAgICAvLyByZWFkIGl0IG9uY2Ugd2Uga25vdyB0aGUgc3VidHJlZSBoYXMgZGlyZWN0aXZlcyB0aGF0IG5lZWRcbiAgICAgIC8vIHRvIGJlIG5vdGlmaWVkXG4gICAgICBsZXQgbmV3Q29ubmVjdGlvblN0YXRlO1xuICAgICAgaWYgKFxuICAgICAgICBwYXJ0Ll8kbm90aWZ5Q29ubmVjdGlvbkNoYW5nZWQgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAobmV3Q29ubmVjdGlvblN0YXRlID0gY29udGFpbmVyUGFydC5fJGlzQ29ubmVjdGVkKSAhPT1cbiAgICAgICAgICBvbGRQYXJlbnQhLl8kaXNDb25uZWN0ZWRcbiAgICAgICkge1xuICAgICAgICBwYXJ0Ll8kbm90aWZ5Q29ubmVjdGlvbkNoYW5nZWQobmV3Q29ubmVjdGlvblN0YXRlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGVuZE5vZGUgIT09IHJlZk5vZGUgfHwgcGFyZW50Q2hhbmdlZCkge1xuICAgICAgbGV0IHN0YXJ0OiBOb2RlIHwgbnVsbCA9IHBhcnQuXyRzdGFydE5vZGU7XG4gICAgICB3aGlsZSAoc3RhcnQgIT09IGVuZE5vZGUpIHtcbiAgICAgICAgY29uc3QgbjogTm9kZSB8IG51bGwgPSB3cmFwKHN0YXJ0ISkubmV4dFNpYmxpbmc7XG4gICAgICAgIHdyYXAoY29udGFpbmVyKS5pbnNlcnRCZWZvcmUoc3RhcnQhLCByZWZOb2RlKTtcbiAgICAgICAgc3RhcnQgPSBuO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBwYXJ0O1xufTtcblxuLyoqXG4gKiBTZXRzIHRoZSB2YWx1ZSBvZiBhIFBhcnQuXG4gKlxuICogTm90ZSB0aGF0IHRoaXMgc2hvdWxkIG9ubHkgYmUgdXNlZCB0byBzZXQvdXBkYXRlIHRoZSB2YWx1ZSBvZiB1c2VyLWNyZWF0ZWRcbiAqIHBhcnRzIChpLmUuIHRob3NlIGNyZWF0ZWQgdXNpbmcgYGluc2VydFBhcnRgKTsgaXQgc2hvdWxkIG5vdCBiZSB1c2VkXG4gKiBieSBkaXJlY3RpdmVzIHRvIHNldCB0aGUgdmFsdWUgb2YgdGhlIGRpcmVjdGl2ZSdzIGNvbnRhaW5lciBwYXJ0LiBEaXJlY3RpdmVzXG4gKiBzaG91bGQgcmV0dXJuIGEgdmFsdWUgZnJvbSBgdXBkYXRlYC9gcmVuZGVyYCB0byB1cGRhdGUgdGhlaXIgcGFydCBzdGF0ZS5cbiAqXG4gKiBGb3IgZGlyZWN0aXZlcyB0aGF0IHJlcXVpcmUgc2V0dGluZyB0aGVpciBwYXJ0IHZhbHVlIGFzeW5jaHJvbm91c2x5LCB0aGV5XG4gKiBzaG91bGQgZXh0ZW5kIGBBc3luY0RpcmVjdGl2ZWAgYW5kIGNhbGwgYHRoaXMuc2V0VmFsdWUoKWAuXG4gKlxuICogQHBhcmFtIHBhcnQgUGFydCB0byBzZXRcbiAqIEBwYXJhbSB2YWx1ZSBWYWx1ZSB0byBzZXRcbiAqIEBwYXJhbSBpbmRleCBGb3IgYEF0dHJpYnV0ZVBhcnRgcywgdGhlIGluZGV4IHRvIHNldFxuICogQHBhcmFtIGRpcmVjdGl2ZVBhcmVudCBVc2VkIGludGVybmFsbHk7IHNob3VsZCBub3QgYmUgc2V0IGJ5IHVzZXJcbiAqL1xuZXhwb3J0IGNvbnN0IHNldENoaWxkUGFydFZhbHVlID0gPFQgZXh0ZW5kcyBDaGlsZFBhcnQ+KFxuICBwYXJ0OiBULFxuICB2YWx1ZTogdW5rbm93bixcbiAgZGlyZWN0aXZlUGFyZW50OiBEaXJlY3RpdmVQYXJlbnQgPSBwYXJ0XG4pOiBUID0+IHtcbiAgcGFydC5fJHNldFZhbHVlKHZhbHVlLCBkaXJlY3RpdmVQYXJlbnQpO1xuICByZXR1cm4gcGFydDtcbn07XG5cbi8vIEEgc2VudGluZWwgdmFsdWUgdGhhdCBjYW4gbmV2ZXIgYXBwZWFyIGFzIGEgcGFydCB2YWx1ZSBleGNlcHQgd2hlbiBzZXQgYnlcbi8vIGxpdmUoKS4gVXNlZCB0byBmb3JjZSBhIGRpcnR5LWNoZWNrIHRvIGZhaWwgYW5kIGNhdXNlIGEgcmUtcmVuZGVyLlxuY29uc3QgUkVTRVRfVkFMVUUgPSB7fTtcblxuLyoqXG4gKiBTZXRzIHRoZSBjb21taXR0ZWQgdmFsdWUgb2YgYSBDaGlsZFBhcnQgZGlyZWN0bHkgd2l0aG91dCB0cmlnZ2VyaW5nIHRoZVxuICogY29tbWl0IHN0YWdlIG9mIHRoZSBwYXJ0LlxuICpcbiAqIFRoaXMgaXMgdXNlZnVsIGluIGNhc2VzIHdoZXJlIGEgZGlyZWN0aXZlIG5lZWRzIHRvIHVwZGF0ZSB0aGUgcGFydCBzdWNoXG4gKiB0aGF0IHRoZSBuZXh0IHVwZGF0ZSBkZXRlY3RzIGEgdmFsdWUgY2hhbmdlIG9yIG5vdC4gV2hlbiB2YWx1ZSBpcyBvbWl0dGVkLFxuICogdGhlIG5leHQgdXBkYXRlIHdpbGwgYmUgZ3VhcmFudGVlZCB0byBiZSBkZXRlY3RlZCBhcyBhIGNoYW5nZS5cbiAqXG4gKiBAcGFyYW0gcGFydFxuICogQHBhcmFtIHZhbHVlXG4gKi9cbmV4cG9ydCBjb25zdCBzZXRDb21taXR0ZWRWYWx1ZSA9IChwYXJ0OiBQYXJ0LCB2YWx1ZTogdW5rbm93biA9IFJFU0VUX1ZBTFVFKSA9PlxuICAocGFydC5fJGNvbW1pdHRlZFZhbHVlID0gdmFsdWUpO1xuXG4vKipcbiAqIFJldHVybnMgdGhlIGNvbW1pdHRlZCB2YWx1ZSBvZiBhIENoaWxkUGFydC5cbiAqXG4gKiBUaGUgY29tbWl0dGVkIHZhbHVlIGlzIHVzZWQgZm9yIGNoYW5nZSBkZXRlY3Rpb24gYW5kIGVmZmljaWVudCB1cGRhdGVzIG9mXG4gKiB0aGUgcGFydC4gSXQgY2FuIGRpZmZlciBmcm9tIHRoZSB2YWx1ZSBzZXQgYnkgdGhlIHRlbXBsYXRlIG9yIGRpcmVjdGl2ZSBpblxuICogY2FzZXMgd2hlcmUgdGhlIHRlbXBsYXRlIHZhbHVlIGlzIHRyYW5zZm9ybWVkIGJlZm9yZSBiZWluZyBjb21taXR0ZWQuXG4gKlxuICogLSBgVGVtcGxhdGVSZXN1bHRgcyBhcmUgY29tbWl0dGVkIGFzIGEgYFRlbXBsYXRlSW5zdGFuY2VgXG4gKiAtIEl0ZXJhYmxlcyBhcmUgY29tbWl0dGVkIGFzIGBBcnJheTxDaGlsZFBhcnQ+YFxuICogLSBBbGwgb3RoZXIgdHlwZXMgYXJlIGNvbW1pdHRlZCBhcyB0aGUgdGVtcGxhdGUgdmFsdWUgb3IgdmFsdWUgcmV0dXJuZWQgb3JcbiAqICAgc2V0IGJ5IGEgZGlyZWN0aXZlLlxuICpcbiAqIEBwYXJhbSBwYXJ0XG4gKi9cbmV4cG9ydCBjb25zdCBnZXRDb21taXR0ZWRWYWx1ZSA9IChwYXJ0OiBDaGlsZFBhcnQpID0+IHBhcnQuXyRjb21taXR0ZWRWYWx1ZTtcblxuLyoqXG4gKiBSZW1vdmVzIGEgQ2hpbGRQYXJ0IGZyb20gdGhlIERPTSwgaW5jbHVkaW5nIGFueSBvZiBpdHMgY29udGVudC5cbiAqXG4gKiBAcGFyYW0gcGFydCBUaGUgUGFydCB0byByZW1vdmVcbiAqL1xuZXhwb3J0IGNvbnN0IHJlbW92ZVBhcnQgPSAocGFydDogQ2hpbGRQYXJ0KSA9PiB7XG4gIHBhcnQuXyRub3RpZnlDb25uZWN0aW9uQ2hhbmdlZD8uKGZhbHNlLCB0cnVlKTtcbiAgbGV0IHN0YXJ0OiBDaGlsZE5vZGUgfCBudWxsID0gcGFydC5fJHN0YXJ0Tm9kZTtcbiAgY29uc3QgZW5kOiBDaGlsZE5vZGUgfCBudWxsID0gd3JhcChwYXJ0Ll8kZW5kTm9kZSEpLm5leHRTaWJsaW5nO1xuICB3aGlsZSAoc3RhcnQgIT09IGVuZCkge1xuICAgIGNvbnN0IG46IENoaWxkTm9kZSB8IG51bGwgPSB3cmFwKHN0YXJ0ISkubmV4dFNpYmxpbmc7XG4gICAgKHdyYXAoc3RhcnQhKSBhcyBDaGlsZE5vZGUpLnJlbW92ZSgpO1xuICAgIHN0YXJ0ID0gbjtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGNsZWFyUGFydCA9IChwYXJ0OiBDaGlsZFBhcnQpID0+IHtcbiAgcGFydC5fJGNsZWFyKCk7XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjEgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEJTRC0zLUNsYXVzZVxuICovXG5mdW5jdGlvbiBuKG4scix0KXtyZXR1cm4gbj9yKG4pOnQ/LihuKX1leHBvcnR7biBhcyB3aGVufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXdoZW4uanMubWFwXG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMSBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQlNELTMtQ2xhdXNlXG4gKi9cblxudHlwZSBGYWxzeSA9IG51bGwgfCB1bmRlZmluZWQgfCBmYWxzZSB8IDAgfCAtMCB8IDBuIHwgJyc7XG5cbi8qKlxuICogV2hlbiBgY29uZGl0aW9uYCBpcyB0cnVlLCByZXR1cm5zIHRoZSByZXN1bHQgb2YgY2FsbGluZyBgdHJ1ZUNhc2UoKWAsIGVsc2VcbiAqIHJldHVybnMgdGhlIHJlc3VsdCBvZiBjYWxsaW5nIGBmYWxzZUNhc2UoKWAgaWYgYGZhbHNlQ2FzZWAgaXMgZGVmaW5lZC5cbiAqXG4gKiBUaGlzIGlzIGEgY29udmVuaWVuY2Ugd3JhcHBlciBhcm91bmQgYSB0ZXJuYXJ5IGV4cHJlc3Npb24gdGhhdCBtYWtlcyBpdCBhXG4gKiBsaXR0bGUgbmljZXIgdG8gd3JpdGUgYW4gaW5saW5lIGNvbmRpdGlvbmFsIHdpdGhvdXQgYW4gZWxzZS5cbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIGBgYHRzXG4gKiByZW5kZXIoKSB7XG4gKiAgIHJldHVybiBodG1sYFxuICogICAgICR7d2hlbih0aGlzLnVzZXIsICgpID0+IGh0bWxgVXNlcjogJHt0aGlzLnVzZXIudXNlcm5hbWV9YCwgKCkgPT4gaHRtbGBTaWduIEluLi4uYCl9XG4gKiAgIGA7XG4gKiB9XG4gKiBgYGBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHdoZW48QyBleHRlbmRzIEZhbHN5LCBULCBGID0gdW5kZWZpbmVkPihcbiAgY29uZGl0aW9uOiBDLFxuICB0cnVlQ2FzZTogKGM6IEMpID0+IFQsXG4gIGZhbHNlQ2FzZT86IChjOiBDKSA9PiBGXG4pOiBGO1xuZXhwb3J0IGZ1bmN0aW9uIHdoZW48QywgVCwgRj4oXG4gIGNvbmRpdGlvbjogQyBleHRlbmRzIEZhbHN5ID8gbmV2ZXIgOiBDLFxuICB0cnVlQ2FzZTogKGM6IEMpID0+IFQsXG4gIGZhbHNlQ2FzZT86IChjOiBDKSA9PiBGXG4pOiBUO1xuZXhwb3J0IGZ1bmN0aW9uIHdoZW48QywgVCwgRiA9IHVuZGVmaW5lZD4oXG4gIGNvbmRpdGlvbjogQyxcbiAgdHJ1ZUNhc2U6IChjOiBFeGNsdWRlPEMsIEZhbHN5PikgPT4gVCxcbiAgZmFsc2VDYXNlPzogKGM6IEV4dHJhY3Q8QywgRmFsc3k+KSA9PiBGXG4pOiBDIGV4dGVuZHMgRmFsc3kgPyBGIDogVDtcbmV4cG9ydCBmdW5jdGlvbiB3aGVuKFxuICBjb25kaXRpb246IHVua25vd24sXG4gIHRydWVDYXNlOiAoYzogdW5rbm93bikgPT4gdW5rbm93bixcbiAgZmFsc2VDYXNlPzogKGM6IHVua25vd24pID0+IHVua25vd25cbik6IHVua25vd24ge1xuICByZXR1cm4gY29uZGl0aW9uID8gdHJ1ZUNhc2UoY29uZGl0aW9uKSA6IGZhbHNlQ2FzZT8uKGNvbmRpdGlvbik7XG59XG4iLCJpbXBvcnQge2dldERlZmluaXRpb259IGZyb20gXCIjY3VzdG9tYXJ5L0N1c3RvbWFyeURlZmluaXRpb24uanNcIjtcbmltcG9ydCB7QklORF9BVFRSSUJVVEV9IGZyb20gXCIjY3VzdG9tYXJ5L2JpbmQvQXR0cmlidXRlX2JpbmQuanNcIjtcbmltcG9ydCB7QWRkRXZlbnRMaXN0ZW5lcn0gZnJvbSBcIiNjdXN0b21hcnkvZXZlbnRzL0FkZEV2ZW50TGlzdGVuZXIuanNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGFkZEV2ZW50TGlzdGVuZXJzRm9yQmluZGluZ3MoY3VzdG9tRWxlbWVudDogSFRNTEVsZW1lbnQpIHtcblx0Y29uc3QgZGVmaW5pdGlvbiA9IGdldERlZmluaXRpb24oY3VzdG9tRWxlbWVudCk7XG5cblx0Y29uc3QgYXR0cmlidXRlczogc3RyaW5nW10gPSBkZWZpbml0aW9uLmF0dHJpYnV0ZXMuYXR0cmlidXRlcztcblx0aWYgKCFhdHRyaWJ1dGVzKSByZXR1cm47XG5cblx0Zm9yIChjb25zdCBhdHRyaWJ1dGUgb2YgYXR0cmlidXRlcykge1xuXHRcdG5ldyBBZGRFdmVudExpc3RlbmVyKHtcblx0XHRcdGN1c3RvbUVsZW1lbnQsXG5cdFx0XHRzZWxlY3RvcjogYFske0JJTkRfQVRUUklCVVRFfT1cIiR7YXR0cmlidXRlfVwiXWAsXG5cdFx0XHR0eXBlOiAnaW5wdXQnLFxuXHRcdFx0bGlzdGVuZXI6IChlbDogSFRNTEVsZW1lbnQsIGU6IEV2ZW50KSA9PlxuXHRcdFx0XHRtYXRjaEF0dHJpYnV0ZVRvSW5wdXQoZWwsIGF0dHJpYnV0ZSwgZSksXG5cdFx0fSkuZXhlY3V0ZSgpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIG1hdGNoQXR0cmlidXRlVG9JbnB1dChcbiAgICBlbGVtZW50OiBIVE1MRWxlbWVudCxcbiAgICBhdHRyaWJ1dGU6IHN0cmluZyxcbiAgICBlOiBFdmVudCxcbikge1xuICAgIGNvbnN0IGlucHV0OiBIVE1MSW5wdXRFbGVtZW50ID0gPEhUTUxJbnB1dEVsZW1lbnQ+ZS5jb21wb3NlZFBhdGgoKVswXTtcbiAgICAoPGFueT5lbGVtZW50KVthdHRyaWJ1dGVdID0gaW5wdXQudHlwZSA9PT0gJ2NoZWNrYm94JyA/IChpbnB1dC5jaGVja2VkID8gJ3RydWUnIDogJ2ZhbHNlJykgOiBpbnB1dC52YWx1ZTtcbn1cbiIsImV4cG9ydCBjbGFzcyBBZGRFdmVudExpc3RlbmVyIHtcbiAgICBjb25zdHJ1Y3RvclxuICAgIChcbiAgICAgICAgcHJpdmF0ZSByZWFkb25seSBvcHRpb25zOiB7XG4gICAgICAgICAgICBjdXN0b21FbGVtZW50OiBIVE1MRWxlbWVudCxcbiAgICAgICAgICAgIHNlbGVjdG9yPzogc3RyaW5nLFxuICAgICAgICAgICAgdHlwZTogc3RyaW5nIHwgdW5kZWZpbmVkLFxuICAgICAgICAgICAgbGlzdGVuZXI6IChlbDogSFRNTEVsZW1lbnQsIGU6IEV2ZW50LCB0OiBFdmVudFRhcmdldCkgPT4gdm9pZCxcbiAgICAgICAgfVxuICAgICkge31cblxuICAgIGV4ZWN1dGUoKSB7XG4gICAgICAgIGNvbnN0IHtjdXN0b21FbGVtZW50LCBsaXN0ZW5lcn0gPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHNlbGVjdG9yOiBzdHJpbmcgfCB1bmRlZmluZWQgPSB0aGlzLm9wdGlvbnMuc2VsZWN0b3I7XG4gICAgICAgIGNvbnN0IHR5cGUgPSB0aGlzLm9wdGlvbnMudHlwZSA/PyBERUZBVUxUX0VWRU5UX1RZUEU7XG5cbiAgICAgICAgaWYgKCFzZWxlY3Rvcikge1xuICAgICAgICAgICAgY3VzdG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICAgICAgKGV2ZW50OiBFdmVudCkgPT4gbGlzdGVuZXIoY3VzdG9tRWxlbWVudCwgZXZlbnQsIGV2ZW50LnRhcmdldCEpXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY3VzdG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgIChldmVudDogRXZlbnQpID0+IHRoaXMuZG9JZkV2ZW50RGVsZWdhdGlvbk1hdGNoZXMoZXZlbnQsIHNlbGVjdG9yLCBsaXN0ZW5lciwgY3VzdG9tRWxlbWVudClcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGRvSWZFdmVudERlbGVnYXRpb25NYXRjaGVzKFxuICAgICAgICBldmVudDogRXZlbnQsXG4gICAgICAgIHNlbGVjdG9yOiBzdHJpbmcsXG4gICAgICAgIGxpc3RlbmVyOiAoZWw6IEhUTUxFbGVtZW50LCBlOiBFdmVudCwgdGFyZ2V0OiBFdmVudFRhcmdldCkgPT4gdm9pZCxcbiAgICAgICAgY3VzdG9tRWxlbWVudDogSFRNTEVsZW1lbnRcbiAgICApIHtcbiAgICAgICAgY29uc3QgY29tcG9zZWRQYXRoID0gZXZlbnQuY29tcG9zZWRQYXRoKCk7XG5cbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gY29tcG9zZWRQYXRoWzBdO1xuXG4gICAgICAgIGNvbnN0IG1hdGNoZXNFdmVudERlbGVnYXRpb24gPVxuICAgICAgICAgICAgdGFyZ2V0IGluc3RhbmNlb2YgRWxlbWVudFxuICAgICAgICAgICAgICAgID8gISF0YXJnZXQuY2xvc2VzdChzZWxlY3RvcilcbiAgICAgICAgICAgICAgICA6IGZhbHNlO1xuXG4gICAgICAgIGlmIChtYXRjaGVzRXZlbnREZWxlZ2F0aW9uKSB7XG4gICAgICAgICAgICBsaXN0ZW5lcihjdXN0b21FbGVtZW50LCBldmVudCwgdGFyZ2V0KTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuY29uc3QgREVGQVVMVF9FVkVOVF9UWVBFID0gJ2NsaWNrJztcbiIsImltcG9ydCB7Z2V0RGVmaW5pdGlvbn0gZnJvbSBcIiNjdXN0b21hcnkvQ3VzdG9tYXJ5RGVmaW5pdGlvbi5qc1wiO1xuaW1wb3J0IHtBZGRFdmVudExpc3RlbmVyfSBmcm9tIFwiI2N1c3RvbWFyeS9ldmVudHMvQWRkRXZlbnRMaXN0ZW5lci5qc1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gYWRkRXZlbnRMaXN0ZW5lcnMoY3VzdG9tRWxlbWVudDogSFRNTEVsZW1lbnQpIHtcblx0Y29uc3QgZGVmaW5pdGlvbiA9IGdldERlZmluaXRpb24oY3VzdG9tRWxlbWVudCk7XG5cblx0Y29uc3QgZXZlbnRzID1cblx0XHRkZWZpbml0aW9uLmRlY2xhcmF0aW9uLmhvb2tzPy5ldmVudHM7XG5cdGlmICghZXZlbnRzKSByZXR1cm47XG5cblx0Y29uc3Qgb3BzOiBBcnJheTxBZGRFdmVudExpc3RlbmVyPiA9XG5cdFx0ZXZlbnRzIGluc3RhbmNlb2YgQXJyYXlcblx0XHRcdD8gZXZlbnRzQXJyYXlUb09wcyhjdXN0b21FbGVtZW50LCBldmVudHMpXG5cdFx0XHQ6IGV2ZW50c1JlY29yZFRvT3BzKGN1c3RvbUVsZW1lbnQsIGV2ZW50cyk7XG5cblx0Zm9yIChjb25zdCBvcCBvZiBvcHMpIHtcblx0XHRvcC5leGVjdXRlKCk7XG5cdH1cbn1cblxuZnVuY3Rpb24gZXZlbnRzQXJyYXlUb09wcyhcblx0Y3VzdG9tRWxlbWVudDogSFRNTEVsZW1lbnQsXG5cdGV2ZW50czogQXJyYXk8XG5cdFx0e1xuXHRcdFx0c2VsZWN0b3I/OiBzdHJpbmc7XG5cdFx0XHR0eXBlPzogc3RyaW5nO1xuXHRcdFx0bGlzdGVuZXI6IChlbDogSFRNTEVsZW1lbnQsIGV2ZW50OiBFdmVudCwgdDogRXZlbnRUYXJnZXQpID0+IHZvaWQ7XG5cdFx0fVxuXHQ+XG4pOiBBcnJheTxBZGRFdmVudExpc3RlbmVyPiB7XG5cdHJldHVybiBldmVudHNcblx0XHQubWFwKGN1c3RvbWFyeUV2ZW50ID0+XG5cdFx0XHRuZXcgQWRkRXZlbnRMaXN0ZW5lcih7XG5cdFx0XHRcdGN1c3RvbUVsZW1lbnQsXG5cdFx0XHRcdHNlbGVjdG9yOiBjdXN0b21hcnlFdmVudC5zZWxlY3Rvcixcblx0XHRcdFx0dHlwZTogY3VzdG9tYXJ5RXZlbnQudHlwZSxcblx0XHRcdFx0bGlzdGVuZXI6IGN1c3RvbWFyeUV2ZW50Lmxpc3RlbmVyLFxuXHRcdFx0fSlcblx0XHQpO1xufVxuXG5mdW5jdGlvbiBldmVudHNSZWNvcmRUb09wcyhcblx0Y3VzdG9tRWxlbWVudDogSFRNTEVsZW1lbnQsXG5cdGV2ZW50czogUmVjb3JkPFxuXHRcdHN0cmluZyxcblx0XHQoZWw6IEhUTUxFbGVtZW50LCBldmVudDogRXZlbnQsIHQ6IEV2ZW50VGFyZ2V0KSA9PiB2b2lkXG5cdD5cbik6IEFycmF5PEFkZEV2ZW50TGlzdGVuZXI+IHtcblx0cmV0dXJuIE9iamVjdC5lbnRyaWVzKGV2ZW50cylcblx0XHQubWFwKChbc2VsZWN0b3IsIGxpc3RlbmVyXSkgPT5cblx0XHRcdG5ldyBBZGRFdmVudExpc3RlbmVyKHtcblx0XHRcdFx0Y3VzdG9tRWxlbWVudCxcblx0XHRcdFx0c2VsZWN0b3IsXG5cdFx0XHRcdHR5cGU6IHVuZGVmaW5lZCxcblx0XHRcdFx0bGlzdGVuZXIsXG5cdFx0XHR9KVxuXHRcdCk7XG59XG4iLCJpbXBvcnQge0xpdEVsZW1lbnR9IGZyb20gJyNjdXN0b21hcnkvbGl0JztcbmltcG9ydCB7Q3VzdG9tYXJ5RGVmaW5pdGlvbiwgZ2V0RGVmaW5pdGlvbn0gZnJvbSBcIiNjdXN0b21hcnkvQ3VzdG9tYXJ5RGVmaW5pdGlvbi5qc1wiO1xuaW1wb3J0IHtjb2xsZWN0X2ZvbnRfbG9jYXRpb25zLCBnZXRfaW1wb3J0X21ldGF9IGZyb20gXCIjY3VzdG9tYXJ5L0N1c3RvbWFyeURlZmluZS5qc1wiO1xuaW1wb3J0IHtyZXNvbHZlTG9jYXRpb259IGZyb20gXCIjY3VzdG9tYXJ5L2V4dGVybmFsL0V4dGVybmFsTG9hZGVyLmpzXCI7XG5cbnR5cGUgQ29uc3RydWN0b3I8VCA9IHt9PiA9IG5ldyAoLi4uYXJnczogYW55W10pID0+IFQ7XG5cbmV4cG9ydCBmdW5jdGlvbiBNaXhpbl9hZG9wdFN0eWxlU2hlZXRcbjxUIGV4dGVuZHMgQ29uc3RydWN0b3I8TGl0RWxlbWVudD4+KHN1cGVyQ2xhc3M6IFQpOiBUIHtcblx0Y2xhc3MgTWl4aW5fYWRvcHRTdHlsZVNoZWV0X0NsYXNzIGV4dGVuZHMgc3VwZXJDbGFzcyB7XG5cdFx0Ly8gbm9pbnNwZWN0aW9uIEpTVW51c2VkR2xvYmFsU3ltYm9sc1xuXHRcdG92ZXJyaWRlIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuXHRcdFx0c3VwZXIuY29ubmVjdGVkQ2FsbGJhY2s/LigpO1xuXG5cdFx0XHRjb25zdCBkZWZpbml0aW9uID0gZ2V0RGVmaW5pdGlvbih0aGlzKTtcblxuXHRcdFx0dGhpcy5saW5rX2V4dGVybmFsX2NzcyhkZWZpbml0aW9uKTtcblxuXHRcdFx0dGhpcy5saW5rX2ZvbnRzKGRlZmluaXRpb24pO1xuXHRcdH1cblxuXHRcdHByaXZhdGUgbGlua19leHRlcm5hbF9jc3MoZGVmaW5pdGlvbjogQ3VzdG9tYXJ5RGVmaW5pdGlvbjxhbnk+KSB7XG5cdFx0XHRpZiAoZGVmaW5pdGlvbi50ZW1wbGF0ZUluRG9jdW1lbnQpIHJldHVybjtcblxuXHRcdFx0Y29uc3QgZGVjbGFyYXRpb24gPSBkZWZpbml0aW9uLmRlY2xhcmF0aW9uO1xuXG5cdFx0XHRpZiAoZGVjbGFyYXRpb24uaG9va3M/LmV4dGVybmFsTG9hZGVyPy5jc3NfZG9udCkgcmV0dXJuO1xuXG5cdFx0XHRjb25zdCBpbXBvcnRfbWV0YSA9IGdldF9pbXBvcnRfbWV0YShkZWNsYXJhdGlvbik7XG5cdFx0XHRjb25zdCBuYW1lID0gZGVjbGFyYXRpb24ubmFtZSE7XG5cblx0XHRcdGNvbnN0IGxvY2F0aW9uOiBzdHJpbmcgPSByZXNvbHZlTG9jYXRpb24oe1xuXHRcdFx0XHRpbXBvcnRfbWV0YSxcblx0XHRcdFx0bmFtZSxcblx0XHRcdFx0ZXh0ZW5zaW9uOiAnY3NzJyxcblx0XHRcdH0pO1xuXG5cdFx0XHRjb25zdCBzaGFkb3dSb290OiBTaGFkb3dSb290IHwgbnVsbCA9IGZpbmROZWFyZXN0U2hhZG93Um9vdCh0aGlzKTtcblxuXHRcdFx0YXBwZW5kTGlua0VsZW1lbnQoc2hhZG93Um9vdCB8fCBkb2N1bWVudCwge2hyZWY6IGxvY2F0aW9uLCBpZDogbmFtZX0pO1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIGFkb3B0ZXIgb2YgZm9udCBzdHlsZXNoZWV0cyBjYW4gb25seSBiZSB0aGUgcm9vdCBkb2N1bWVudCBkb20sIG5vdCB0aGUgc2hhZG93IGRvbS5cblx0XHQgKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvdnNjb2RlL2lzc3Vlcy8xNTk4NzcjaXNzdWVjb21tZW50LTEyNjI4NDM5NTJcblx0XHQgKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9tZG4vaW50ZXJhY3RpdmUtZXhhbXBsZXMvaXNzdWVzLzg4NyNpc3N1ZWNvbW1lbnQtNDMyNjA2OTI1XG5cdFx0ICovXG5cdFx0cHJpdmF0ZSBsaW5rX2ZvbnRzKGRlZmluaXRpb246IEN1c3RvbWFyeURlZmluaXRpb248YW55Pikge1xuXHRcdFx0Y29uc3QgZGVjbGFyYXRpb24gPSBkZWZpbml0aW9uLmRlY2xhcmF0aW9uO1xuXG5cdFx0XHRjb25zdCBsb2NhdGlvbnMgPSBjb2xsZWN0X2ZvbnRfbG9jYXRpb25zKGRlY2xhcmF0aW9uKTtcblxuXHRcdFx0aWYgKCFsb2NhdGlvbnMpIHJldHVybjtcblxuXHRcdFx0Zm9yIChjb25zdCBsb2NhdGlvbiBvZiBsb2NhdGlvbnMpIHtcblx0XHRcdFx0YXBwZW5kTGlua0VsZW1lbnQoZG9jdW1lbnQsIHtocmVmOiBsb2NhdGlvbiwgaWQ6IGBjdXN0b21hcnktZm9udExvY2F0aW9uLSR7bG9jYXRpb259YH0pO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRyZXR1cm4gTWl4aW5fYWRvcHRTdHlsZVNoZWV0X0NsYXNzO1xufVxuXG5mdW5jdGlvbiBhcHBlbmRMaW5rRWxlbWVudChcblx0aG9zdDogU2hhZG93Um9vdCB8IERvY3VtZW50LFxuXHRvcHRpb25zOiB7XG5cdFx0aHJlZjogc3RyaW5nLFxuXHRcdGlkOiBzdHJpbmcsXG5cdH1cbilcbntcblx0Y29uc3QgaWQgPSBvcHRpb25zLmlkO1xuXG5cdGNvbnN0IGV4aXN0cyA9IGhvc3QgaW5zdGFuY2VvZiBTaGFkb3dSb290ID8gaG9zdC5nZXRFbGVtZW50QnlJZChpZCkgOiBob3N0LmdldEVsZW1lbnRCeUlkKGlkKTtcblxuXHRpZiAoZXhpc3RzKSByZXR1cm47XG5cblx0Y29uc3Qgbm9kZSA9IGhvc3QgaW5zdGFuY2VvZiBTaGFkb3dSb290ID8gaG9zdCA6IGhvc3QuaGVhZDtcblxuXHRjb25zdCBsaW5rRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpbmsnKTtcblx0bGlua0VsZW1lbnQuaHJlZiA9IG9wdGlvbnMuaHJlZjtcblx0bGlua0VsZW1lbnQuaWQgPSBpZDtcblx0bGlua0VsZW1lbnQucmVsID0gJ3N0eWxlc2hlZXQnO1xuXHRsaW5rRWxlbWVudC50eXBlID0gJ3RleHQvY3NzJztcblxuXHRub2RlLmFwcGVuZENoaWxkKGxpbmtFbGVtZW50KTtcbn1cblxuZnVuY3Rpb24gZmluZE5lYXJlc3RTaGFkb3dSb290KGVsZW1lbnQ6IEVsZW1lbnQpOiBTaGFkb3dSb290IHwgbnVsbCB7XG5cdGlmIChlbGVtZW50LnNoYWRvd1Jvb3QpIHJldHVybiBlbGVtZW50LnNoYWRvd1Jvb3Q7XG5cdGxldCBwYXJlbnROb2RlID0gZWxlbWVudC5wYXJlbnROb2RlO1xuXHR3aGlsZSAocGFyZW50Tm9kZSkge1xuXHRcdGlmIChwYXJlbnROb2RlIGluc3RhbmNlb2YgU2hhZG93Um9vdCkge1xuXHRcdFx0cmV0dXJuIHBhcmVudE5vZGU7XG5cdFx0fVxuXHRcdHBhcmVudE5vZGUgPSBwYXJlbnROb2RlLnBhcmVudE5vZGU7XG5cdH1cblx0cmV0dXJuIG51bGw7XG59XG4iLCJpbXBvcnQge0xpdEVsZW1lbnR9IGZyb20gJyNjdXN0b21hcnkvbGl0JztcbmltcG9ydCB7Z2V0RGVmaW5pdGlvbn0gZnJvbSBcIiNjdXN0b21hcnkvQ3VzdG9tYXJ5RGVmaW5pdGlvbi5qc1wiO1xuXG50eXBlIENvbnN0cnVjdG9yPFQgPSB7fT4gPSBuZXcgKC4uLmFyZ3M6IGFueVtdKSA9PiBUO1xuXG5leHBvcnQgZnVuY3Rpb24gTWl4aW5fYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrXG5cdFx0PFQgZXh0ZW5kcyBDb25zdHJ1Y3RvcjxMaXRFbGVtZW50Pj4oc3VwZXJDbGFzczogVCk6IFQge1xuXHRjbGFzcyBNaXhpbl9hdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2tfQ2xhc3MgZXh0ZW5kcyBzdXBlckNsYXNzIHtcblx0XHQvLyBub2luc3BlY3Rpb24gSlNVbnVzZWRHbG9iYWxTeW1ib2xzXG5cdFx0b3ZlcnJpZGUgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKG5hbWU6IHN0cmluZywgb2xkVmFsdWU6IHN0cmluZyB8IG51bGwsIG5ld1ZhbHVlOiBzdHJpbmcgfCBudWxsKSB7XG5cdFx0XHRzdXBlci5hdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2sobmFtZSwgb2xkVmFsdWUsIG5ld1ZhbHVlKTtcblxuXHRcdFx0Y29uc3QgZGVmaW5pdGlvbiA9IGdldERlZmluaXRpb24odGhpcyk7XG5cblx0XHRcdGRlZmluaXRpb24uZGVjbGFyYXRpb24uaG9va3M/LmRvbT8uYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrXG5cdFx0XHRcdFx0Py4odGhpcywgbmFtZSwgb2xkVmFsdWUsIG5ld1ZhbHVlKTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIE1peGluX2F0dHJpYnV0ZUNoYW5nZWRDYWxsYmFja19DbGFzcztcbn1cbiIsImltcG9ydCB7Z2V0RGVmaW5pdGlvbn0gZnJvbSBcIiNjdXN0b21hcnkvQ3VzdG9tYXJ5RGVmaW5pdGlvbi5qc1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gZXhlY3V0ZV9ob29rX2Nvbm5lY3RlZChlbGVtZW50OiBIVE1MRWxlbWVudCkge1xuICAgIGNvbnN0IGRlZmluaXRpb24gPSBnZXREZWZpbml0aW9uKGVsZW1lbnQpO1xuXG4gICAgZGVmaW5pdGlvbi5kZWNsYXJhdGlvbi5ob29rcz8ubGlmZWN5Y2xlPy5jb25uZWN0ZWQ/LihlbGVtZW50KTtcbn1cbiIsImltcG9ydCB7TGl0RWxlbWVudH0gZnJvbSAnI2N1c3RvbWFyeS9saXQnO1xuaW1wb3J0IHtnZXREZWZpbml0aW9ufSBmcm9tIFwiI2N1c3RvbWFyeS9DdXN0b21hcnlEZWZpbml0aW9uLmpzXCI7XG5cbnR5cGUgQ29uc3RydWN0b3I8VCA9IHt9PiA9IG5ldyAoLi4uYXJnczogYW55W10pID0+IFQ7XG5cbmV4cG9ydCBmdW5jdGlvbiBNaXhpbl9kaXNjb25uZWN0ZWRcblx0XHQ8VCBleHRlbmRzIENvbnN0cnVjdG9yPExpdEVsZW1lbnQ+PihzdXBlckNsYXNzOiBUKTogVCB7XG5cdFx0XHRjbGFzcyBNaXhpbl9kaXNjb25uZWN0ZWRfQ2xhc3MgZXh0ZW5kcyBzdXBlckNsYXNzIHtcblx0XHRcdFx0Ly8gbm9pbnNwZWN0aW9uIEpTVW51c2VkR2xvYmFsU3ltYm9sc1xuXHRcdFx0XHRvdmVycmlkZSBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcblx0XHRcdFx0XHRzdXBlci5kaXNjb25uZWN0ZWRDYWxsYmFjaz8uKCk7XG5cblx0XHRcdFx0XHRjb25zdCBkZWZpbml0aW9uID0gZ2V0RGVmaW5pdGlvbih0aGlzKTtcblxuXHRcdFx0XHRcdGRlZmluaXRpb24uZGVjbGFyYXRpb24uaG9va3M/LmxpZmVjeWNsZT8uZGlzY29ubmVjdGVkPy4odGhpcyk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiBNaXhpbl9kaXNjb25uZWN0ZWRfQ2xhc3M7XG5cdFx0fVxuIiwiaW1wb3J0IHtMaXRFbGVtZW50fSBmcm9tICcjY3VzdG9tYXJ5L2xpdCc7XG5pbXBvcnQge1Byb3BlcnR5VmFsdWVzfSBmcm9tIFwiQGxpdC9yZWFjdGl2ZS1lbGVtZW50XCI7XG5pbXBvcnQge2dldERlZmluaXRpb259IGZyb20gXCIjY3VzdG9tYXJ5L0N1c3RvbWFyeURlZmluaXRpb24uanNcIjtcblxudHlwZSBDb25zdHJ1Y3RvcjxUID0ge30+ID0gbmV3ICguLi5hcmdzOiBhbnlbXSkgPT4gVDtcblxuZXhwb3J0IGZ1bmN0aW9uIE1peGluX2ZpcnN0VXBkYXRlZFxuXHRcdDxUIGV4dGVuZHMgQ29uc3RydWN0b3I8TGl0RWxlbWVudD4+KHN1cGVyQ2xhc3M6IFQpOiBUIHtcblx0XHRcdGNsYXNzIE1peGluX2ZpcnN0VXBkYXRlZF9DbGFzcyBleHRlbmRzIHN1cGVyQ2xhc3Mge1xuXHRcdFx0XHQvLyBub2luc3BlY3Rpb24gSlNVbnVzZWRHbG9iYWxTeW1ib2xzXG5cdFx0XHRcdHByb3RlY3RlZCBvdmVycmlkZSBmaXJzdFVwZGF0ZWQoY2hhbmdlZFByb3BlcnRpZXM6IFByb3BlcnR5VmFsdWVzKSB7XG5cdFx0XHRcdFx0c3VwZXIuZmlyc3RVcGRhdGVkPy4oY2hhbmdlZFByb3BlcnRpZXMpO1xuXG5cdFx0XHRcdFx0Y29uc3QgZGVmaW5pdGlvbiA9IGdldERlZmluaXRpb24odGhpcyk7XG5cblx0XHRcdFx0XHRjb25zdCB7bGlmZWN5Y2xlLCBjaGFuZ2VzfSA9IGRlZmluaXRpb24uZGVjbGFyYXRpb24uaG9va3MgPz8ge307XG5cblx0XHRcdFx0XHRsaWZlY3ljbGU/LmZpcnN0VXBkYXRlZD8uKHRoaXMsIGNoYW5nZWRQcm9wZXJ0aWVzKTtcblxuXHRcdFx0XHRcdGlmIChjaGFuZ2VzIGluc3RhbmNlb2YgQXJyYXkpIHtcblx0XHRcdFx0XHRcdGZvciAoY29uc3QgY2hhbmdlIG9mIGNoYW5nZXMpIHtcblx0XHRcdFx0XHRcdFx0Y29uc3Qge25hbWUsIGZpcnN0VXBkYXRlZH0gPSBjaGFuZ2U7XG5cdFx0XHRcdFx0XHRcdGlmIChmaXJzdFVwZGF0ZWQgJiYgY2hhbmdlZFByb3BlcnRpZXMuaGFzKG5hbWUpKSB7XG5cdFx0XHRcdFx0XHRcdFx0Zmlyc3RVcGRhdGVkKHRoaXMsICh0aGlzIGFzIGFueSlbbmFtZV0sIGNoYW5nZWRQcm9wZXJ0aWVzLmdldChuYW1lKSk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiBNaXhpbl9maXJzdFVwZGF0ZWRfQ2xhc3M7XG5cdFx0fVxuIiwiaW1wb3J0IHtMaXRFbGVtZW50fSBmcm9tICcjY3VzdG9tYXJ5L2xpdCc7XG5pbXBvcnQge3JldXNlX2ltbXV0YWJsZV9UZW1wbGF0ZVN0cmluZ3NBcnJheX0gZnJvbSBcIiNjdXN0b21hcnkvcmVuZGVyL3JldXNlX2ltbXV0YWJsZV9UZW1wbGF0ZVN0cmluZ3NBcnJheS5qc1wiO1xuaW1wb3J0IHtyZW5kZXJfbGl0X2h0bWxfVGVtcGxhdGVSZXN1bHR9IGZyb20gXCIjY3VzdG9tYXJ5L3JlbmRlci9yZW5kZXJfbGl0X2h0bWxfVGVtcGxhdGVSZXN1bHQuanNcIjtcbmltcG9ydCB7Z2V0RGVmaW5pdGlvbn0gZnJvbSBcIiNjdXN0b21hcnkvQ3VzdG9tYXJ5RGVmaW5pdGlvbi5qc1wiO1xuaW1wb3J0IHtVbmNvbXBpbGVkVGVtcGxhdGVSZXN1bHR9IGZyb20gXCJsaXQtaHRtbFwiO1xuXG50eXBlIENvbnN0cnVjdG9yPFQgPSB7fT4gPSBuZXcgKC4uLmFyZ3M6IGFueVtdKSA9PiBUO1xuXG5leHBvcnQgZnVuY3Rpb24gTWl4aW5fcmVuZGVyRnJvbVRlbXBsYXRlXG5cdFx0PFQgZXh0ZW5kcyBDb25zdHJ1Y3RvcjxMaXRFbGVtZW50Pj4oc3VwZXJDbGFzczogVCk6IFQge1xuXHRcdFx0Y2xhc3MgTWl4aW5fcmVuZGVyRnJvbVRlbXBsYXRlX0NsYXNzIGV4dGVuZHMgc3VwZXJDbGFzcyB7XG5cdFx0XHRcdC8vIG5vaW5zcGVjdGlvbiBKU1VudXNlZEdsb2JhbFN5bWJvbHNcblx0XHRcdFx0cHJvdGVjdGVkIG92ZXJyaWRlIHJlbmRlcigpOiB1bmtub3duIHtcblx0XHRcdFx0XHRjb25zdCBkZWZpbml0aW9uID0gZ2V0RGVmaW5pdGlvbih0aGlzKTtcblxuXHRcdFx0XHRcdHJldHVybiByZW5kZXJfbGl0X2h0bWxfVGVtcGxhdGVSZXN1bHQoXG5cdFx0XHRcdFx0XHR0aGlzLFxuXHRcdFx0XHRcdFx0ZGVmaW5pdGlvbi5pbW11dGFibGVfaHRtbFN0cmluZyxcblx0XHRcdFx0XHRcdCh0aGlzIGFzIGFueSkuc3RhdGVcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBNaXhpbl9yZW5kZXJGcm9tVGVtcGxhdGVfQ2xhc3MgYXMgVDtcblx0XHR9XG4iLCJpbXBvcnQge2Nob29zZSwgY2xhc3NNYXAsIGh0bWwsIG1hcCwgcmVwZWF0LCB3aGVufSBmcm9tIFwiI2N1c3RvbWFyeS9saXRcIjtcbmltcG9ydCB7VW5jb21waWxlZFRlbXBsYXRlUmVzdWx0fSBmcm9tIFwibGl0LWh0bWxcIjtcbmltcG9ydCB7cmV1c2VfaW1tdXRhYmxlX1RlbXBsYXRlU3RyaW5nc0FycmF5fSBmcm9tIFwiI2N1c3RvbWFyeS9yZW5kZXIvcmV1c2VfaW1tdXRhYmxlX1RlbXBsYXRlU3RyaW5nc0FycmF5LmpzXCI7XG5cbi8qKlxuIGxpdCBcImh0bWxcIiBpcyBhIHRhZyBmdW5jdGlvbi5cbiBhdCBydW50aW1lLCB0aGUgdGFnZ2VkIHRlbXBsYXRlIGNvbWVzIGZyb20gaHRtbFN0cmluZy5cbiBvbmx5IEpTIGNvbXBpbGF0aW9uIGNhbiBwYXJzZSB0aGUgdGFnZ2VkIHRlbXBsYXRlIGludG8gYSBwcm9wZXIgZnVuY3Rpb24gY2FsbCxcbiBzbyB3ZSBuZWVkIEpTIGNvbXBpbGF0aW9uIHRvIGhhcHBlbiBhdCBydW50aW1lLlxuIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL1RlbXBsYXRlX2xpdGVyYWxzI3RhZ2dlZF90ZW1wbGF0ZXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbmRlcl9saXRfaHRtbF9UZW1wbGF0ZVJlc3VsdChcbiAgICBlbGVtZW50OiBIVE1MRWxlbWVudCxcbiAgICBodG1sU3RyaW5nOiBzdHJpbmcsXG4gICAgc3RhdGU6IGFueSxcbik6IFVuY29tcGlsZWRUZW1wbGF0ZVJlc3VsdFxue1xuICAgIGZ1bmN0aW9uIGN1c3RvbWFyeV9saXRfaHRtbF90cmFjayhodG1sX291dHB1dDogVW5jb21waWxlZFRlbXBsYXRlUmVzdWx0KTogVW5jb21waWxlZFRlbXBsYXRlUmVzdWx0IHtcbiAgICAgICAgcmV1c2VfaW1tdXRhYmxlX1RlbXBsYXRlU3RyaW5nc0FycmF5KGVsZW1lbnQsIGh0bWxfb3V0cHV0KTtcbiAgICAgICAgcmV0dXJuIGh0bWxfb3V0cHV0O1xuICAgIH1cblxuICAgIGNvbnN0IHRoaXNBcmc6IEhUTUxFbGVtZW50ID0gZWxlbWVudDtcbiAgICBjb25zdCBmbiA9IG5ldyBGdW5jdGlvbihcbiAgICAgICAgJ2N1c3RvbWFyeV9saXRfaHRtbF90cmFjaycsXG4gICAgICAgICdzdGF0ZScsICdodG1sJywgJ2Nob29zZScsICdjbGFzc01hcCcsICdtYXAnLCAncmVwZWF0JywgJ3doZW4nLFxuICAgICAgICAnXCJ1c2Ugc3RyaWN0XCI7IHJldHVybiBjdXN0b21hcnlfbGl0X2h0bWxfdHJhY2soIGh0bWxcXGAnICsgaHRtbFN0cmluZyArICdcXGAnICsgJyApJ1xuICAgICk7XG4gICAgcmV0dXJuIGZuLmNhbGwoXG4gICAgICAgIHRoaXNBcmcsXG4gICAgICAgIGN1c3RvbWFyeV9saXRfaHRtbF90cmFjayxcbiAgICAgICAgc3RhdGUsIGh0bWwsIGNob29zZSwgY2xhc3NNYXAsIG1hcCwgcmVwZWF0LCB3aGVuXG4gICAgKTtcbn1cbiIsImltcG9ydCB7VW5jb21waWxlZFRlbXBsYXRlUmVzdWx0fSBmcm9tIFwibGl0LWh0bWxcIjtcblxuLyoqXG4gKiBodHRwczovL2dpdGh1Yi5jb20vbGl0L2xpdC9ibG9iLzQzYzYxNjhhY2M0YTMwZDcwMDkxZWUzMGMzMDdmNjkyYTAyMzg3ZDUvcGFja2FnZXMvbGl0LWh0bWwvc3JjL2xpdC1odG1sLnRzI0w2ODhcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9saXQvbGl0L2Jsb2IvNDNjNjE2OGFjYzRhMzBkNzAwOTFlZTMwYzMwN2Y2OTJhMDIzODdkNS9wYWNrYWdlcy9saXQtaHRtbC9zcmMvdGVzdC9saXQtaHRtbF90ZXN0LnRzI0wzMjAwLUwzMjE4XG4gKiBodHRwczovL2dpdGh1Yi5jb20vbGl0L2xpdC9wdWxsLzM5ODcvZmlsZXMjZGlmZi1iZWFkNDViYjQzY2RhNDc0ZDkxNjcwNDU1MGExYjI2MzIyNjY3YWE0MmI4MTRjNDgzMDBiMDViZTc5YjlhN2ViUjU5NVxuICogaHR0cHM6Ly9naXRodWIuY29tL2xpdC9saXQvcHVsbC8yMzA3L2ZpbGVzI2RpZmYtOTFkODI3ODZkOTlkYTE3MTZiOGIyZTAyNTM0ZjBlOTY3ZTliN2YyZjUzOWFjYjdiNzEyZjY5MDAwOTRiNjI2M1xuICovXG5jb25zdCBLRVkgPVx0J19fY3VzdG9tYXJ5X19pbW11dGFibGVfVGVtcGxhdGVTdHJpbmdzQXJyYXlfaW5zdGFuY2VzJztcblxuZXhwb3J0IGZ1bmN0aW9uIHJldXNlX2ltbXV0YWJsZV9UZW1wbGF0ZVN0cmluZ3NBcnJheShcbiAgICBlbGVtZW50OiBhbnksXG4gICAgdGVtcGxhdGU6IFVuY29tcGlsZWRUZW1wbGF0ZVJlc3VsdFxuKVxue1xuICAgIGNvbnN0IGltbXV0YWJsZXM6IEFycmF5PFRlbXBsYXRlU3RyaW5nc0FycmF5PiB8IHVuZGVmaW5lZCA9ICg8YW55PmVsZW1lbnQpW0tFWV07XG5cbiAgICBpZiAoIWltbXV0YWJsZXMpIHtcbiAgICAgICAgKDxhbnk+ZWxlbWVudClbS0VZXSA9IFt0ZW1wbGF0ZS5zdHJpbmdzXTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGV4aXN0aW5nOiBUZW1wbGF0ZVN0cmluZ3NBcnJheSB8IHVuZGVmaW5lZCA9IGltbXV0YWJsZXMuZmluZChcbiAgICAgICAgc3RyaW5ncyA9PiBhcmVSZWFkb25seUFycmF5c0VxdWFsKHN0cmluZ3MsIHRlbXBsYXRlLnN0cmluZ3MpXG4gICAgKTtcblxuICAgIGlmICghZXhpc3RpbmcpIHtcbiAgICAgICAgaW1tdXRhYmxlcy5wdXNoKHRlbXBsYXRlLnN0cmluZ3MpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gcmV1c2UgdGhlIG9yaWdpbmFsIGFycmF5IGluc3RhbmNlLCBvdGhlcndpc2UgdGhlIHRlbXBsYXRlIHdpbGwgcmVyZW5kZXJcbiAgICAgICAgdGVtcGxhdGUuc3RyaW5ncyA9IGV4aXN0aW5nO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gYXJlUmVhZG9ubHlBcnJheXNFcXVhbDxUPihhOiBSZWFkb25seUFycmF5PFQ+LCBiOiBSZWFkb25seUFycmF5PFQ+KTogYm9vbGVhbiB7XG4gICAgaWYgKGEubGVuZ3RoICE9PSBiLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYS5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoYVtpXSAhPT0gYltpXSkgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbiIsImltcG9ydCB7TGl0RWxlbWVudH0gZnJvbSAnI2N1c3RvbWFyeS9saXQnO1xuaW1wb3J0IHtnZXREZWZpbml0aW9ufSBmcm9tIFwiI2N1c3RvbWFyeS9DdXN0b21hcnlEZWZpbml0aW9uLmpzXCI7XG5cbnR5cGUgQ29uc3RydWN0b3I8VCA9IHt9PiA9IG5ldyAoLi4uYXJnczogYW55W10pID0+IFQ7XG50eXBlIFByb3BlcnR5VmFsdWVzID0gTWFwPFByb3BlcnR5S2V5LCB1bmtub3duPjtcblxuZXhwb3J0IGZ1bmN0aW9uIE1peGluX3Nsb3RDaGFuZ2Vcblx0XHQ8VCBleHRlbmRzIENvbnN0cnVjdG9yPExpdEVsZW1lbnQ+PihzdXBlckNsYXNzOiBUKTogVCB7XG5cdFx0XHRjbGFzcyBNaXhpbl9zbG90Q2hhbmdlX0NsYXNzIGV4dGVuZHMgc3VwZXJDbGFzcyB7XG5cdFx0XHRcdC8vIG5vaW5zcGVjdGlvbiBKU1VudXNlZEdsb2JhbFN5bWJvbHNcblx0XHRcdFx0cHJvdGVjdGVkIG92ZXJyaWRlIGZpcnN0VXBkYXRlZChjaGFuZ2VkUHJvcGVydGllczogUHJvcGVydHlWYWx1ZXMpIHtcblx0XHRcdFx0XHRzdXBlci5maXJzdFVwZGF0ZWQoY2hhbmdlZFByb3BlcnRpZXMpO1xuXG5cdFx0XHRcdFx0Y29uc3QgZWxlbWVudCA9IHRoaXM7XG5cblx0XHRcdFx0XHRjb25zdCBkZWZpbml0aW9uID0gZ2V0RGVmaW5pdGlvbihlbGVtZW50KTtcblxuXHRcdFx0XHRcdGNvbnN0IHNsb3RjaGFuZ2UgPVxuXHRcdFx0XHRcdFx0XHRkZWZpbml0aW9uLmRlY2xhcmF0aW9uLmhvb2tzPy5zbG90cz8uc2xvdGNoYW5nZTtcblxuXHRcdFx0XHRcdGlmICghc2xvdGNoYW5nZSkgcmV0dXJuO1xuXG5cdFx0XHRcdFx0Ly8gb24gZmlyc3QgcmVuZGVyLCBleGVjdXRlIG9uY2UgZm9yIHRoZSBmaXJzdCB0aW1lIHdpdGhvdXQgYW4gZXZlbnRcblx0XHRcdFx0XHRzbG90Y2hhbmdlKGVsZW1lbnQpO1xuXG5cdFx0XHRcdFx0Lypcblx0XHRcdFx0XHRodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy82NzMzMjYzNS9zbG90cy1kb2VzLW5vdC13b3JrLW9uLWEtaHRtbC13ZWItY29tcG9uZW50LXdpdGhvdXQtc2hhZG93LWRvbVxuXHRcdFx0XHRcdCovXG5cdFx0XHRcdFx0ZWxlbWVudC5zaGFkb3dSb290IS5hZGRFdmVudExpc3RlbmVyKCdzbG90Y2hhbmdlJywgZXZlbnQgPT4gc2xvdGNoYW5nZShlbGVtZW50LCBldmVudCkpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gTWl4aW5fc2xvdENoYW5nZV9DbGFzcztcblx0XHR9XG4iLCJpbXBvcnQge0xpdEVsZW1lbnR9IGZyb20gJyNjdXN0b21hcnkvbGl0JztcbmltcG9ydCB7Z2V0RGVmaW5pdGlvbn0gZnJvbSBcIiNjdXN0b21hcnkvQ3VzdG9tYXJ5RGVmaW5pdGlvbi5qc1wiO1xuXG50eXBlIENvbnN0cnVjdG9yPFQgPSB7fT4gPSBuZXcgKC4uLmFyZ3M6IGFueVtdKSA9PiBUO1xuXG5leHBvcnQgZnVuY3Rpb24gTWl4aW5fc3RhdGVcblx0XHQ8VCBleHRlbmRzIENvbnN0cnVjdG9yPExpdEVsZW1lbnQ+PihzdXBlckNsYXNzOiBUKTogVCB7XG5cdGNsYXNzIE1peGluX3N0YXRlX0NsYXNzIGV4dGVuZHMgc3VwZXJDbGFzcyB7XG5cdFx0Y29uc3RydWN0b3IoLi4uYXJnczogYW55W10pIHtcblx0XHRcdHN1cGVyKGFyZ3MpO1xuXG5cdFx0XHRjb25zdCBkZWZpbml0aW9uID0gZ2V0RGVmaW5pdGlvbih0aGlzKTtcblxuXHRcdFx0Y29uc3Qge3ZhbHVlc30gPSBkZWZpbml0aW9uLmRlY2xhcmF0aW9uO1xuXHRcdFx0aWYgKCF2YWx1ZXMpIHJldHVybjtcblxuXHRcdFx0T2JqZWN0LmFzc2lnbih0aGlzLCB2YWx1ZXMpO1xuXHRcdH1cblxuXHRcdC8vIG5vaW5zcGVjdGlvbiBKU1VudXNlZEdsb2JhbFN5bWJvbHNcblx0XHRzZXRTdGF0ZShzdGF0ZV9vcl9mbjogYW55KSB7XG5cdFx0XHRfc2V0U3RhdGUoXG5cdFx0XHRcdFx0c3RhdGVfb3JfZm4sXG5cdFx0XHRcdFx0KCkgPT4gKHRoaXMgYXMgYW55KS5zdGF0ZSxcblx0XHRcdFx0XHRzdGF0ZSA9PiAodGhpcyBhcyBhbnkpLnN0YXRlID0gc3RhdGVcblx0XHRcdCk7XG5cdFx0fVxuXHR9XG5cdHJldHVybiBNaXhpbl9zdGF0ZV9DbGFzcztcbn1cblxuZnVuY3Rpb24gX3NldFN0YXRlKHN0YXRlX29yX2ZuOiBTdGF0ZSwgZ2V0U3RhdGVGbjogR2V0U3RhdGVGbiwgc2V0U3RhdGVGbjogU2V0U3RhdGVGbikge1xuXHRpZiAoc3RhdGVfb3JfZm4gPT09IG51bGwgfHwgc3RhdGVfb3JfZm4gPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuXG5cdGNvbnN0IF9zdGF0ZSA9IGdldFN0YXRlRm4oKTtcblxuXHRjb25zdCBzdGF0ZSA9IHN0YXRlX29yX2ZuIGluc3RhbmNlb2YgRnVuY3Rpb25cblx0XHRcdD8gc3RhdGVfb3JfZm4oX3N0YXRlKVxuXHRcdFx0OiBzdGF0ZV9vcl9mbjtcblxuXHRzZXRTdGF0ZUZuKHR5cGVvZiBfc3RhdGUgPT09ICdvYmplY3QnID8gey4uLl9zdGF0ZSwgLi4uc3RhdGV9IDogc3RhdGUpO1xufVxuXG50eXBlIFN0YXRlID0gYW55O1xudHlwZSBHZXRTdGF0ZUZuID0gKCkgPT4gU3RhdGU7XG50eXBlIFNldFN0YXRlRm4gPSAoc3RhdGU6IFN0YXRlKSA9PiBTdGF0ZTtcbiIsImltcG9ydCB7TGl0RWxlbWVudH0gZnJvbSAnI2N1c3RvbWFyeS9saXQnO1xuaW1wb3J0IHtQcm9wZXJ0eVZhbHVlc30gZnJvbSBcIkBsaXQvcmVhY3RpdmUtZWxlbWVudFwiO1xuaW1wb3J0IHtnZXREZWZpbml0aW9ufSBmcm9tIFwiI2N1c3RvbWFyeS9DdXN0b21hcnlEZWZpbml0aW9uLmpzXCI7XG5cbnR5cGUgQ29uc3RydWN0b3I8VCA9IHt9PiA9IG5ldyAoLi4uYXJnczogYW55W10pID0+IFQ7XG5cbmV4cG9ydCBmdW5jdGlvbiBNaXhpbl91cGRhdGVkXG5cdFx0PFQgZXh0ZW5kcyBDb25zdHJ1Y3RvcjxMaXRFbGVtZW50Pj4oc3VwZXJDbGFzczogVCk6IFQge1xuXHRcdFx0Y2xhc3MgTWl4aW5fdXBkYXRlZF9DbGFzcyBleHRlbmRzIHN1cGVyQ2xhc3Mge1xuXHRcdFx0XHQvLyBub2luc3BlY3Rpb24gSlNVbnVzZWRHbG9iYWxTeW1ib2xzXG5cdFx0XHRcdHByb3RlY3RlZCBvdmVycmlkZSB1cGRhdGVkKGNoYW5nZWRQcm9wZXJ0aWVzOiBQcm9wZXJ0eVZhbHVlcykge1xuXHRcdFx0XHRcdHN1cGVyLnVwZGF0ZWQ/LihjaGFuZ2VkUHJvcGVydGllcyk7XG5cblx0XHRcdFx0XHRwb3N0VXBkYXRlKHRoaXMsIGNoYW5nZWRQcm9wZXJ0aWVzKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIE1peGluX3VwZGF0ZWRfQ2xhc3M7XG5cdFx0fVxuXG5cbmZ1bmN0aW9uIHBvc3RVcGRhdGUoY3VzdG9tRWxlbWVudDogTGl0RWxlbWVudCwgY2hhbmdlZFByb3BlcnRpZXM6IFByb3BlcnR5VmFsdWVzKSB7XG5cdGNvbnN0IGRlZmluaXRpb24gPSBnZXREZWZpbml0aW9uKGN1c3RvbUVsZW1lbnQpO1xuXG5cdGNvbnN0IHtsaWZlY3ljbGUsIGNoYW5nZXN9ID0gZGVmaW5pdGlvbi5kZWNsYXJhdGlvbi5ob29rcyA/PyB7fTtcblxuXHRsaWZlY3ljbGU/LnVwZGF0ZWQ/LihjdXN0b21FbGVtZW50LCBjaGFuZ2VkUHJvcGVydGllcyk7XG5cblx0aWYgKGNoYW5nZXMgaW5zdGFuY2VvZiBBcnJheSkge1xuXHRcdGZvciAoY29uc3QgY2hhbmdlIG9mIGNoYW5nZXMpIHtcblx0XHRcdGNvbnN0IHtuYW1lLCB1cGRhdGVkfSA9IGNoYW5nZTtcblx0XHRcdGlmICh1cGRhdGVkICYmIGNoYW5nZWRQcm9wZXJ0aWVzLmhhcyhuYW1lKSkge1xuXHRcdFx0XHR1cGRhdGVkKGN1c3RvbUVsZW1lbnQsIChjdXN0b21FbGVtZW50IGFzIGFueSlbbmFtZV0sIGNoYW5nZWRQcm9wZXJ0aWVzLmdldChuYW1lKSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9IGVsc2Uge1xuXHRcdGZvciAoY29uc3QgbmFtZSBpbiBjaGFuZ2VzKSB7XG5cdFx0XHRjb25zdCB1cGRhdGVkID0gY2hhbmdlc1tuYW1lXTtcblx0XHRcdGlmIChjaGFuZ2VkUHJvcGVydGllcy5oYXMobmFtZSkpIHtcblx0XHRcdFx0dXBkYXRlZChjdXN0b21FbGVtZW50LCAoY3VzdG9tRWxlbWVudCBhcyBhbnkpW25hbWVdLCBjaGFuZ2VkUHJvcGVydGllcy5nZXQobmFtZSkpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxufVxuIiwiaW1wb3J0IHtMaXRFbGVtZW50fSBmcm9tICcjY3VzdG9tYXJ5L2xpdCc7XG5pbXBvcnQge1Byb3BlcnR5VmFsdWVzfSBmcm9tIFwiQGxpdC9yZWFjdGl2ZS1lbGVtZW50XCI7XG5pbXBvcnQge2dldERlZmluaXRpb259IGZyb20gXCIjY3VzdG9tYXJ5L0N1c3RvbWFyeURlZmluaXRpb24uanNcIjtcblxudHlwZSBDb25zdHJ1Y3RvcjxUID0ge30+ID0gbmV3ICguLi5hcmdzOiBhbnlbXSkgPT4gVDtcblxuZXhwb3J0IGZ1bmN0aW9uIE1peGluX3dpbGxVcGRhdGVcblx0XHQ8VCBleHRlbmRzIENvbnN0cnVjdG9yPExpdEVsZW1lbnQ+PihzdXBlckNsYXNzOiBUKTogVCB7XG5cdFx0XHRjbGFzcyBNaXhpbl93aWxsVXBkYXRlX0NsYXNzIGV4dGVuZHMgc3VwZXJDbGFzcyB7XG5cdFx0XHRcdC8vIG5vaW5zcGVjdGlvbiBKU1VudXNlZEdsb2JhbFN5bWJvbHNcblx0XHRcdFx0cHJvdGVjdGVkIG92ZXJyaWRlIHdpbGxVcGRhdGUoY2hhbmdlZFByb3BlcnRpZXM6IFByb3BlcnR5VmFsdWVzKSB7XG5cdFx0XHRcdFx0c3VwZXIud2lsbFVwZGF0ZT8uKGNoYW5nZWRQcm9wZXJ0aWVzKTtcblxuXHRcdFx0XHRcdGNvbnN0IGRlZmluaXRpb24gPSBnZXREZWZpbml0aW9uKHRoaXMpO1xuXG5cdFx0XHRcdFx0Y29uc3Qge2xpZmVjeWNsZSwgY2hhbmdlc30gPSBkZWZpbml0aW9uLmRlY2xhcmF0aW9uLmhvb2tzID8/IHt9O1xuXG5cdFx0XHRcdFx0bGlmZWN5Y2xlPy53aWxsVXBkYXRlPy4odGhpcywgY2hhbmdlZFByb3BlcnRpZXMpO1xuXG5cdFx0XHRcdFx0aWYgKGNoYW5nZXMgaW5zdGFuY2VvZiBBcnJheSkge1xuXHRcdFx0XHRcdFx0Zm9yIChjb25zdCBjaGFuZ2Ugb2YgY2hhbmdlcykge1xuXHRcdFx0XHRcdFx0XHRjb25zdCB7bmFtZSwgd2lsbFVwZGF0ZX0gPSBjaGFuZ2U7XG5cdFx0XHRcdFx0XHRcdGlmICh3aWxsVXBkYXRlICYmIGNoYW5nZWRQcm9wZXJ0aWVzLmhhcyhuYW1lKSkge1xuXHRcdFx0XHRcdFx0XHRcdHdpbGxVcGRhdGUodGhpcywgKHRoaXMgYXMgYW55KVtuYW1lXSwgY2hhbmdlZFByb3BlcnRpZXMuZ2V0KG5hbWUpKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIE1peGluX3dpbGxVcGRhdGVfQ2xhc3M7XG5cdFx0fVxuIl0sIm5hbWVzIjpbImdsb2JhbCIsImdsb2JhbFRoaXMiLCJMaXRFbGVtZW50IiwiUmVhY3RpdmVFbGVtZW50IiwiY29uc3RydWN0b3IiLCJ0aGlzIiwicmVuZGVyT3B0aW9ucyIsImhvc3QiLCJfX2NoaWxkUGFydCIsInVuZGVmaW5lZCIsImNyZWF0ZVJlbmRlclJvb3QiLCJyZW5kZXJSb290Iiwic3VwZXIiLCJyZW5kZXJCZWZvcmUiLCJmaXJzdENoaWxkIiwidXBkYXRlIiwiY2hhbmdlZFByb3BlcnRpZXMiLCJ2YWx1ZSIsInJlbmRlciIsImhhc1VwZGF0ZWQiLCJpc0Nvbm5lY3RlZCIsImNvbm5lY3RlZENhbGxiYWNrIiwic2V0Q29ubmVjdGVkIiwiZGlzY29ubmVjdGVkQ2FsbGJhY2siLCJub0NoYW5nZSIsImxpdEVsZW1lbnRIeWRyYXRlU3VwcG9ydCIsInBvbHlmaWxsU3VwcG9ydCIsImxpdEVsZW1lbnRQb2x5ZmlsbFN1cHBvcnQiLCJfJExFIiwiXyRhdHRyaWJ1dGVUb1Byb3BlcnR5IiwiZWwiLCJuYW1lIiwiXyRjaGFuZ2VkUHJvcGVydGllcyIsImxpdEVsZW1lbnRWZXJzaW9ucyIsInB1c2giLCJpcyIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsImdldE93blByb3BlcnR5U3ltYm9scyIsImdldFByb3RvdHlwZU9mIiwiT2JqZWN0IiwidHJ1c3RlZFR5cGVzIiwiZW1wdHlTdHJpbmdGb3JCb29sZWFuQXR0cmlidXRlIiwiZW1wdHlTY3JpcHQiLCJyZWFjdGl2ZUVsZW1lbnRQb2x5ZmlsbFN1cHBvcnQiLCJKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5IiwicHJvcCIsIl9vYmoiLCJkZWZhdWx0Q29udmVydGVyIiwidG9BdHRyaWJ1dGUiLCJ0eXBlIiwiQm9vbGVhbiIsIkFycmF5IiwiSlNPTiIsInN0cmluZ2lmeSIsImZyb21BdHRyaWJ1dGUiLCJmcm9tVmFsdWUiLCJOdW1iZXIiLCJwYXJzZSIsImUiLCJub3RFcXVhbCIsIm9sZCIsImRlZmF1bHRQcm9wZXJ0eURlY2xhcmF0aW9uIiwiYXR0cmlidXRlIiwiU3RyaW5nIiwiY29udmVydGVyIiwicmVmbGVjdCIsInVzZURlZmF1bHQiLCJoYXNDaGFuZ2VkIiwiU3ltYm9sIiwibWV0YWRhdGEiLCJsaXRQcm9wZXJ0eU1ldGFkYXRhIiwiV2Vha01hcCIsIkhUTUxFbGVtZW50IiwiYWRkSW5pdGlhbGl6ZXIiLCJpbml0aWFsaXplciIsIl9fcHJlcGFyZSIsIl9pbml0aWFsaXplcnMiLCJvYnNlcnZlZEF0dHJpYnV0ZXMiLCJmaW5hbGl6ZSIsIl9fYXR0cmlidXRlVG9Qcm9wZXJ0eU1hcCIsImtleXMiLCJjcmVhdGVQcm9wZXJ0eSIsIm9wdGlvbnMiLCJzdGF0ZSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY3JlYXRlIiwid3JhcHBlZCIsImVsZW1lbnRQcm9wZXJ0aWVzIiwic2V0Iiwibm9BY2Nlc3NvciIsImtleSIsImRlc2NyaXB0b3IiLCJnZXRQcm9wZXJ0eURlc2NyaXB0b3IiLCJnZXQiLCJ2Iiwib2xkVmFsdWUiLCJjYWxsIiwicmVxdWVzdFVwZGF0ZSIsImNvbmZpZ3VyYWJsZSIsImVudW1lcmFibGUiLCJnZXRQcm9wZXJ0eU9wdGlvbnMiLCJzdXBlckN0b3IiLCJNYXAiLCJmaW5hbGl6ZWQiLCJwcm9wcyIsInByb3BlcnRpZXMiLCJwcm9wS2V5cyIsInAiLCJhdHRyIiwiX19hdHRyaWJ1dGVOYW1lRm9yUHJvcGVydHkiLCJlbGVtZW50U3R5bGVzIiwiZmluYWxpemVTdHlsZXMiLCJzdHlsZXMiLCJpc0FycmF5IiwiU2V0IiwiZmxhdCIsIkluZmluaXR5IiwicmV2ZXJzZSIsInMiLCJ1bnNoaWZ0IiwiZ2V0Q29tcGF0aWJsZVN0eWxlIiwidG9Mb3dlckNhc2UiLCJfX2luc3RhbmNlUHJvcGVydGllcyIsImlzVXBkYXRlUGVuZGluZyIsIl9fcmVmbGVjdGluZ1Byb3BlcnR5IiwiX19pbml0aWFsaXplIiwiX191cGRhdGVQcm9taXNlIiwiUHJvbWlzZSIsInJlcyIsImVuYWJsZVVwZGF0aW5nIiwiX19zYXZlSW5zdGFuY2VQcm9wZXJ0aWVzIiwiZm9yRWFjaCIsImkiLCJhZGRDb250cm9sbGVyIiwiY29udHJvbGxlciIsIl9fY29udHJvbGxlcnMiLCJhZGQiLCJob3N0Q29ubmVjdGVkIiwicmVtb3ZlQ29udHJvbGxlciIsImRlbGV0ZSIsImluc3RhbmNlUHJvcGVydGllcyIsInNpemUiLCJzaGFkb3dSb290IiwiYXR0YWNoU2hhZG93Iiwic2hhZG93Um9vdE9wdGlvbnMiLCJhZG9wdFN0eWxlcyIsImMiLCJfcmVxdWVzdGVkVXBkYXRlIiwiaG9zdERpc2Nvbm5lY3RlZCIsImF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayIsIl9vbGQiLCJfX3Byb3BlcnR5VG9BdHRyaWJ1dGUiLCJhdHRyVmFsdWUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJzZXRBdHRyaWJ1dGUiLCJjdG9yIiwicHJvcE5hbWUiLCJfX2RlZmF1bHRWYWx1ZXMiLCJuZXdWYWx1ZSIsImhhc0F0dHJpYnV0ZSIsIl8kY2hhbmdlUHJvcGVydHkiLCJfX2VucXVldWVVcGRhdGUiLCJpbml0aWFsaXplVmFsdWUiLCJoYXMiLCJfX3JlZmxlY3RpbmdQcm9wZXJ0aWVzIiwicmVqZWN0IiwicmVzdWx0Iiwic2NoZWR1bGVVcGRhdGUiLCJwZXJmb3JtVXBkYXRlIiwic2hvdWxkVXBkYXRlIiwid2lsbFVwZGF0ZSIsImhvc3RVcGRhdGUiLCJfX21hcmtVcGRhdGVkIiwiXyRkaWRVcGRhdGUiLCJfY2hhbmdlZFByb3BlcnRpZXMiLCJob3N0VXBkYXRlZCIsImZpcnN0VXBkYXRlZCIsInVwZGF0ZWQiLCJ1cGRhdGVDb21wbGV0ZSIsImdldFVwZGF0ZUNvbXBsZXRlIiwibW9kZSIsInJlYWN0aXZlRWxlbWVudFZlcnNpb25zIiwic3VwcG9ydHNBZG9wdGluZ1N0eWxlU2hlZXRzIiwiU2hhZG93Um9vdCIsIlNoYWR5Q1NTIiwibmF0aXZlU2hhZG93IiwiRG9jdW1lbnQiLCJDU1NTdHlsZVNoZWV0IiwiY29uc3RydWN0aW9uVG9rZW4iLCJjc3NUYWdDYWNoZSIsIkNTU1Jlc3VsdCIsImNzc1RleHQiLCJzdHJpbmdzIiwic2FmZVRva2VuIiwiRXJyb3IiLCJfc3RyaW5ncyIsInN0eWxlU2hlZXQiLCJfc3R5bGVTaGVldCIsImNhY2hlYWJsZSIsImxlbmd0aCIsInJlcGxhY2VTeW5jIiwidG9TdHJpbmciLCJ1bnNhZmVDU1MiLCJjc3MiLCJ2YWx1ZXMiLCJyZWR1Y2UiLCJhY2MiLCJpZHgiLCJ0ZXh0RnJvbUNTU1Jlc3VsdCIsImFkb3B0ZWRTdHlsZVNoZWV0cyIsIm1hcCIsInN0eWxlIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwibm9uY2UiLCJ0ZXh0Q29udGVudCIsImFwcGVuZENoaWxkIiwic2hlZXQiLCJydWxlIiwiY3NzUnVsZXMiLCJjc3NSZXN1bHRGcm9tU3R5bGVTaGVldCIsInBvbGljeSIsImNyZWF0ZVBvbGljeSIsImNyZWF0ZUhUTUwiLCJib3VuZEF0dHJpYnV0ZVN1ZmZpeCIsIm1hcmtlciIsIk1hdGgiLCJyYW5kb20iLCJ0b0ZpeGVkIiwic2xpY2UiLCJtYXJrZXJNYXRjaCIsIm5vZGVNYXJrZXIiLCJkIiwiY3JlYXRlTWFya2VyIiwiY3JlYXRlQ29tbWVudCIsImlzUHJpbWl0aXZlIiwiaXNJdGVyYWJsZSIsIml0ZXJhdG9yIiwiU1BBQ0VfQ0hBUiIsInRleHRFbmRSZWdleCIsImNvbW1lbnRFbmRSZWdleCIsImNvbW1lbnQyRW5kUmVnZXgiLCJ0YWdFbmRSZWdleCIsIlJlZ0V4cCIsInNpbmdsZVF1b3RlQXR0ckVuZFJlZ2V4IiwiZG91YmxlUXVvdGVBdHRyRW5kUmVnZXgiLCJyYXdUZXh0RWxlbWVudCIsInRhZyIsIl8kbGl0VHlwZSQiLCJodG1sIiwic3ZnIiwibWF0aG1sIiwiZm9yIiwibm90aGluZyIsInRlbXBsYXRlQ2FjaGUiLCJ3YWxrZXIiLCJjcmVhdGVUcmVlV2Fsa2VyIiwidHJ1c3RGcm9tVGVtcGxhdGVTdHJpbmciLCJ0c2EiLCJzdHJpbmdGcm9tVFNBIiwiZ2V0VGVtcGxhdGVIdG1sIiwibCIsImF0dHJOYW1lcyIsInJhd1RleHRFbmRSZWdleCIsInJlZ2V4IiwiYXR0ck5hbWUiLCJtYXRjaCIsImF0dHJOYW1lRW5kSW5kZXgiLCJsYXN0SW5kZXgiLCJleGVjIiwidGVzdCIsImVuZCIsInN0YXJ0c1dpdGgiLCJUZW1wbGF0ZSIsIm5vZGUiLCJwYXJ0cyIsIm5vZGVJbmRleCIsImF0dHJOYW1lSW5kZXgiLCJwYXJ0Q291bnQiLCJjdXJyZW50Tm9kZSIsImNvbnRlbnQiLCJ3cmFwcGVyIiwicmVwbGFjZVdpdGgiLCJjaGlsZE5vZGVzIiwibmV4dE5vZGUiLCJub2RlVHlwZSIsImhhc0F0dHJpYnV0ZXMiLCJnZXRBdHRyaWJ1dGVOYW1lcyIsImVuZHNXaXRoIiwicmVhbE5hbWUiLCJzdGF0aWNzIiwiZ2V0QXR0cmlidXRlIiwic3BsaXQiLCJtIiwiaW5kZXgiLCJQcm9wZXJ0eVBhcnQiLCJCb29sZWFuQXR0cmlidXRlUGFydCIsIkV2ZW50UGFydCIsIkF0dHJpYnV0ZVBhcnQiLCJ0YWdOYW1lIiwiYXBwZW5kIiwiZGF0YSIsImluZGV4T2YiLCJfb3B0aW9ucyIsImlubmVySFRNTCIsInJlc29sdmVEaXJlY3RpdmUiLCJwYXJ0IiwicGFyZW50IiwiYXR0cmlidXRlSW5kZXgiLCJjdXJyZW50RGlyZWN0aXZlIiwiX19kaXJlY3RpdmVzIiwiX19kaXJlY3RpdmUiLCJuZXh0RGlyZWN0aXZlQ29uc3RydWN0b3IiLCJfJGluaXRpYWxpemUiLCJfJHJlc29sdmUiLCJUZW1wbGF0ZUluc3RhbmNlIiwidGVtcGxhdGUiLCJfJHBhcnRzIiwiXyRkaXNjb25uZWN0YWJsZUNoaWxkcmVuIiwiXyR0ZW1wbGF0ZSIsIl8kcGFyZW50IiwicGFyZW50Tm9kZSIsIl8kaXNDb25uZWN0ZWQiLCJfY2xvbmUiLCJmcmFnbWVudCIsImNyZWF0aW9uU2NvcGUiLCJpbXBvcnROb2RlIiwicGFydEluZGV4IiwidGVtcGxhdGVQYXJ0IiwiQ2hpbGRQYXJ0IiwibmV4dFNpYmxpbmciLCJFbGVtZW50UGFydCIsIl91cGRhdGUiLCJfJHNldFZhbHVlIiwiX19pc0Nvbm5lY3RlZCIsInN0YXJ0Tm9kZSIsImVuZE5vZGUiLCJfJGNvbW1pdHRlZFZhbHVlIiwiXyRzdGFydE5vZGUiLCJfJGVuZE5vZGUiLCJkaXJlY3RpdmVQYXJlbnQiLCJfJGNsZWFyIiwiX2NvbW1pdFRleHQiLCJfY29tbWl0VGVtcGxhdGVSZXN1bHQiLCJfY29tbWl0Tm9kZSIsIl9jb21taXRJdGVyYWJsZSIsIl9pbnNlcnQiLCJpbnNlcnRCZWZvcmUiLCJjcmVhdGVUZXh0Tm9kZSIsIl8kZ2V0VGVtcGxhdGUiLCJoIiwiaW5zdGFuY2UiLCJpdGVtUGFydHMiLCJpdGVtUGFydCIsIml0ZW0iLCJzdGFydCIsImZyb20iLCJfJG5vdGlmeUNvbm5lY3Rpb25DaGFuZ2VkIiwibiIsInJlbW92ZSIsImVsZW1lbnQiLCJmaWxsIiwidmFsdWVJbmRleCIsIm5vQ29tbWl0IiwiY2hhbmdlIiwiX2NvbW1pdFZhbHVlIiwidG9nZ2xlQXR0cmlidXRlIiwibmV3TGlzdGVuZXIiLCJvbGRMaXN0ZW5lciIsInNob3VsZFJlbW92ZUxpc3RlbmVyIiwiY2FwdHVyZSIsIm9uY2UiLCJwYXNzaXZlIiwic2hvdWxkQWRkTGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsImhhbmRsZUV2ZW50IiwiZXZlbnQiLCJfJExIIiwiX2JvdW5kQXR0cmlidXRlU3VmZml4IiwiX21hcmtlciIsIl9tYXJrZXJNYXRjaCIsIl9IVE1MX1JFU1VMVCIsIl9nZXRUZW1wbGF0ZUh0bWwiLCJfVGVtcGxhdGVJbnN0YW5jZSIsIl9pc0l0ZXJhYmxlIiwiX3Jlc29sdmVEaXJlY3RpdmUiLCJfQ2hpbGRQYXJ0IiwiX0F0dHJpYnV0ZVBhcnQiLCJfQm9vbGVhbkF0dHJpYnV0ZVBhcnQiLCJfRXZlbnRQYXJ0IiwiX1Byb3BlcnR5UGFydCIsIl9FbGVtZW50UGFydCIsImxpdEh0bWxQb2x5ZmlsbFN1cHBvcnQiLCJsaXRIdG1sVmVyc2lvbnMiLCJjb250YWluZXIiLCJwYXJ0T3duZXJOb2RlIiwiY2hvb3NlIiwiY2FzZXMiLCJkZWZhdWx0Q2FzZSIsImZuIiwiY2xhc3NNYXAiLCJkaXJlY3RpdmUiLCJEaXJlY3RpdmUiLCJwYXJ0SW5mbyIsIlBhcnRUeXBlIiwiQVRUUklCVVRFIiwiY2xhc3NJbmZvIiwiZmlsdGVyIiwiam9pbiIsIl9wcmV2aW91c0NsYXNzZXMiLCJfc3RhdGljQ2xhc3NlcyIsImNsYXNzTGlzdCIsIkNISUxEIiwiUFJPUEVSVFkiLCJCT09MRUFOX0FUVFJJQlVURSIsIkVWRU5UIiwiRUxFTUVOVCIsIl8kbGl0RGlyZWN0aXZlJCIsIl9wYXJ0SW5mbyIsIl9fcGFydCIsIl9fYXR0cmlidXRlSW5kZXgiLCJfcGFydCIsIml0ZW1zIiwiZiIsImdlbmVyYXRlTWFwIiwibGlzdCIsInJlcGVhdCIsIl9nZXRWYWx1ZXNBbmRLZXlzIiwia2V5Rm5PclRlbXBsYXRlIiwia2V5Rm4iLCJjb250YWluZXJQYXJ0Iiwib2xkUGFydHMiLCJnZXRDb21taXR0ZWRWYWx1ZSIsIm5ld1ZhbHVlcyIsIm5ld0tleXMiLCJfaXRlbUtleXMiLCJvbGRLZXlzIiwibmV3UGFydHMiLCJuZXdLZXlUb0luZGV4TWFwIiwib2xkS2V5VG9JbmRleE1hcCIsIm9sZEhlYWQiLCJvbGRUYWlsIiwibmV3SGVhZCIsIm5ld1RhaWwiLCJzZXRDaGlsZFBhcnRWYWx1ZSIsImluc2VydFBhcnQiLCJvbGRJbmRleCIsIm9sZFBhcnQiLCJuZXdQYXJ0IiwicmVtb3ZlUGFydCIsInNldENvbW1pdHRlZFZhbHVlIiwiVGVtcGxhdGVSZXN1bHRUeXBlIiwiSFRNTCIsIlNWRyIsIk1BVEhNTCIsImlzVGVtcGxhdGVSZXN1bHQiLCJpc0NvbXBpbGVkVGVtcGxhdGVSZXN1bHQiLCJpc0RpcmVjdGl2ZVJlc3VsdCIsImdldERpcmVjdGl2ZUNsYXNzIiwiaXNTaW5nbGVFeHByZXNzaW9uIiwicmVmUGFydCIsInJlZk5vZGUiLCJvbGRQYXJlbnQiLCJwYXJlbnRDaGFuZ2VkIiwibmV3Q29ubmVjdGlvblN0YXRlIiwiXyRyZXBhcmVudERpc2Nvbm5lY3RhYmxlcyIsIlJFU0VUX1ZBTFVFIiwiY2xlYXJQYXJ0Iiwid2hlbiIsImNvbmRpdGlvbiIsInRydWVDYXNlIiwiZmFsc2VDYXNlIl0sInZlcnNpb24iOjMsImZpbGUiOiJjdXN0b21hcnkubWpzLm1hcCJ9
