<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><title>

    üëµ
    Declarative: Customary

</title>
    <style>body {text-align: center}</style>
</head><body>

<hello-customary></hello-customary>

<script type="application/json" data-customary-name="hello-customary"
        data-customary-value="numbers"
>
    [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15]
</script>

<template data-customary-name="hello-customary">
    <customary:for items="this.items" value="item">
        <p>
            <customary:if condition="item.fizz">üññ</customary:if>
            <span>
                <customary:switch value="item.special">
                    <customary:case value="fizz">Fizz</customary:case>
                    <customary:case value="buzz">Buzz</customary:case>
                    <customary:case value="fizzbuzz">Hello Customary!</customary:case>
                    <customary:case>${item.value}</customary:case>
                </customary:switch>
            </span>
            <customary:if condition="item.buzz">üëç</customary:if>
            <customary:classMap target="span" classInfo="item.classes" />
        </p>
    </customary:for>
    <style>.fizz {font-style: italic} .buzz {font-weight: bold}</style>
</template>

<script type="module">
    /**
     * @type {CustomaryDeclaration}
     */
    self['customary:hello-customary'] = {
        hooks: {
            derive: {
                'items': el => el.numbers.map(value => {
                    const fizz = value % 3 === 0;
                    const buzz = value % 5 === 0;
                    return {
                        value, fizz, buzz,
                        classes: {fizz, buzz},
                        special: fizz && buzz ? 'fizzbuzz'
                            : fizz ? 'fizz' : buzz ? 'buzz' : ''
                    };
                })
            }
        }
    };
</script>
<script type="module">import '../../customary.mjs'</script>

</body></html>
